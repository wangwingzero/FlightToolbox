---
inclusion: always
---

# Google AI 搜索规范

## 强制规则

在进行任何技术决策前，**必须**使用 `mcp_google_ai_search_google_ai_search` 工具搜索最佳实践。

## 触发场景

以下场景必须先搜索再实现：

| 场景 | 搜索示例 |
|------|----------|
| UI/UX 设计 | 「微信小程序 {组件} UI best practices 2025」 |
| 架构设计 | 「{模式} architecture patterns」 |
| 小程序性能 | 「微信小程序 {功能} 性能优化最佳实践」 |
| 分包策略 | 「微信小程序分包加载优化策略」 |
| 离线存储 | 「微信小程序离线数据缓存最佳实践」 |
| 音频处理 | 「微信小程序音频播放 {问题} 解决方案」 |
| 代码模式 | 「JavaScript ES5 {问题} recommended approach」 |
| Bug 排查 | 「{错误信息} 常见原因和解决方案」 |
| Vant 组件 | 「Vant Weapp {组件} 使用技巧」 |

## 搜索技巧

1. **使用自然语言提问**，不要堆砌关键词
2. **加上时间限定**（如 2025）获取最新信息
3. **说明具体场景**让搜索结果更精准
4. **针对小程序特性**，搜索时加上「微信小程序」限定

## 示例

```
✅ 正确：「微信小程序如何优化分包预加载策略？2025 最佳实践」
❌ 错误：「小程序 分包 预加载」

✅ 正确：「微信小程序 InnerAudioContext 在 iOS 上播放失败，有哪些常见原因？」
❌ 错误：「小程序 audio iOS bug」

✅ 正确：「微信小程序如何实现离线优先的数据缓存架构？」
❌ 错误：「小程序 离线 缓存」
```

## 工作流程

1. **开始前**：识别技术决策点 → 搜索最佳实践
2. **实现中**：遇到问题 → 搜索解决方案
3. **完成后**：回顾是否有遗漏 → 补充搜索验证

## 项目特定注意事项

- 本项目是**离线优先**的飞行工具，所有功能必须考虑无网络场景
- 使用 **glass-easel** 组件框架，搜索时注意框架兼容性
- 代码需兼容 **ES5 strict** 模式
- 音频功能需考虑 iOS 和 Android 的差异
