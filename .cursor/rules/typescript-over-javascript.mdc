---
description: 
globs: 
alwaysApply: true
---
# å¾®ä¿¡å°ç¨‹åº TypeScript ä¼˜å…ˆè§„åˆ™

## æ¦‚è¿°
åœ¨å¾®ä¿¡å°ç¨‹åºå¼€å‘ä¸­ï¼Œåº”ä¼˜å…ˆä½¿ç”¨ TypeScript (`.ts`) æ–‡ä»¶è€Œä¸æ˜¯ JavaScript (`.js`) æ–‡ä»¶ã€‚æœ¬è§„åˆ™ç¡®ä¿é¡¹ç›®çš„ç±»å‹å®‰å…¨ã€ä»£ç è´¨é‡å’Œè¯­æ³•å…¼å®¹æ€§ã€‚

## æ ¸å¿ƒåŸåˆ™

### 1. æ–‡ä»¶ç±»å‹ä¼˜å…ˆçº§
- âœ… **ä¼˜å…ˆä½¿ç”¨**ï¼š`.ts` æ–‡ä»¶
- âŒ **é¿å…ä½¿ç”¨**ï¼š`.js` æ–‡ä»¶ï¼ˆé™¤éç‰¹æ®Šæƒ…å†µï¼‰
- ğŸ”„ **è‡ªåŠ¨ç¼–è¯‘**ï¼šå¾®ä¿¡å°ç¨‹åºå¼€å‘å·¥å…·ä¼šè‡ªåŠ¨å°† `.ts` ç¼–è¯‘ä¸º `.js`

### 2. é¡µé¢æ–‡ä»¶ç»“æ„
æ¯ä¸ªé¡µé¢åº”åŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š
```
pages/page-name/
â”œâ”€â”€ index.ts      âœ… TypeScript é€»è¾‘æ–‡ä»¶
â”œâ”€â”€ index.wxml    âœ… æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ index.wxss    âœ… æ ·å¼æ–‡ä»¶
â”œâ”€â”€ index.json    âœ… é…ç½®æ–‡ä»¶
â””â”€â”€ index.js      âŒ é¿å…åˆ›å»ºï¼Œä¼šä¸ .ts å†²çª
```

## ä½¿ç”¨ TypeScript çš„ä¼˜åŠ¿

### 1. ç±»å‹å®‰å…¨
```typescript
// TypeScript - ç±»å‹æ£€æŸ¥
interface UserData {
  name: string;
  age: number;
}

const userData: UserData = {
  name: "å¼ ä¸‰",
  age: 25
};
```

### 2. ç°ä»£è¯­æ³•æ”¯æŒ
```typescript
// TypeScript ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å¤„ç†å…¼å®¹æ€§
const result = data?.property ?? defaultValue;
// ç¼–è¯‘åå˜ä¸ºå…¼å®¹çš„ JavaScript ä»£ç 
```

### 3. æ›´å¥½çš„å¼€å‘ä½“éªŒ
- æ™ºèƒ½ä»£ç è¡¥å…¨
- å®æ—¶é”™è¯¯æ£€æŸ¥
- é‡æ„æ”¯æŒ
- æ¥å£å®šä¹‰

## è¯­æ³•å…¼å®¹æ€§é—®é¢˜

### å¸¸è§é—®é¢˜ï¼šå¯é€‰é“¾æ“ä½œç¬¦
```typescript
// âŒ åœ¨å¾®ä¿¡å°ç¨‹åº JS ç¯å¢ƒä¸­å¯èƒ½ä¸æ”¯æŒ
item.property?.method()

// âœ… TypeScript ç¼–è¯‘åçš„å…¼å®¹å†™æ³•
(item.property && item.property.method())
```

### ES6+ è¯­æ³•å¤„ç†
TypeScript ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†ç°ä»£ JavaScript è¯­æ³•è½¬æ¢ä¸ºå¾®ä¿¡å°ç¨‹åºæ”¯æŒçš„ç‰ˆæœ¬ã€‚

## é¡¹ç›®é…ç½®è¦æ±‚

### 1. tsconfig.json
ç¡®ä¿é¡¹ç›®æ ¹ç›®å½•æœ‰æ­£ç¡®çš„ TypeScript é…ç½®ï¼š
```json
{
  "compilerOptions": {
    "target": "ES2018",
    "module": "CommonJS",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true
  },
  "include": [
    "miniprogram/**/*"
  ]
}
```

### 2. å¾®ä¿¡å¼€å‘è€…å·¥å…·è®¾ç½®
- å¯ç”¨ TypeScript ç¼–è¯‘
- è®¾ç½®åˆé€‚çš„ç¼–è¯‘ç›®æ ‡ç‰ˆæœ¬

## æ–‡ä»¶ç®¡ç†è§„åˆ™

### 1. é¿å…é‡å¤æ–‡ä»¶
- åŒä¸€é¡µé¢ä¸åº”åŒæ—¶å­˜åœ¨ `.js` å’Œ `.ts` æ–‡ä»¶
- å¦‚æœå­˜åœ¨å†²çªï¼Œåˆ é™¤ `.js` æ–‡ä»¶ï¼Œä¿ç•™ `.ts` æ–‡ä»¶

### 2. è¿ç§»ç°æœ‰é¡¹ç›®
```bash
# å°†ç°æœ‰ .js æ–‡ä»¶é‡å‘½åä¸º .ts
mv index.js index.ts
# ç„¶åæ·»åŠ å¿…è¦çš„ç±»å‹æ³¨è§£
```

### 3. æ–°å»ºé¡µé¢
ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·åˆ›å»ºé¡µé¢æ—¶ï¼Œé€‰æ‹© TypeScript æ¨¡æ¿ã€‚

## å¼‚å¸¸æƒ…å†µ

### ä½•æ—¶å¯ä»¥ä½¿ç”¨ .js æ–‡ä»¶
1. **ç¬¬ä¸‰æ–¹åº“æ–‡ä»¶**ï¼šå¦‚ `miniprogram_npm` ä¸­çš„ä¾èµ–
2. **æ•°æ®æ–‡ä»¶**ï¼šå¦‚ `data/abbreviations.js` ç­‰çº¯æ•°æ®å¯¼å‡º
3. **é…ç½®æ–‡ä»¶**ï¼šæŸäº›ç‰¹æ®Šé…ç½®éœ€æ±‚

### æ•°æ®æ–‡ä»¶ç¤ºä¾‹
```javascript
// data/config.js - å¯ä»¥ä½¿ç”¨ .js
module.exports = {
  apiUrl: 'https://api.example.com',
  version: '1.0.0'
};
```

## æœ€ä½³å®è·µ

### 1. ç±»å‹å®šä¹‰
```typescript
// å®šä¹‰é¡µé¢æ•°æ®ç±»å‹
interface PageData {
  searchValue: string;
  filteredList: any[];
  showActionSheet: boolean;
}

Page<PageData>({
  data: {
    searchValue: '',
    filteredList: [],
    showActionSheet: false
  }
});
```

### 2. äº‹ä»¶å¤„ç†
```typescript
// æ˜ç¡®äº‹ä»¶å‚æ•°ç±»å‹
onSearchChange(event: WechatMiniprogram.Input) {
  const value = event.detail.value;
  this.setData({ searchValue: value });
}
```

### 3. æ¥å£è°ƒç”¨
```typescript
// ç±»å‹å®‰å…¨çš„ API è°ƒç”¨
interface ApiResponse {
  code: number;
  data: any;
  message: string;
}

wx.request<ApiResponse>({
  url: '/api/data',
  success: (res) => {
    // res.data æœ‰å®Œæ•´çš„ç±»å‹æ”¯æŒ
  }
});
```

## é”™è¯¯å¤„ç†

### å¸¸è§ç¼–è¯‘é”™è¯¯
1. **è¯­æ³•é”™è¯¯**ï¼šä½¿ç”¨äº†ä¸å…¼å®¹çš„ JavaScript è¯­æ³•
2. **ç±»å‹é”™è¯¯**ï¼šç±»å‹å®šä¹‰ä¸åŒ¹é…
3. **å¯¼å…¥é”™è¯¯**ï¼šæ¨¡å—å¯¼å…¥è·¯å¾„é—®é¢˜

### è§£å†³æ–¹æ¡ˆ
1. æ£€æŸ¥ TypeScript ç¼–è¯‘å™¨è¾“å‡º
2. ä½¿ç”¨å…¼å®¹çš„è¯­æ³•æ›¿ä»£
3. æ·»åŠ å¿…è¦çš„ç±»å‹å£°æ˜

## å·¥å…·æ”¯æŒ

### 1. VS Code æ‰©å±•
- TypeScript Hero
- Auto Import - ES6, TS, JSX, TSX
- TypeScript Importer

### 2. å¾®ä¿¡å¼€å‘è€…å·¥å…·
- å¯ç”¨ TypeScript æ”¯æŒ
- é…ç½®ç¼–è¯‘é€‰é¡¹
- æŸ¥çœ‹ç¼–è¯‘è¾“å‡º

## æ€»ç»“

ä½¿ç”¨ TypeScript è€Œä¸æ˜¯ JavaScript èƒ½å¤Ÿï¼š
- ğŸ›¡ï¸ æä¾›ç±»å‹å®‰å…¨ä¿éšœ
- ğŸ”§ æ”¯æŒç°ä»£ JavaScript è¯­æ³•
- ğŸ› å‡å°‘è¿è¡Œæ—¶é”™è¯¯
- ğŸ“ æ”¹å–„å¼€å‘ä½“éªŒ
- ğŸ”„ ç¡®ä¿è¯­æ³•å…¼å®¹æ€§

éµå¾ªæ­¤è§„åˆ™å¯ä»¥é¿å…è¯­æ³•å…¼å®¹æ€§é—®é¢˜ï¼Œæé«˜ä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡ã€‚

