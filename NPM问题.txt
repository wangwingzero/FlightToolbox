# å¾®ä¿¡å°ç¨‹åºNPMåŒ…æ„å»ºé—®é¢˜è§£å†³æ–¹æ¡ˆ

## ğŸ“‹ é—®é¢˜æè¿°

åœ¨å¾®ä¿¡å°ç¨‹åºå¼€å‘è¿‡ç¨‹ä¸­ï¼Œç‚¹å‡»"æ„å»ºNPM"æ—¶å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š

```
NPM packages not found. Please confirm npm packages which need to build are belong to `miniprogramRoot` directory. Or you may edit project.config.json's `packNpmManually` and `packNpmRelationList`
```

**é”™è¯¯ä¿¡æ¯è¯¦æƒ…ï¼š**
- appid: wxf887e89fc2604637
- ideVersion: 1.06.2504010
- osType: win32-x64
- é”™è¯¯æ—¶é—´: 2025-07-20 23:13:45

## ğŸ” é—®é¢˜åˆ†æ

### æ ¹æœ¬åŸå› 
å¾®ä¿¡å°ç¨‹åºå¼€å‘å·¥å…·æœŸæœ›NPMåŒ…ä½äº`miniprogramRoot`ç›®å½•ä¸‹ï¼Œä½†é¡¹ç›®çš„package.jsonæ–‡ä»¶ä½äºé¡¹ç›®æ ¹ç›®å½•ï¼Œå¯¼è‡´è·¯å¾„ä¸åŒ¹é…ã€‚

### é¡¹ç›®ç»“æ„é—®é¢˜
```
FlightToolbox/
â”œâ”€â”€ package.json          â† NPMåŒ…åœ¨è¿™é‡Œ
â”œâ”€â”€ project.config.json   â† miniprogramRoot: "miniprogram/"
â””â”€â”€ miniprogram/          â† å°ç¨‹åºæœŸæœ›NPMåŒ…åœ¨è¿™é‡Œ
    â”œâ”€â”€ app.js
    â”œâ”€â”€ app.json
    â””â”€â”€ ...
```

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºminiprogramç›®å½•ä¸‹çš„package.json

åœ¨`miniprogram/`ç›®å½•ä¸‹åˆ›å»ºä¸“é—¨çš„package.jsonæ–‡ä»¶ï¼š

```json
{
  "name": "flight-toolbox-miniprogram",
  "version": "1.0.0",
  "description": "Flight Toolbox Mini Program Dependencies",
  "dependencies": {
    "@vant/weapp": "^1.11.6"
  }
}
```

### ç¬¬äºŒæ­¥ï¼šå®‰è£…NPMä¾èµ–

åœ¨miniprogramç›®å½•ä¸‹æ‰§è¡ŒNPMå®‰è£…ï¼š

```bash
cd miniprogram
npm install
```

**æ‰§è¡Œç»“æœï¼š**
```
added 1 package, and audited 2 packages in 7s
found 0 vulnerabilities
```

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®project.config.json

ä¿®æ”¹é¡¹ç›®é…ç½®æ–‡ä»¶ï¼Œå¯ç”¨æ‰‹åŠ¨NPMæ„å»ºæ¨¡å¼ï¼š

```json
{
  "description": "é¡¹ç›®é…ç½®æ–‡ä»¶",
  "miniprogramRoot": "miniprogram/",
  "setting": {
    "packNpmManually": true,
    "packNpmRelationList": [
      {
        "packageJsonPath": "./miniprogram/package.json",
        "miniprogramNpmDistDir": "./miniprogram/"
      }
    ]
  }
}
```

**å…³é”®é…ç½®è¯´æ˜ï¼š**
- `packNpmManually: true` - å¯ç”¨æ‰‹åŠ¨NPMæ„å»º
- `packageJsonPath` - æŒ‡å®špackage.jsonçš„è·¯å¾„
- `miniprogramNpmDistDir` - æŒ‡å®šNPMæ„å»ºè¾“å‡ºç›®å½•

### ç¬¬å››æ­¥ï¼šéªŒè¯æ–‡ä»¶ç»“æ„

ç¡®è®¤ä»¥ä¸‹æ–‡ä»¶å·²æ­£ç¡®åˆ›å»ºï¼š

```
FlightToolbox/
â”œâ”€â”€ package.json                    â† æ ¹ç›®å½•ä¾èµ–
â”œâ”€â”€ project.config.json            â† å·²æ›´æ–°é…ç½®
â””â”€â”€ miniprogram/
    â”œâ”€â”€ package.json               â† æ–°åˆ›å»º
    â”œâ”€â”€ package-lock.json          â† è‡ªåŠ¨ç”Ÿæˆ
    â”œâ”€â”€ node_modules/              â† NPMä¾èµ–
    â”‚   â””â”€â”€ @vant/weapp/
    â””â”€â”€ miniprogram_npm/           â† æ„å»ºç›®æ ‡ç›®å½•
        â””â”€â”€ @vant/weapp/
```

## âœ… éªŒè¯è§£å†³æ–¹æ¡ˆ

### åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­éªŒè¯

1. ç‚¹å‡»èœå•æ çš„"å·¥å…·" â†’ "æ„å»ºNPM"
2. åº”è¯¥çœ‹åˆ°æ„å»ºæˆåŠŸçš„æç¤º
3. `miniprogram_npm/@vant/weapp`ç›®å½•åº”è¯¥è¢«æ›´æ–°

### é¢„æœŸç»“æœ

- âœ… NPMæ„å»ºæˆåŠŸï¼Œæ— é”™è¯¯æç¤º
- âœ… `miniprogram_npm`ç›®å½•åŒ…å«æ„å»ºåçš„ä¾èµ–
- âœ… å°ç¨‹åºå¯ä»¥æ­£å¸¸ä½¿ç”¨NPMåŒ…ä¸­çš„ç»„ä»¶

## ğŸ¯ è§£å†³æ–¹æ¡ˆæ€»ç»“

### æ ¸å¿ƒæ€è·¯
å°†NPMä¾èµ–ç®¡ç†ä»é¡¹ç›®æ ¹ç›®å½•è¿ç§»åˆ°`miniprogramRoot`æŒ‡å®šçš„ç›®å½•ä¸‹ï¼Œç¡®ä¿å¾®ä¿¡å°ç¨‹åºå¼€å‘å·¥å…·èƒ½å¤Ÿæ­£ç¡®è¯†åˆ«å’Œæ„å»ºNPMåŒ…ã€‚

### å…³é”®æ­¥éª¤
1. **åˆ›å»ºç‹¬ç«‹çš„package.json** - åœ¨miniprogramç›®å½•ä¸‹
2. **å®‰è£…ä¾èµ–åˆ°æ­£ç¡®ä½ç½®** - ä½¿ç”¨`npm install`
3. **é…ç½®æ‰‹åŠ¨æ„å»ºæ¨¡å¼** - ä¿®æ”¹project.config.json
4. **éªŒè¯æ„å»ºç»“æœ** - ç¡®ä¿æ„å»ºæˆåŠŸ

### æŠ€æœ¯è¦ç‚¹
- å¾®ä¿¡å°ç¨‹åºçš„NPMæ„å»ºæœºåˆ¶è¦æ±‚åŒ…æ–‡ä»¶ä½äº`miniprogramRoot`ç›®å½•
- ä½¿ç”¨`packNpmManually`å¯ä»¥ç²¾ç¡®æ§åˆ¶NPMåŒ…çš„æ„å»ºè·¯å¾„
- åˆ†ç¦»æ ¹ç›®å½•å’Œå°ç¨‹åºç›®å½•çš„ä¾èµ–ç®¡ç†ï¼Œé¿å…è·¯å¾„å†²çª

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ä¿æŒä¸¤ä¸ªpackage.jsonåŒæ­¥** - æ ¹ç›®å½•å’Œminiprogramç›®å½•çš„ä¾èµ–å¯èƒ½ä¸åŒ
2. **ç‰ˆæœ¬æ§åˆ¶** - ç¡®ä¿package-lock.jsonå’Œnode_modulesè¢«æ­£ç¡®å¤„ç†
3. **æ„å»ºé¡ºåº** - å…ˆå®‰è£…ä¾èµ–ï¼Œå†æ‰§è¡ŒNPMæ„å»º
4. **çœŸæœºæµ‹è¯•** - å¼€å‘è€…å·¥å…·æ„å»ºæˆåŠŸåï¼Œå»ºè®®åœ¨çœŸæœºä¸ŠéªŒè¯åŠŸèƒ½

## ğŸ”„ é€‚ç”¨åœºæ™¯

æ­¤è§£å†³æ–¹æ¡ˆé€‚ç”¨äºä»¥ä¸‹æƒ…å†µï¼š
- å¾®ä¿¡å°ç¨‹åºé¡¹ç›®ä½¿ç”¨NPMåŒ…ç®¡ç†ä¾èµ–
- é¡¹ç›®é‡‡ç”¨äº†è‡ªå®šä¹‰çš„`miniprogramRoot`ç›®å½•ç»“æ„
- å‡ºç°"NPM packages not found"é”™è¯¯
- éœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹UIç»„ä»¶åº“ï¼ˆå¦‚Vant Weappï¼‰

---

**è§£å†³æ—¶é—´ï¼š** 2025-07-20  
**è§£å†³çŠ¶æ€ï¼š** âœ… å·²éªŒè¯æœ‰æ•ˆ  
**é€‚ç”¨ç‰ˆæœ¬ï¼š** å¾®ä¿¡å¼€å‘è€…å·¥å…· 1.06.2504010+
