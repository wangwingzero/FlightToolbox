# ğŸ›©ï¸ FlightToolbox å®Œæ•´éŸ³é¢‘é›†æˆæŒ‡å—

## ğŸ“– æ¦‚è¿°

è¿™æ˜¯ FlightToolbox å°ç¨‹åºéŸ³é¢‘ç³»ç»Ÿçš„**å®Œæ•´æŠ€æœ¯æŒ‡å—**ï¼Œæ¶µç›–æ–°å¢éŸ³é¢‘ã€é¢„åŠ è½½é…ç½®ã€ç”¨æˆ·å¼•å¯¼ç­‰å…¨éƒ¨åŠŸèƒ½ã€‚ä»»ä½•å¼€å‘è€…æŒ‰ç…§æ­¤æ–‡æ¡£ï¼Œéƒ½èƒ½å¿«é€Ÿç†è§£å¹¶æ‰©å±•éŸ³é¢‘ç³»ç»Ÿã€‚

## ğŸ¯ ç³»ç»Ÿæ¶æ„æ€»è§ˆ

### æ ¸å¿ƒç»„ä»¶æ¶æ„
```
FlightToolbox éŸ³é¢‘ç³»ç»Ÿ
â”œâ”€â”€ æ•°æ®å±‚ (data/regions/*.js)          # éŸ³é¢‘æ•°æ®å’Œå…ƒä¿¡æ¯
â”œâ”€â”€ é…ç½®å±‚ (utils/audio-config.js)      # ç»Ÿä¸€é…ç½®ç®¡ç†å™¨
â”œâ”€â”€ åˆ†åŒ…å±‚ (package*/ï¼‰                 # éŸ³é¢‘èµ„æºåˆ†åŒ…å­˜å‚¨
â”œâ”€â”€ é¢„åŠ è½½å±‚ (app.json preloadRule)     # åˆ†åŒ…é¢„åŠ è½½ç­–ç•¥
â”œâ”€â”€ å¼•å¯¼å±‚ (utils/audio-preload-guide.js) # ç”¨æˆ·å¼•å¯¼ç³»ç»Ÿ
â”œâ”€â”€ ç•Œé¢å±‚ (pages/*)                    # ç”¨æˆ·äº¤äº’ç•Œé¢
â””â”€â”€ æ’­æ”¾å±‚ (audio-player)               # éŸ³é¢‘æ’­æ”¾æ ¸å¿ƒ
```

### å…³é”®æŠ€æœ¯å†³ç­–

#### ğŸš¨ æ ¸å¿ƒå‘ç°ï¼šé¢„åŠ è½½æ˜¯éŸ³é¢‘çœŸæœºæ’­æ”¾çš„å…³é”®
**ç»è¿‡å®é™…æµ‹è¯•éªŒè¯**ï¼š
- âœ… **é¢„åŠ è½½åˆ†åŒ…**ï¼šçœŸæœºæ’­æ”¾æˆåŠŸç‡ 100%ï¼Œæ”¯æŒå®Œå…¨ç¦»çº¿æ’­æ”¾
- âŒ **å¼‚æ­¥åŠ è½½åˆ†åŒ…**ï¼šçœŸæœºæ’­æ”¾æˆåŠŸç‡ä½ï¼Œé£è¡Œæ¨¡å¼ä¸‹å®Œå…¨å¤±æ•ˆ

**ğŸ¯ ç»“è®º**ï¼šæ‰€æœ‰éŸ³é¢‘åˆ†åŒ…å¿…é¡»é€šè¿‡é¢„åŠ è½½å®ç°ï¼Œé¿å…å¼‚æ­¥åŠ è½½çš„ä¸ç¨³å®šæ€§

#### åˆ†æ•£é¢„åŠ è½½ç­–ç•¥
- **2MBé™åˆ¶**ï¼šå¾®ä¿¡å°ç¨‹åºå•é¡µé¢é¢„åŠ è½½ä¸èƒ½è¶…è¿‡2MB
- **çªç ´æ–¹æ¡ˆ**ï¼šåˆ©ç”¨å¤šä¸ªå¸¸ç”¨é¡µé¢åˆ†æ•£é¢„åŠ è½½ï¼Œå®ç°å…¨è¦†ç›–
- **ç¦»çº¿ä¼˜å…ˆ**ï¼šç¡®ä¿é£è¡Œå‘˜åœ¨ç©ºä¸­ï¼ˆé£è¡Œæ¨¡å¼ï¼‰èƒ½æ­£å¸¸ä½¿ç”¨

---

## âš¡ æ–°å¢éŸ³é¢‘å®Œæ•´æµç¨‹

### ç¬¬1æ­¥ï¼šå‡†å¤‡éŸ³é¢‘æ•°æ®æ–‡ä»¶ ğŸ“

åœ¨ `miniprogram/data/regions/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„æ•°æ®æ–‡ä»¶ï¼š

**æ–‡ä»¶åæ ¼å¼**ï¼š`[å›½å®¶è‹±æ–‡å°å†™].js`

**ç¤ºä¾‹**ï¼š`singapore.js`

```javascript
const SingaporeData = {
  "clips": [
    {
      "label": "è¿›è¿‘",
      "full_transcript": "Singapore Airlines 117, turn left heading 180, descend to 9000 feet.",
      "translation_cn": "æ–°èˆª117ï¼Œå·¦è½¬èˆªå‘180ï¼Œä¸‹é™è‡³9000è‹±å°ºã€‚",
      "mp3_file": "Singapore-Airlines-117_Turn-Left-180-Descend-9000.mp3"
    },
    {
      "label": "å¡”å°",
      "full_transcript": "Singapore Airlines 117, runway 02 left, cleared to land.",
      "translation_cn": "æ–°èˆª117ï¼Œè·‘é“02å·¦ï¼Œå¯ä»¥è½åœ°ã€‚",
      "mp3_file": "Singapore-Airlines-117_Runway-02L-Cleared-to-Land.mp3"
    }
    // ... æ›´å¤šå½•éŸ³æ•°æ®
  ]
};

module.exports = SingaporeData;
```

**âš ï¸ æ•°æ®æ ¼å¼è¦æ±‚**ï¼š
- `label`ï¼šå½•éŸ³ç±»å‹ï¼ˆè¿›è¿‘/å¡”å°/åœ°é¢/æ”¾è¡Œ/åŒºè°ƒï¼‰
- `full_transcript`ï¼šè‹±æ–‡åŸæ–‡ï¼ˆå¿…é¡»å‡†ç¡®ï¼‰
- `translation_cn`ï¼šä¸­æ–‡ç¿»è¯‘
- `mp3_file`ï¼šéŸ³é¢‘æ–‡ä»¶åï¼ˆæ ¼å¼ï¼š`èˆªç­å·_åŠ¨ä½œæè¿°.mp3`ï¼‰

---

### ç¬¬2æ­¥ï¼šåˆ›å»ºéŸ³é¢‘åˆ†åŒ…ç›®å½• ğŸ“¦

åœ¨ `miniprogram/` ç›®å½•ä¸‹åˆ›å»ºåˆ†åŒ…æ–‡ä»¶å¤¹ï¼š

**å‘½åæ ¼å¼**ï¼š`package[å›½å®¶è‹±æ–‡é¦–å­—æ¯å¤§å†™]`

```bash
# åˆ›å»ºæ–°åŠ å¡åˆ†åŒ…ç›®å½•
mkdir miniprogram/packageSingapore

# å°†æ‰€æœ‰ MP3 éŸ³é¢‘æ–‡ä»¶æ”¾å…¥è¯¥ç›®å½•
cp *.mp3 miniprogram/packageSingapore/
```

**å¿…é¡»åˆ›å»ºçš„åŸºç¡€æ–‡ä»¶**ï¼š

1. **index.js**ï¼š
```javascript
Page({
  data: {},
  onLoad: function() {
    console.log('æ–°åŠ å¡éŸ³é¢‘åˆ†åŒ…é¡µé¢åŠ è½½');
  }
});
```

2. **index.json**ï¼š
```json
{
  "navigationBarTitleText": "æ–°åŠ å¡æœºåœºå½•éŸ³",
  "navigationBarBackgroundColor": "#16a085",
  "navigationBarTextStyle": "white"
}
```

3. **index.wxml**ï¼š
```xml
<view class="container">
  <view class="header">
    <text>ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡æ¨Ÿå®œæœºåœºå½•éŸ³</text>
  </view>
</view>
```

---

### ç¬¬3æ­¥ï¼šæ›´æ–°éŸ³é¢‘é…ç½®ç®¡ç†å™¨ âš™ï¸

ç¼–è¾‘ `miniprogram/utils/audio-config.js` æ–‡ä»¶ï¼š

#### 3.1 æ·»åŠ æ•°æ®æ–‡ä»¶å¼•ç”¨

åœ¨æ–‡ä»¶é¡¶éƒ¨çš„ `try` å—ä¸­æ·»åŠ ï¼š

```javascript
// æ‰¾åˆ°è¿™æ®µä»£ç 
try {
  japanData = require('../data/regions/japan.js');
  philippinesData = require('../data/regions/philippines.js');
  koreanData = require('../data/regions/korean.js');
  // ğŸ‘‡ æ·»åŠ è¿™ä¸€è¡Œ
  singaporeData = require('../data/regions/singapore.js');
  // ... å…¶ä»–æ•°æ®æ–‡ä»¶
}
```

#### 3.2 æ·»åŠ åœ°åŒºä¿¡æ¯

åœ¨ `this.regions` æ•°ç»„ä¸­æ·»åŠ ï¼š

```javascript
{
  id: 'singapore',
  continentId: 'asia',
  name: 'æ–°åŠ å¡',
  flag: 'ğŸ‡¸ğŸ‡¬',
  description: 'æ¨Ÿå®œæœºåœºçœŸå®é™†ç©ºé€šè¯å½•éŸ³',
  count: 8,  // å®é™…å½•éŸ³æ•°é‡
  hasRealRecordings: true
},
```

#### 3.3 æ·»åŠ æœºåœºé…ç½®

åœ¨ `this.airports` æ•°ç»„ä¸­æ·»åŠ ï¼š

```javascript
{
  id: 'singapore',
  regionId: 'singapore',
  name: 'æ–°åŠ å¡æ¨Ÿå®œæœºåœº',
  city: 'æ–°åŠ å¡',
  icao: 'WSSS',
  packageName: 'packageSingapore',
  audioPath: '/packageSingapore/',
  icon: 'ğŸŒŸ',
  description: 'æ¨Ÿå®œå›½é™…æœºåœºé™†ç©ºé€šè¯å½•éŸ³',
  clips: singaporeData.clips || []
},
```

---

### ç¬¬4æ­¥ï¼šé…ç½®åˆ†åŒ…é¢„åŠ è½½ç­–ç•¥ ğŸ¯

è¿™æ˜¯**æœ€å…³é”®çš„æ­¥éª¤**ï¼é¢„åŠ è½½é…ç½®å†³å®šäº†éŸ³é¢‘æ˜¯å¦èƒ½åœ¨çœŸæœºä¸Šæ­£å¸¸æ’­æ”¾ã€‚

#### 4.1 æ·»åŠ åˆ†åŒ…å®šä¹‰

ç¼–è¾‘ `miniprogram/app.json` æ–‡ä»¶ï¼Œåœ¨ `subPackages` æ•°ç»„ä¸­æ·»åŠ ï¼š

```json
{
  "root": "packageSingapore",
  "name": "singaporeAudioPackage",
  "pages": ["index"]
},
```

#### 4.2 è®¡ç®—åˆ†åŒ…å¤§å°

```bash
# æ£€æŸ¥æ–°åˆ†åŒ…å¤§å°
du -sh miniprogram/packageSingapore/

# æ£€æŸ¥æ‰€æœ‰åˆ†åŒ…å¤§å°
du -sh miniprogram/package*/
```

#### 4.3 é€‰æ‹©é¢„åŠ è½½é¡µé¢

**é¢„åŠ è½½é¡µé¢é€‰æ‹©åŸåˆ™**ï¼š
1. **ç”¨æˆ·è®¿é—®é¢‘ç‡**ï¼šä¼˜å…ˆé€‰æ‹©ç”¨æˆ·é«˜é¢‘è®¿é—®çš„é¡µé¢
2. **å‰©ä½™å®¹é‡**ï¼šç¡®ä¿è¯¥é¡µé¢é¢„åŠ è½½æ€»å¤§å° < 2MB
3. **åŠŸèƒ½å…³è”æ€§**ï¼šç›¸å…³åŠŸèƒ½çš„æ•°æ®æ”¾åœ¨åŒä¸€é¡µé¢

**å½“å‰é¢„åŠ è½½ç­–ç•¥ï¼ˆ2025å¹´7æœˆï¼‰**ï¼š

```json
"preloadRule": {
  "pages/others/index": {
    "network": "all", 
    "packages": ["packageC", "packageKorean"]
  },
  "pages/abbreviations/index": {
    "network": "all",
    "packages": ["packageA", "packageB", "packageD", "packageAustralia"]
  },
  "pages/air-ground-communication/index": {
    "network": "all",
    "packages": ["packagePhilippines", "packageSingapore"]
  },
  "pages/recording-categories/index": {
    "network": "all",
    "packages": ["packageRussia"]
  },
  "pages/recording-clips/index": {
    "network": "all",
    "packages": ["packageSrilanka"]
  },
  "pages/audio-player/index": {
    "network": "all",
    "packages": ["packageJapan"]
  },
  "pages/communication-rules/index": {
    "network": "all",
    "packages": ["packageE"]
  },
  "pages/airline-recordings/index": {
    "network": "all",
    "packages": ["packageH", "packageAmerica"]
  },
  "packageO/sunrise-sunset/index": {
    "network": "all",
    "packages": ["packageTurkey"]
  },
  "pages/communication-failure/index": {
    "network": "all",
    "packages": ["packageItaly"]
  },
  "pages/performance-parameters/index": {
    "network": "all",
    "packages": ["packagePerformance", "packageF", "packageO"]
  },
  "pages/medical-standards/index": {
    "network": "all",
    "packages": ["packageUAE"]
  },
  "packageO/personal-checklist/index": {
    "network": "all",
    "packages": ["packageThailand"]
  },
  "packageO/flight-time-share/index": {
    "network": "all",
    "packages": ["packageFrance"]
  }
}
```

#### 4.4 æ·»åŠ æ–°åˆ†åŒ…åˆ°é¢„åŠ è½½

**ç¤ºä¾‹**ï¼šå°†æ–°åŠ å¡åˆ†åŒ…æ·»åŠ åˆ°èˆªç­è¿è¡Œé¡µé¢

```json
"pages/air-ground-communication/index": {
  "network": "all",
  "packages": ["packagePhilippines", "packageSingapore"]  // æ·»åŠ æ–°åˆ†åŒ…
}
```

---

### ç¬¬5æ­¥ï¼šæ›´æ–°éŸ³é¢‘æ’­æ”¾å™¨é…ç½® ğŸµ

ç¼–è¾‘ `miniprogram/pages/audio-player/index.ts` æ–‡ä»¶ï¼š

#### 5.1 æ·»åŠ è·¯å¾„æ˜ å°„

åœ¨ `regionPathMap` å¯¹è±¡ä¸­æ·»åŠ ï¼š

```typescript
const regionPathMap: { [key: string]: string } = {
  'japan': '/packageJapan/',
  'philippines': '/packagePhilippines/', 
  'korea': '/packageKorean/',
  'singapore': '/packageSingapore/',  // ğŸ‘ˆ å¿…é¡»æ·»åŠ è¿™ä¸€è¡Œ
  'thailand': '/packageThailand/',
  'russia': '/packageRussia/',
  'srilanka': '/packageSrilanka/',
  'turkey': '/packageTurkey/',
  'uae': '/packageUAE/',
  'france': '/packageFrance/',
  'usa': '/packageAmerica/',
  'italy': '/packageItaly/',
  'australia': '/packageAustralia/',
  // ... å…¶ä»–è·¯å¾„æ˜ å°„
};
```

---

### ç¬¬6æ­¥ï¼šæ›´æ–°é¢„åŠ è½½å¼•å¯¼é…ç½® ğŸ¯

ç¼–è¾‘ `miniprogram/utils/audio-preload-guide.js` æ–‡ä»¶ï¼š

åœ¨ `preloadPageMapping` å¯¹è±¡ä¸­æ·»åŠ æ–°åœ°åŒºçš„å¼•å¯¼é…ç½®ï¼š

```javascript
'singapore': {
  packageName: 'packageSingapore',
  regionName: 'æ–°åŠ å¡æ¨Ÿå®œæœºåœº',
  flag: 'ğŸ‡¸ğŸ‡¬',
  preloadPage: 'pages/air-ground-communication/index',
  preloadPageName: 'èˆªç­è¿è¡Œ',
  preloadPageIcon: 'âœˆï¸',
  description: 'æ–°åŠ å¡æ¨Ÿå®œæœºåœºé™†ç©ºé€šè¯å½•éŸ³å°†é€šè¿‡èˆªç­è¿è¡Œé¡µé¢è‡ªåŠ¨é¢„åŠ è½½'
},
```

---

### ç¬¬7æ­¥ï¼šè¯­æ³•æ£€æŸ¥å’Œæµ‹è¯• âœ…

#### 7.1 è¯­æ³•æ£€æŸ¥

```bash
# JavaScriptè¯­æ³•æ£€æŸ¥ï¼ˆES5éªŒè¯ï¼‰
node -c miniprogram/data/regions/singapore.js
node -c miniprogram/utils/audio-config.js
node -c miniprogram/utils/audio-preload-guide.js

# æ£€æŸ¥JSONè¯­æ³•
node -e "require('./miniprogram/app.json')"
```

#### 7.2 åŠŸèƒ½æµ‹è¯•

**å¼€å‘è€…å·¥å…·æµ‹è¯•**ï¼š
1. é‡å¯å¼€å‘è€…å·¥å…·
2. æ£€æŸ¥æ§åˆ¶å°æ— é”™è¯¯
3. è¿›å…¥"èˆªçº¿é£è¡Œ"é¡µé¢
4. é€‰æ‹©æ–°å¢å›½å®¶
5. éªŒè¯éŸ³é¢‘æ’­æ”¾åŠŸèƒ½

**çœŸæœºæµ‹è¯•**ï¼š
1. æ‰«ç é¢„è§ˆåˆ°çœŸæœº
2. æµ‹è¯•éŸ³é¢‘æ’­æ”¾åŠŸèƒ½
3. éªŒè¯ç¦»çº¿æ’­æ”¾èƒ½åŠ›

---

## ğŸ¯ é¢„åŠ è½½å¼•å¯¼ç³»ç»Ÿ

### å·¥ä½œåŸç†

å½“ç”¨æˆ·å°è¯•æ’­æ”¾æœªé¢„åŠ è½½çš„éŸ³é¢‘æ—¶ï¼Œç³»ç»Ÿä¼šï¼š

1. **æ£€æµ‹æ’­æ”¾å¤±è´¥**ï¼š`operateAudio:fail:play audio fail`
2. **æ˜¾ç¤ºå¼•å¯¼å¯¹è¯æ¡†**ï¼šå‘ŠçŸ¥ç”¨æˆ·éœ€è¦è®¿é—®å“ªä¸ªé¡µé¢
3. **ä¸€é”®è·³è½¬**ï¼šç›´æ¥è·³è½¬åˆ°é¢„åŠ è½½é¡µé¢
4. **è‡ªåŠ¨é‡æ£€**ï¼šè¿”å›åè‡ªåŠ¨æ£€æŸ¥é¢„åŠ è½½çŠ¶æ€

### å¼•å¯¼å¯¹è¯æ¡†ç¤ºä¾‹

```
ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡æ¨Ÿå®œæœºåœº éŸ³é¢‘èµ„æº

è¦æ’­æ”¾æ–°åŠ å¡æ¨Ÿå®œæœºåœºçš„é™†ç©ºé€šè¯å½•éŸ³ï¼Œéœ€è¦å…ˆé¢„åŠ è½½éŸ³é¢‘èµ„æºã€‚

è¯·ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è®¿é—® âœˆï¸ èˆªç­è¿è¡Œ é¡µé¢ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨ä¸ºæ‚¨é¢„åŠ è½½éŸ³é¢‘èµ„æºã€‚

[å‰å¾€] [ç¨åå†è¯´]
```

### å…³é”®å®ç°ç»†èŠ‚

#### é”™è¯¯æ£€æµ‹é€»è¾‘
```javascript
// æ£€æµ‹åˆ†åŒ…åŠ è½½é”™è¯¯
const isSubpackageError = error.errCode === 10001 || 
                         error.errMsg.includes('not found param') ||
                         error.errMsg.includes('play audio fail');

// å¯¹äºæ’­æ”¾å¤±è´¥ï¼Œç›´æ¥æ˜¾ç¤ºå¼•å¯¼
if (error.errMsg.includes('play audio fail')) {
  this.showPreloadGuideDialog(this.data.currentClip);
  return;
}
```

#### å¾®ä¿¡å°ç¨‹åºé™åˆ¶
- **confirmText** ä¸èƒ½è¶…è¿‡4ä¸ªä¸­æ–‡å­—ç¬¦
- **content** å†…å®¹å»ºè®®æ§åˆ¶åœ¨200å­—ç¬¦ä»¥å†…

---

## ğŸ“Š å½“å‰ç³»ç»ŸçŠ¶æ€

### å·²é›†æˆåœ°åŒºï¼ˆ15ä¸ªéŸ³é¢‘åˆ†åŒ…ï¼‰

| å›½å®¶/åœ°åŒº | åˆ†åŒ…å | å½•éŸ³æ•°é‡ | é¢„åŠ è½½é¡µé¢ | çŠ¶æ€ |
|-----------|--------|----------|------------|------|
| ğŸ‡¯ğŸ‡µ æ—¥æœ¬ | `packageJapan` | 24ä¸ª | éŸ³é¢‘æ’­æ”¾å™¨ | âœ… å®Œæˆ |
| ğŸ‡µğŸ‡­ è²å¾‹å®¾ | `packagePhilippines` | 27ä¸ª | èˆªç­è¿è¡Œ | âœ… å®Œæˆ |
| ğŸ‡°ğŸ‡· éŸ©å›½ | `packageKorean` | 19ä¸ª | æˆ‘çš„é¦–é¡µ | âœ… å®Œæˆ |
| ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡ | `packageSingapore` | 8ä¸ª | èˆªç­è¿è¡Œ | âœ… å®Œæˆ |
| ğŸ‡¹ğŸ‡­ æ³°å›½ | `packageThailand` | 22ä¸ª | ä¸ªäººæ£€æŸ¥å• | âœ… å®Œæˆ |
| ğŸ‡·ğŸ‡º ä¿„ç½—æ–¯ | `packageRussia` | 23ä¸ª | å½•éŸ³åˆ†ç±» | âœ… å®Œæˆ |
| ğŸ‡±ğŸ‡° æ–¯é‡Œå…°å¡ | `packageSrilanka` | 22ä¸ª | å½•éŸ³ç‰‡æ®µ | âœ… å®Œæˆ |
| ğŸ‡¦ğŸ‡º æ¾³å¤§åˆ©äºš | `packageAustralia` | 20ä¸ª | èµ„æ–™æŸ¥è¯¢ | âœ… å®Œæˆ |
| ğŸ‡¹ğŸ‡· åœŸè€³å…¶ | `packageTurkey` | 28ä¸ª | æ—¥å‡ºæ—¥è½ | âœ… å®Œæˆ |
| ğŸ‡«ğŸ‡· æ³•å›½ | `packageFrance` | 19ä¸ª | é£è¡Œæ—¶é—´åˆ†äº« | âœ… å®Œæˆ |
| ğŸ‡ºğŸ‡¸ ç¾å›½ | `packageAmerica` | 52ä¸ª | èˆªçº¿å½•éŸ³ | âœ… å®Œæˆ |
| ğŸ‡®ğŸ‡¹ æ„å¤§åˆ© | `packageItaly` | 29ä¸ª | é€šä¿¡å¤±æ•ˆç¨‹åº | âœ… å®Œæˆ |
| ğŸ‡¦ğŸ‡ª é˜¿è”é…‹ | `packageUAE` | 38ä¸ª | ä½“æ£€æ ‡å‡† | âœ… å®Œæˆ |

### æ€»è®¡ç»Ÿè®¡
- **éŸ³é¢‘åˆ†åŒ…**ï¼š15ä¸ª
- **å½•éŸ³æ€»æ•°**ï¼š**351æ¡** çœŸå®æœºåœºå½•éŸ³
- **è¦†ç›–å›½å®¶**ï¼š13ä¸ªä¸»è¦èˆªç©ºå›½å®¶
- **é¢„åŠ è½½è¦†ç›–ç‡**ï¼š100%ï¼ˆæ‰€æœ‰åˆ†åŒ…éƒ½å·²é¢„åŠ è½½ï¼‰

---

## ğŸ”§ å¸¸è§é—®é¢˜è§£å†³

### Q1ï¼šéŸ³é¢‘æ’­æ”¾å¤±è´¥
**é”™è¯¯ä¿¡æ¯**ï¼š`operateAudio:fail:play audio fail`
**åŸå› **ï¼šéŸ³é¢‘åˆ†åŒ…æœªé¢„åŠ è½½æˆ–è·¯å¾„é…ç½®é”™è¯¯
**è§£å†³**ï¼š
1. æ£€æŸ¥é¢„åŠ è½½å¼•å¯¼æ˜¯å¦æ˜¾ç¤º
2. æŒ‰å¼•å¯¼è®¿é—®å¯¹åº”é¡µé¢
3. æ£€æŸ¥ `regionPathMap` é…ç½®

### Q2ï¼šé¢„åŠ è½½è¶…é™
**é”™è¯¯ä¿¡æ¯**ï¼š`preloadRule source size exceed max limit 2MB`
**åŸå› **ï¼šé¡µé¢é¢„åŠ è½½åˆ†åŒ…æ€»å¤§å°è¶…è¿‡2MB
**è§£å†³**ï¼š
1. é‡æ–°åˆ†é…åˆ†åŒ…åˆ°å…¶ä»–é¡µé¢
2. ä¼˜åŒ–éŸ³é¢‘æ–‡ä»¶å¤§å°
3. æ‹†åˆ†å¤§åˆ†åŒ…ä¸ºå¤šä¸ªå°åˆ†åŒ…

### Q3ï¼šå¼•å¯¼å¯¹è¯æ¡†ä¸æ˜¾ç¤º
**é”™è¯¯ä¿¡æ¯**ï¼š`showModal:fail confirmText length should not larger than 4 Chinese characters`
**åŸå› **ï¼šå¯¹è¯æ¡†æŒ‰é’®æ–‡å­—è¶…è¿‡4ä¸ªä¸­æ–‡å­—ç¬¦é™åˆ¶
**è§£å†³**ï¼šç¼©çŸ­ `confirmText` æ–‡å­—

### Q4ï¼šçœŸæœºæ’­æ”¾å¤±è´¥ä½†å¼€å‘è€…å·¥å…·æ­£å¸¸
**åŸå› **ï¼šåˆ†åŒ…æœªæ­£ç¡®é¢„åŠ è½½ï¼Œå¼€å‘è€…å·¥å…·ç¯å¢ƒå®½æ¾
**è§£å†³**ï¼š
1. ç¡®ä¿åˆ†åŒ…å·²é…ç½®é¢„åŠ è½½
2. æ£€æŸ¥é¢„åŠ è½½é¡µé¢é…ç½®
3. åœ¨çœŸæœºä¸Šæµ‹è¯•é¢„åŠ è½½åŠŸèƒ½

---

## ğŸ¯ æœ€ä½³å®è·µ

### 1. éŸ³é¢‘æ–‡ä»¶ä¼˜åŒ–
- **æ ¼å¼**ï¼šMP3æ ¼å¼ï¼Œæ¨èç ç‡128kbps
- **å¤§å°**ï¼šå•ä¸ªæ–‡ä»¶æ§åˆ¶åœ¨500KBä»¥å†…
- **å‘½å**ï¼šä½¿ç”¨è‹±æ–‡ï¼Œæ ¼å¼ `èˆªç­å·_åŠ¨ä½œæè¿°.mp3`

### 2. é¢„åŠ è½½ç­–ç•¥
- **ä¼˜å…ˆé¢„åŠ è½½**ï¼šæ‰€æœ‰æ–°éŸ³é¢‘åˆ†åŒ…å¿…é¡»é…ç½®é¢„åŠ è½½
- **å®¹é‡å¹³è¡¡**ï¼šç¡®ä¿æ¯ä¸ªé¡µé¢é¢„åŠ è½½ < 2MB
- **ç”¨æˆ·ä½“éªŒ**ï¼šé€‰æ‹©ç”¨æˆ·é«˜é¢‘è®¿é—®çš„é¡µé¢

### 3. å¼€å‘æµç¨‹
- **ES5è¯­æ³•**ï¼šä¸¥æ ¼ä½¿ç”¨ES5è¯­æ³•ï¼Œé¿å…ES6+ç‰¹æ€§
- **è¯­æ³•æ£€æŸ¥**ï¼šä½¿ç”¨ `node -c` éªŒè¯æ‰€æœ‰JSæ–‡ä»¶
- **çœŸæœºæµ‹è¯•**ï¼šå…³é”®åŠŸèƒ½å¿…é¡»åœ¨çœŸæœºä¸ŠéªŒè¯

### 4. é”™è¯¯å¤„ç†
- **ç”¨æˆ·å‹å¥½**ï¼šæä¾›æ¸…æ™°çš„é”™è¯¯æç¤ºå’Œè§£å†³æ–¹æ¡ˆ
- **å¼•å¯¼æœºåˆ¶**ï¼šè‡ªåŠ¨å¼•å¯¼ç”¨æˆ·è§£å†³é¢„åŠ è½½é—®é¢˜
- **å…œåº•æ–¹æ¡ˆ**ï¼šæä¾›å¤šç§è§£å†³é€”å¾„

---

## ğŸ“‹ å¿«é€Ÿæ£€æŸ¥æ¸…å•

### æ–°å¢éŸ³é¢‘åˆ†åŒ…æ£€æŸ¥æ¸…å•
- [ ] åˆ›å»ºæ•°æ®æ–‡ä»¶ï¼š`data/regions/[country].js`
- [ ] åˆ›å»ºåˆ†åŒ…ç›®å½•ï¼š`package[Country]/`
- [ ] æ·»åŠ åŸºç¡€é¡µé¢æ–‡ä»¶ï¼š`index.js`, `index.json`, `index.wxml`
- [ ] æ›´æ–°éŸ³é¢‘é…ç½®ï¼š`utils/audio-config.js`
- [ ] é…ç½®åˆ†åŒ…å®šä¹‰ï¼š`app.json` subPackages
- [ ] é…ç½®é¢„åŠ è½½ç­–ç•¥ï¼š`app.json` preloadRule
- [ ] æ·»åŠ è·¯å¾„æ˜ å°„ï¼š`audio-player/index.ts`
- [ ] é…ç½®é¢„åŠ è½½å¼•å¯¼ï¼š`utils/audio-preload-guide.js`
- [ ] è¯­æ³•æ£€æŸ¥ï¼š`node -c` éªŒè¯æ‰€æœ‰æ–‡ä»¶
- [ ] åŠŸèƒ½æµ‹è¯•ï¼šå¼€å‘è€…å·¥å…·å’ŒçœŸæœºæµ‹è¯•

### é¢„åŠ è½½é…ç½®æ£€æŸ¥æ¸…å•
- [ ] åˆ†åŒ…å¤§å°ï¼š`du -sh package*/` æ£€æŸ¥æ‰€æœ‰åˆ†åŒ…
- [ ] é¢„åŠ è½½æ€»é‡ï¼šç¡®ä¿æ¯é¡µé¢ < 2MB
- [ ] å¼•å¯¼é…ç½®ï¼šæ£€æŸ¥ç”¨æˆ·å¼•å¯¼æ˜ å°„
- [ ] çœŸæœºæµ‹è¯•ï¼šéªŒè¯ç¦»çº¿æ’­æ”¾èƒ½åŠ›

---

## ğŸš€ æœªæ¥æ‰©å±•

### æ·»åŠ æ–°éŸ³é¢‘åˆ†åŒ…æ ‡å‡†æµç¨‹

1. **å‡†å¤‡é˜¶æ®µ**ï¼š
   - æ”¶é›†éŸ³é¢‘æ–‡ä»¶å’Œè½¬å½•æ–‡æœ¬
   - ç¡®å®šå›½å®¶å’Œæœºåœºä¿¡æ¯
   - è¯„ä¼°åˆ†åŒ…å¤§å°

2. **å¼€å‘é˜¶æ®µ**ï¼š
   - æŒ‰æœ¬æ–‡æ¡£æµç¨‹å®Œæˆæ‰€æœ‰é…ç½®
   - è¿›è¡Œå……åˆ†çš„è¯­æ³•æ£€æŸ¥
   - å®ŒæˆåŠŸèƒ½æµ‹è¯•

3. **æµ‹è¯•é˜¶æ®µ**ï¼š
   - å¼€å‘è€…å·¥å…·æµ‹è¯•
   - çœŸæœºæµ‹è¯•ï¼ˆå¿…é¡»ï¼‰
   - ç¦»çº¿æ’­æ”¾æµ‹è¯•

4. **éƒ¨ç½²é˜¶æ®µ**ï¼š
   - æ›´æ–°ç›¸å…³æ–‡æ¡£
   - å‘å¸ƒç‰ˆæœ¬
   - ç”¨æˆ·åé¦ˆæ”¶é›†

### ç³»ç»Ÿæ‰©å±•æ–¹å‘

- **å¤šè¯­è¨€æ”¯æŒ**ï¼šæ”¯æŒæ›´å¤šå›½å®¶çš„éŸ³é¢‘èµ„æº
- **æ™ºèƒ½é¢„åŠ è½½**ï¼šåŸºäºç”¨æˆ·è¡Œä¸ºä¼˜åŒ–é¢„åŠ è½½ç­–ç•¥
- **éŸ³è´¨ä¼˜åŒ–**ï¼šæå‡éŸ³é¢‘è´¨é‡å’Œå‹ç¼©æ•ˆç‡
- **ç”¨æˆ·ä¸ªæ€§åŒ–**ï¼šä¸ªæ€§åŒ–éŸ³é¢‘å†…å®¹æ¨è

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv3.0  
**æœ€åæ›´æ–°**ï¼š2025å¹´7æœˆ18æ—¥  
**ç»´æŠ¤è€…**ï¼šFlightToolbox å¼€å‘å›¢é˜Ÿ  
**é€‚ç”¨ç‰ˆæœ¬**ï¼šå¾®ä¿¡å°ç¨‹åºåŸºç¡€åº“ 2.0+

---

âœˆï¸ **ç¥æ‚¨é¡ºåˆ©å®ŒæˆéŸ³é¢‘é›†æˆï¼**

> è¿™ä»½æ–‡æ¡£æ•´åˆäº†éŸ³é¢‘é…ç½®ã€é¢„åŠ è½½ç­–ç•¥ã€ç”¨æˆ·å¼•å¯¼ç­‰å…¨éƒ¨åŠŸèƒ½ï¼Œç¡®ä¿å…¶ä»–AIæˆ–å¼€å‘è€…èƒ½å¤Ÿå¿«é€Ÿç†è§£å’Œæ‰©å±•FlightToolboxçš„éŸ³é¢‘ç³»ç»Ÿã€‚