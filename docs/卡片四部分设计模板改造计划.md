# 卡片四部分设计模板改造计划

## 📋 项目概述

基于用户提供的CCAR规章卡片设计分析，制定统一的四部分卡片设计模板，并对除驾驶舱外的所有tabbar页面进行改造。

## 🎯 设计模板定义

### 四部分卡片结构

1. **📱 Emoji图标**
   - 作用：视觉识别锚点，快速传达功能属性
   - 要求：选择与功能高度相关的emoji，增强记忆点
   - 位置：卡片顶部居中

2. **🏷️ 卡片标题**
   - 作用：明确功能定位，建立用户认知
   - 要求：简洁明了，使用专业术语
   - 位置：图标下方，主标题样式

3. **📝 功能描述**
   - 作用：详细说明功能价值和适用场景
   - 要求：一句话概括核心价值，设定正确期望
   - 位置：标题下方，副文本样式

4. **🎯 推广标识**（原数量标识扩展）
   - 作用：展示核心价值，增加吸引力和可信度
   - 类型：
     - 数量标识："1447个文件"、"330条录音"
     - 功能特色："精确计算"、"实时更新"
     - 专业认证："ICAO标准"、"官方权威"
     - 使用场景："离线可用"、"专业工具"
   - 样式：彩色标签，颜色与内容匹配
   - 位置：卡片底部

## 📊 现状分析

### 需要改造的页面

根据app.json的tabbar配置，需要改造以下4个页面：

1. **我的首页** (`pages/home/index`)
2. **资料查询** (`pages/search/index`)
3. **航班运行** (`pages/operations/index`)
4. **飞行计算** (`pages/flight-calculator/index`)

**排除页面：**
- **驾驶舱** (`pages/cockpit/index`) - 按用户要求排除

### 当前卡片结构分析

#### 1. 我的首页 (pages/home/index)

**现状：**
- 使用分组布局：飞行计算工具组、安全管理工具组、个人管理工具组
- 每个卡片包含：图标、标题、描述、van-tag标签
- 已基本符合四部分结构，但需要统一样式

**需要调整：**
- 统一图标样式为emoji
- 优化推广标识的文案和颜色
- 确保布局一致性

#### 2. 资料查询 (pages/search/index)

**现状：**
- 数据结构已包含四部分：icon、title、description、count
- 使用van-tag显示数据量
- 布局为网格式

**需要调整：**
- 图标统一为emoji格式
- 优化推广标识文案
- 调整颜色搭配

#### 3. 航班运行 (pages/operations/index)

**现状：**
- 使用TypeScript开发
- 卡片包含：图标、标题、描述、van-tag标签
- 布局为网格式

**需要调整：**
- 统一图标为emoji
- 优化推广标识
- 更新数据结构

#### 4. 飞行计算 (pages/flight-calculator/index)

**现状：**
- 使用TypeScript开发
- 分为多个功能区域：飞行速算、特殊计算等
- 卡片结构基本符合要求

**需要调整：**
- 统一图标样式
- 优化推广标识文案
- 确保一致性

## 🛠️ 实施计划

### 第一阶段：设计规范制定

#### 1.1 创建统一样式文件
- 文件：`miniprogram/styles/card-template.wxss`
- 内容：四部分卡片的统一样式定义

#### 1.2 制定图标规范
- 创建emoji图标映射表
- 确保图标与功能的一致性

#### 1.3 制定推广标识规范
- 定义标识类型和对应颜色
- 制定文案编写规范

### 第二阶段：数据结构标准化

#### 2.1 定义标准数据结构
```javascript
{
  id: 'unique-id',
  emoji: '📋',                    // 第1部分：emoji图标
  title: '功能名称',               // 第2部分：卡片标题
  description: '功能描述',         // 第3部分：功能描述
  badge: {                        // 第4部分：推广标识
    text: '1447个文件',
    type: 'primary',              // primary, success, warning, danger
    category: 'count'             // count, feature, standard, scenario
  },
  // 其他业务数据...
}
```

#### 2.2 创建数据转换工具
- 文件：`miniprogram/utils/card-data-transformer.js`
- 功能：将现有数据转换为标准格式

### 第三阶段：页面改造实施

#### 3.1 我的首页改造
**文件清单：**
- `pages/home/index.wxml` - 模板结构调整
- `pages/home/index.wxss` - 样式统一
- `pages/home/index.js` - 数据结构调整

**改造重点：**
- 统一卡片布局结构
- 优化分组标题样式
- 调整推广标识文案

#### 3.2 资料查询页面改造
**文件清单：**
- `pages/search/index.wxml` - 模板结构调整
- `pages/search/index.wxss` - 样式统一
- `pages/search/index.js` - 数据结构标准化

**改造重点：**
- 图标emoji化
- 推广标识优化
- 网格布局优化

#### 3.3 航班运行页面改造
**文件清单：**
- `pages/operations/index.wxml` - 模板结构调整
- `pages/operations/index.wxss` - 样式统一
- `pages/operations/index.ts` - 数据结构标准化

**改造重点：**
- TypeScript类型定义
- 数据结构重构
- 样式统一

#### 3.4 飞行计算页面改造
**文件清单：**
- `pages/flight-calculator/index.wxml` - 模板结构调整
- `pages/flight-calculator/index.wxss` - 样式统一
- `pages/flight-calculator/index.ts` - 数据结构标准化

**改造重点：**
- 多区域布局统一
- 功能分类优化
- 推广标识统一

### 第四阶段：质量保证

#### 4.1 样式一致性检查
- 卡片尺寸统一
- 间距规范统一
- 颜色搭配统一

#### 4.2 交互体验优化
- 点击反馈统一
- 加载状态统一
- 错误处理统一

#### 4.3 响应式适配
- 不同屏幕尺寸适配
- rpx单位使用规范
- 布局弹性处理

## 📝 详细改造方案

### 样式规范

#### 卡片基础样式
```css
.card-template {
  background: white;
  border-radius: 16rpx;
  padding: 32rpx;
  box-shadow: 0 4rpx 20rpx rgba(0,0,0,0.08);
  transition: all 0.3s ease;
}

.card-template:active {
  transform: scale(0.98);
  box-shadow: 0 2rpx 10rpx rgba(0,0,0,0.12);
}

.card-emoji {
  font-size: 48rpx;
  text-align: center;
  margin-bottom: 16rpx;
}

.card-title {
  font-size: 32rpx;
  font-weight: 600;
  color: #2d3748;
  text-align: center;
  margin-bottom: 12rpx;
}

.card-description {
  font-size: 26rpx;
  color: #718096;
  text-align: center;
  margin-bottom: 20rpx;
  line-height: 1.4;
}

.card-badge {
  text-align: center;
}
```

#### 推广标识颜色规范
```css
/* 数量标识 - 蓝色系 */
.badge-count { background: #4299e1; }

/* 功能特色 - 绿色系 */
.badge-feature { background: #48bb78; }

/* 专业认证 - 紫色系 */
.badge-standard { background: #9f7aea; }

/* 使用场景 - 橙色系 */
.badge-scenario { background: #ed8936; }

/* 安全相关 - 红色系 */
.badge-safety { background: #f56565; }
```

### 数据映射表

#### 图标映射
```javascript
const iconMapping = {
  // 资料查询类
  'ccar-regulations': '📋',
  'airport-data': '✈️',
  'authoritative-definitions': '📚',
  'abbreviations': '🔤',
  'communication-translation': '📱',
  'dangerous-goods': '☢️',
  
  // 航班运行类
  'airline-recordings': '🎧',
  'communication-rules': '📖',
  'standard-phraseology': '💬',
  'communication-failure': '📵',
  'snowtam-encoder': '❄️',
  'rodex-decoder': '🛫',
  'emergency-altitude': '🚨',
  'acr-pcr': '🛬',
  
  // 飞行计算类
  'descent': '📉',
  'crosswind': '🌪️',
  'turn': '🔄',
  'glideslope': '📐',
  'detour': '🛣️',
  'cold-temp': '🌡️',
  'gradient': '📐',
  'pitch': '⚠️'
};
```

#### 推广标识映射
```javascript
const badgeMapping = {
  // 数量类
  count: {
    type: 'primary',
    examples: ['1447个文件', '330条录音', '7405个机场']
  },
  
  // 功能特色类
  feature: {
    type: 'success',
    examples: ['精确计算', '实时更新', '智能分配']
  },
  
  // 专业认证类
  standard: {
    type: 'warning',
    examples: ['ICAO标准', '官方权威', '民航局认证']
  },
  
  // 使用场景类
  scenario: {
    type: 'info',
    examples: ['离线可用', '专业工具', '紧急使用']
  }
};
```

## 🔍 代码审查要点

### 必须检查项

1. **结构一致性**
   - ✅ 所有卡片都包含四个部分
   - ✅ 布局结构统一
   - ✅ 命名规范一致

2. **样式规范性**
   - ✅ 使用rpx响应式单位
   - ✅ 颜色搭配符合规范
   - ✅ 间距尺寸统一

3. **数据完整性**
   - ✅ 所有卡片数据包含必要字段
   - ✅ 图标映射正确
   - ✅ 推广标识合理

4. **交互体验**
   - ✅ 点击反馈统一
   - ✅ 加载状态处理
   - ✅ 错误边界处理

5. **技术规范**
   - ✅ 使用BasePage基类
   - ✅ 异步加载处理
   - ✅ 离线功能正常

## 📅 实施时间表

### 第1天：设计规范制定
- 创建样式文件
- 制定数据结构
- 建立映射表

### 第2天：我的首页改造
- 调整数据结构
- 更新模板文件
- 优化样式

### 第3天：资料查询页面改造
- 数据结构标准化
- 图标emoji化
- 样式统一

### 第4天：航班运行页面改造
- TypeScript类型定义
- 数据结构重构
- 模板更新

### 第5天：飞行计算页面改造
- 多区域统一
- 数据结构调整
- 样式优化

### 第6天：质量保证与测试
- 一致性检查
- 交互测试
- 响应式测试

## 🎯 预期效果

### 用户体验提升
1. **视觉一致性**：所有页面卡片风格统一
2. **认知效率**：四部分结构降低学习成本
3. **信息获取**：推广标识快速传达价值

### 开发效率提升
1. **代码复用**：统一的样式和组件
2. **维护便利**：标准化的数据结构
3. **扩展性强**：新功能可快速应用模板

### 品牌形象提升
1. **专业性**：统一的设计语言
2. **现代感**：符合移动端设计趋势
3. **易用性**：直观的信息层次

## 📋 验收标准

### 功能验收
- [ ] 所有tabbar页面（除驾驶舱）卡片结构统一
- [ ] 四部分设计模板完整实现
- [ ] 推广标识类型丰富且合理
- [ ] 响应式布局适配良好

### 质量验收
- [ ] 代码通过语法检查
- [ ] 样式使用rpx单位
- [ ] 离线功能正常
- [ ] 交互体验流畅

### 设计验收
- [ ] 视觉风格统一
- [ ] 颜色搭配合理
- [ ] 信息层次清晰
- [ ] 品牌形象一致

---

**文档版本：** v1.0  
**创建时间：** 2025-01-31  
**更新时间：** 2025-01-31  
**负责人：** AI设计助手  
**审核状态：** 待审核