# 详细实施计划指令

## 指令内容

```
Create detailed implementation plans without making direct code changes. You need to carefully read all the code that you are supposed to read before giving an explanation, without any guesswork. You always need to list the code files and logic that need to be reviewed and confirmed in the first step.
```

## 指令含义

**核心原则：先规划，后行动**

这个指令要求AI在进行任何代码修改之前，必须先制定详细的实施计划。这是整个开发流程的第一步，也是最关键的基础步骤。

## 适用场景

### 1. 新功能开发前的分析阶段
- 复杂功能的架构设计
- 多模块交互的系统集成
- 性能优化方案制定

### 2. 问题诊断和修复规划
- Bug分析和根因定位
- 系统故障排查
- 代码重构规划

### 3. 技术方案评估
- 多种实现方案的比较
- 技术选型决策
- 风险评估和预案制定

## 执行要求

### 必须完成的步骤

1. **代码审查清单**
   - 列出所有需要审查的代码文件
   - 明确每个文件的审查重点
   - 标识关键的业务逻辑和数据流

2. **依赖关系分析**
   - 分析模块间的依赖关系
   - 识别潜在的影响范围
   - 评估修改的复杂度

3. **详细实施步骤**
   - 制定具体的执行步骤
   - 确定每个步骤的输入输出
   - 设置验证和测试节点

### 禁止的行为

- ❌ 基于猜测进行解释
- ❌ 跳过代码审查直接修改
- ❌ 忽略依赖关系分析
- ❌ 制定模糊不清的计划

## 输出格式

### 计划文档结构

```markdown
# 实施计划：[功能/问题描述]

## 1. 代码审查清单
- [ ] 文件A：审查重点
- [ ] 文件B：审查重点
- [ ] 文件C：审查重点

## 2. 依赖关系分析
- 核心模块：[模块名]
- 影响范围：[范围描述]
- 风险评估：[风险等级]

## 3. 实施步骤
### 步骤1：[步骤名称]
- 目标：[具体目标]
- 输入：[输入要求]
- 输出：[预期输出]
- 验证：[验证方法]

### 步骤2：[步骤名称]
...

## 4. 测试验证
- 单元测试：[测试范围]
- 集成测试：[测试场景]
- 用户验收：[验收标准]
```

## 质量标准

### 计划完整性
- ✅ 覆盖所有相关代码文件
- ✅ 包含详细的步骤说明
- ✅ 明确验证和测试方法
- ✅ 考虑异常情况和回滚方案

### 可执行性
- ✅ 步骤具体可操作
- ✅ 时间估算合理
- ✅ 资源需求明确
- ✅ 风险控制到位

## 微信小程序特殊考虑

### 离线优先原则
- 确保核心功能离线可用
- 验证本地数据完整性
- 检查网络依赖合理性

### 分包管理
- 分析分包影响范围
- 考虑跨包引用限制
- 评估包大小变化

### 性能影响
- 评估启动性能影响
- 分析内存使用变化
- 考虑渲染性能优化

## 成功指标

- 📋 计划文档完整详细
- 🔍 代码审查无遗漏
- 📊 风险评估准确
- ⏱️ 时间估算合理
- 🎯 验证标准明确

## 注意事项

1. **不要急于动手**：充分的规划可以避免后续的返工
2. **保持客观**：基于事实和代码分析，避免主观臆断
3. **考虑全局**：不仅关注当前需求，还要考虑系统整体架构
4. **预留缓冲**：为不可预见的问题预留时间和资源

---

**记住：好的计划是成功的一半，详细的分析是高质量代码的基础。**