# FlightToolboxæ ¸å¿ƒå·¥å…·æ–‡ä»¶ä»£ç å®¡æŸ¥æŠ¥å‘Š

**å®¡æŸ¥æ—¥æœŸ**: 2025-10-16
**å®¡æŸ¥èŒƒå›´**: æ ¸å¿ƒå·¥å…·æ–‡ä»¶ï¼ˆ9ä¸ªæ–‡ä»¶ï¼‰
**å®¡æŸ¥äºº**: Claude Code

---

## ğŸ“‹ å®¡æŸ¥æ–‡ä»¶æ¸…å•

1. `miniprogram/utils/base-page.js` - ç»Ÿä¸€é¡µé¢åŸºç±»
2. `miniprogram/utils/ad-manager.js` - å¹¿å‘Šç®¡ç†å™¨
3. `miniprogram/utils/data-loader.js` - æ•°æ®åŠ è½½ç®¡ç†å™¨
4. `miniprogram/utils/audio-config.js` - éŸ³é¢‘é…ç½®ç®¡ç†å™¨
5. `miniprogram/utils/audio-preload-guide.js` - éŸ³é¢‘é¢„åŠ è½½å¼•å¯¼ç³»ç»Ÿ
6. `miniprogram/utils/app-config.js` - åº”ç”¨å…¨å±€é…ç½®
7. `miniprogram/utils/error-handler.js` - å…¨å±€é”™è¯¯å¤„ç†å™¨
8. `miniprogram/utils/tabbar-badge-manager.js` - TabBarå°çº¢ç‚¹ç®¡ç†
9. `miniprogram/utils/onboarding-guide.js` - ç”¨æˆ·å¼•å¯¼ç®¡ç†

---

## ğŸ”´ é«˜é£é™©é—®é¢˜ï¼ˆ15ä¸ªï¼‰

### 1. base-page.js - å†…å­˜æ³„æ¼é£é™©

#### é—®é¢˜1.1: å®šæ—¶å™¨æœªå®Œå…¨æ¸…ç† âš ï¸
**ä½ç½®**: `miniprogram/utils/base-page.js:834-837, 886-893`

**å½“å‰ä»£ç **:
```javascript
// å½“å‰ä»£ç 
if (!this.timers) {
  this.timers = [];
}
this.timers.push(timeoutId);
```

**é—®é¢˜æè¿°**:
- å®šæ—¶å™¨æ•°ç»„åªè®°å½•IDï¼Œä½†åœ¨`cleanup`ä¸­åŒæ—¶è°ƒç”¨`clearTimeout`å’Œ`clearInterval`ï¼Œå¯èƒ½å¯¼è‡´è¯¯æ“ä½œ
- `createSafeTimeout`å’Œ`createSafeInterval`å…±ç”¨åŒä¸€æ•°ç»„ï¼Œæ— æ³•åŒºåˆ†ç±»å‹

**ä¿®å¤å»ºè®®**:
```javascript
// å»ºè®®åˆ†å¼€ç®¡ç†
if (!this._timeouts) this._timeouts = [];
if (!this._intervals) this._intervals = [];

// createSafeTimeoutä¸­
this._timeouts.push(timeoutId);

// createSafeIntervalä¸­
this._intervals.push(intervalId);

// cleanupä¸­
if (this._timeouts) {
  this._timeouts.forEach(function(id) { clearTimeout(id); });
  this._timeouts = [];
}
if (this._intervals) {
  this._intervals.forEach(function(id) { clearInterval(id); });
  this._intervals = [];
}
```

**é£é™©ç­‰çº§**: ğŸ”´ é«˜é£é™©
**å½±å“èŒƒå›´**: æ‰€æœ‰ä½¿ç”¨BasePageçš„é¡µé¢
**ä¿®å¤ä¼˜å…ˆçº§**: P0ï¼ˆç«‹å³ä¿®å¤ï¼‰

---

#### é—®é¢˜1.2: ä¼ æ„Ÿå™¨ç›‘å¬å™¨å¯èƒ½é‡å¤ç»‘å®š âš ï¸
**ä½ç½®**: `miniprogram/utils/base-page.js:912-930`

**å½“å‰ä»£ç **:
```javascript
// å½“å‰ä»£ç åªåœ¨cleanupæ—¶æ¸…ç†ï¼Œä½†æ²¡æœ‰é˜²æ­¢é‡å¤ç»‘å®š
wx.offLocationChange();
wx.offCompassChange();
```

**é—®é¢˜æè¿°**:
- é¡µé¢å¯èƒ½å¤šæ¬¡è°ƒç”¨ä¼ æ„Ÿå™¨APIå¯¼è‡´ç›‘å¬å™¨ç´¯ç§¯
- ç¦»çº¿æ¨¡å¼ä¸‹GPSæƒé™ç”³è¯·å¯èƒ½æ— é™å¾ªç¯

**ä¿®å¤å»ºè®®**:
```javascript
// åœ¨onLoadæ—¶ä¹Ÿåº”è¯¥æ¸…ç†ä¸€æ¬¡
onLoad: function(options) {
  this.cleanupSensors(); // å…ˆæ¸…ç†
  this.initializeErrorHandler();
  // ...
},

cleanupSensors: function() {
  try {
    wx.offLocationChange();
    wx.offCompassChange();
    wx.offAccelerometerChange();
    wx.offGyroscopeChange();
    wx.stopLocationUpdate();
  } catch (error) {
    // é™é»˜å¤„ç†
  }
}
```

**é£é™©ç­‰çº§**: ğŸ”´ é«˜é£é™©
**å½±å“èŒƒå›´**: é©¾é©¶èˆ±ç­‰ä½¿ç”¨ä¼ æ„Ÿå™¨çš„é¡µé¢
**ä¿®å¤ä¼˜å…ˆçº§**: P0ï¼ˆç«‹å³ä¿®å¤ï¼‰

---

#### é—®é¢˜1.3: setDataé˜Ÿåˆ—å›è°ƒæœªä¿æŠ¤ âš ï¸
**ä½ç½®**: `miniprogram/utils/base-page.js:547-576`

**å½“å‰ä»£ç **:
```javascript
// è¡Œ553-555å­˜åœ¨ç±»å‹æ£€æŸ¥å†—ä½™
if (typeof callback === 'function') {  // ğŸ”§ ä¿®å¤ï¼šåŒé‡æ£€æŸ¥å‡½æ•°ç±»å‹
  callback();
}
```

**é—®é¢˜æè¿°**: è™½ç„¶æ·»åŠ äº†åŒé‡æ£€æŸ¥ï¼Œä½†å›è°ƒæ‰§è¡Œæ—¶é¡µé¢å·²é”€æ¯å¯èƒ½å¯¼è‡´undefinedé”™è¯¯

**ä¿®å¤å»ºè®®**:
```javascript
if (callback && typeof callback === 'function') {
  try {
    callback();
  } catch (e) {
    console.warn('âš ï¸ å›è°ƒæ‰§è¡Œå¼‚å¸¸ (é¡µé¢å·²é”€æ¯):', e);
  }
}
```

**é£é™©ç­‰çº§**: ğŸ”´ é«˜é£é™©
**å½±å“èŒƒå›´**: æ‰€æœ‰ä½¿ç”¨BasePageçš„é¡µé¢
**ä¿®å¤ä¼˜å…ˆçº§**: P0ï¼ˆç«‹å³ä¿®å¤ï¼‰

---

### 2. ad-manager.js - å¹¿å‘Šå®ä¾‹ç®¡ç†é£é™©

#### é—®é¢˜2.1: å¹¿å‘Šå®ä¾‹é”€æ¯å»¶è¿Ÿå¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼ âš ï¸
**ä½ç½®**: `miniprogram/utils/ad-manager.js:361-376`

**å½“å‰ä»£ç **:
```javascript
setTimeout(function() {
  try {
    videoAdInstance.destroy && videoAdInstance.destroy();
  } catch (e) {
    // é™é»˜å¤„ç†é”€æ¯é”™è¯¯
  }
}, 100); // 100mså»¶è¿Ÿé”€æ¯
```

**é—®é¢˜æè¿°**:
- å»¶è¿Ÿé”€æ¯æœŸé—´å¦‚æœé¡µé¢é¢‘ç¹åˆ‡æ¢ï¼Œä¼šç´¯ç§¯å¤šä¸ªå¾…é”€æ¯å®ä¾‹
- æ²¡æœ‰è·Ÿè¸ªå¾…é”€æ¯å®ä¾‹çš„æ•°é‡

**ä¿®å¤å»ºè®®**:
```javascript
// æ·»åŠ å¾…é”€æ¯å®ä¾‹è·Ÿè¸ª
destroyVideoAd: function() {
  if (this.videoAd) {
    // å–æ¶ˆæ‰€æœ‰å¾…é”€æ¯ä»»åŠ¡
    if (this._pendingDestroyTimers) {
      this._pendingDestroyTimers.forEach(clearTimeout);
    }
    this._pendingDestroyTimers = [];

    var videoAdInstance = this.videoAd;
    this.videoAd = null;

    var timer = setTimeout(function() {
      try {
        videoAdInstance.destroy && videoAdInstance.destroy();
      } catch (e) {}
    }, 100);

    this._pendingDestroyTimers.push(timer);
  }
}
```

**é£é™©ç­‰çº§**: ğŸ”´ é«˜é£é™©
**å½±å“èŒƒå›´**: æ‰€æœ‰æ˜¾ç¤ºå¹¿å‘Šçš„é¡µé¢
**ä¿®å¤ä¼˜å…ˆçº§**: P0ï¼ˆç«‹å³ä¿®å¤ï¼‰

---

#### é—®é¢˜2.2: å¹¿å‘Šäº‹ä»¶ç›‘å¬å™¨æœªå®Œå…¨æ¸…ç† âš ï¸
**ä½ç½®**: `miniprogram/utils/ad-manager.js:260-263`

**å½“å‰ä»£ç **:
```javascript
this.videoAd.offLoad && this.videoAd.offLoad();
this.videoAd.offError && this.videoAd.offError();
this.videoAd.offClose && this.videoAd.offClose();
```

**é—®é¢˜æè¿°**: `off`æ–¹æ³•ä¸å¸¦å‚æ•°ä¼šç§»é™¤æ‰€æœ‰ç›‘å¬å™¨ï¼Œä½†å¦‚æœä¹‹å‰ç»‘å®šäº†å…¶ä»–ç›‘å¬å™¨ä¼šè¢«è¯¯åˆ 

**ä¿®å¤å»ºè®®**:
```javascript
// ä½¿ç”¨å‘½åå‡½æ•°å¹¶ç²¾ç¡®ç§»é™¤
if (this._onAdLoadHandler) {
  this.videoAd.offLoad(this._onAdLoadHandler);
  this._onAdLoadHandler = null;
}
if (this._onAdErrorHandler) {
  this.videoAd.offError(this._onAdErrorHandler);
  this._onAdErrorHandler = null;
}
if (this._onAdCloseHandler) {
  this.videoAd.offClose(this._onAdCloseHandler);
  this._onAdCloseHandler = null;
}
```

**é£é™©ç­‰çº§**: ğŸ”´ é«˜é£é™©
**å½±å“èŒƒå›´**: å¹¿å‘Šç³»ç»Ÿ
**ä¿®å¤ä¼˜å…ˆçº§**: P0ï¼ˆç«‹å³ä¿®å¤ï¼‰

---

#### é—®é¢˜2.3: å¹¿å‘ŠåŠ è½½è¶…æ—¶å¤„ç†å¯èƒ½é—æ¼æ¸…ç† âš ï¸
**ä½ç½®**: `miniprogram/utils/ad-manager.js:664-680`

**å½“å‰ä»£ç **:
```javascript
self.loadingTimeout = setTimeout(function() {
  // ...
  self.onAdSkipped();
}, 15000);
```

**é—®é¢˜æè¿°**:
- å¦‚æœåœ¨è¶…æ—¶å‰é¡µé¢é”€æ¯ï¼Œå®šæ—¶å™¨ä»ä¼šè§¦å‘
- `onAdSkipped`ä¼šä¿®æ”¹å­˜å‚¨çŠ¶æ€ï¼Œå¯èƒ½å½±å“å…¶ä»–é¡µé¢

**ä¿®å¤å»ºè®®**:
```javascript
self.loadingTimeout = setTimeout(function() {
  // æ£€æŸ¥å®ä¾‹çŠ¶æ€
  if (!self.videoAd) {
    console.log('å¹¿å‘Šå®ä¾‹å·²é”€æ¯ï¼Œå–æ¶ˆè¶…æ—¶å¤„ç†');
    return;
  }
  wx.hideLoading();
  self.isShowingAd = false;
  // ...
}, 15000);
```

**é£é™©ç­‰çº§**: ğŸ”´ é«˜é£é™©
**å½±å“èŒƒå›´**: å¹¿å‘Šç³»ç»Ÿ
**ä¿®å¤ä¼˜å…ˆçº§**: P0ï¼ˆç«‹å³ä¿®å¤ï¼‰

---

### 3. data-loader.js - å¹¶å‘åŠ è½½å†²çª

#### é—®é¢˜3.1: åŠ è½½çŠ¶æ€é”®å†²çªé£é™© âš ï¸
**ä½ç½®**: `miniprogram/utils/data-loader.js:42-46`

**å½“å‰ä»£ç **:
```javascript
var loadingStateKey = context + '_' + (cacheKey || 'default');
if (this.loadingStates[loadingStateKey]) {
  console.log('â³ ' + context + 'æ­£åœ¨è¿›è¡Œä¸­ï¼Œè·³è¿‡é‡å¤è¯·æ±‚');
  return this.loadingStates[loadingStateKey];
}
```

**é—®é¢˜æè¿°**:
- ä¸åŒé¡µé¢ä½¿ç”¨ç›¸åŒ`context`ä¼šå…±äº«åŠ è½½çŠ¶æ€
- è¿”å›æ—§Promiseå¯èƒ½å¯¼è‡´æ–°é¡µé¢ç­‰å¾…æ—§é¡µé¢çš„åŠ è½½

**ä¿®å¤å»ºè®®**:
```javascript
// æ·»åŠ é¡µé¢å®ä¾‹IDåŒºåˆ†
loadWithLoading: function(pageInstance, loadFunction, options) {
  var pageId = pageInstance.__pageId || (pageInstance.__pageId = Date.now() + Math.random());
  var loadingStateKey = pageId + '_' + context + '_' + (cacheKey || 'default');
  // ...
}
```

**é£é™©ç­‰çº§**: ğŸ”´ é«˜é£é™©
**å½±å“èŒƒå›´**: æ‰€æœ‰æ•°æ®åŠ è½½åœºæ™¯
**ä¿®å¤ä¼˜å…ˆçº§**: P0ï¼ˆç«‹å³ä¿®å¤ï¼‰

---

#### é—®é¢˜3.2: åˆ†åŒ…æ£€æµ‹æ–¹æ³•ä¸å¯é  âš ï¸
**ä½ç½®**: `miniprogram/utils/data-loader.js:180-190`

**å½“å‰ä»£ç **:
```javascript
try {
  var testPath = '../' + packageName + '/index.js';
  require(testPath);
  resolve(true);
} catch (error) {
  resolve(false);
}
```

**é—®é¢˜æè¿°**:
- ç›¸å¯¹è·¯å¾„åœ¨ä¸åŒè°ƒç”¨ä½ç½®å¯èƒ½å¤±è´¥
- `require`å¤±è´¥ä¸ä»£è¡¨åˆ†åŒ…æœªåŠ è½½ï¼Œå¯èƒ½åªæ˜¯index.jsä¸å­˜åœ¨

**ä¿®å¤å»ºè®®**:
```javascript
checkSubpackagePreloaded: function(packageName) {
  return new Promise(function(resolve) {
    // ä½¿ç”¨åˆ†åŒ…å†…çš„å·²çŸ¥æ•°æ®æ–‡ä»¶æµ‹è¯•
    var knownPaths = {
      'packageA': '../../packageA/data.js',
      'packageB': '../../packageB/data.js'
      // ...æ ¹æ®å®é™…åˆ†åŒ…é…ç½®
    };

    var testPath = knownPaths[packageName];
    if (!testPath) {
      resolve(false);
      return;
    }

    try {
      require(testPath);
      resolve(true);
    } catch (error) {
      resolve(false);
    }
  });
}
```

**é£é™©ç­‰çº§**: ğŸ”´ é«˜é£é™©
**å½±å“èŒƒå›´**: åˆ†åŒ…é¢„åŠ è½½ç³»ç»Ÿ
**ä¿®å¤ä¼˜å…ˆçº§**: P0ï¼ˆç«‹å³ä¿®å¤ï¼‰

---

### 4. audio-config.js - ES6è¯­æ³•å…¼å®¹æ€§é—®é¢˜

#### é—®é¢˜4.1: ä½¿ç”¨ES6 classè¯­æ³• âš ï¸
**ä½ç½®**: `miniprogram/utils/audio-config.js:41-482`

**å½“å‰ä»£ç **:
```javascript
class AudioConfigManager {
  constructor() {
    // ...
  }
  getContinents() {
    return this.continents;
  }
}
```

**é—®é¢˜æè¿°**:
- é¡¹ç›®æ˜ç¡®è¦æ±‚"ä¸¥æ ¼éµå¾ªES5è¯­æ³•"
- ES6 classåœ¨æ—§ç‰ˆæœ¬å¾®ä¿¡å¯èƒ½ä¸æ”¯æŒ

**ä¿®å¤å»ºè®®**:
```javascript
// æ”¹ä¸ºES5æ„é€ å‡½æ•°
function AudioConfigManager() {
  this.continents = [
    // ...
  ];
}

AudioConfigManager.prototype.getContinents = function() {
  return this.continents;
};
```

**é£é™©ç­‰çº§**: ğŸ”´ é«˜é£é™©
**å½±å“èŒƒå›´**: éŸ³é¢‘é…ç½®ç³»ç»Ÿ
**ä¿®å¤ä¼˜å…ˆçº§**: P0ï¼ˆç«‹å³ä¿®å¤ï¼‰

---

#### é—®é¢˜4.2: ä½¿ç”¨ç®­å¤´å‡½æ•° âš ï¸
**ä½ç½®**: `miniprogram/utils/audio-config.js:430`

**å½“å‰ä»£ç **:
```javascript
getRegionsByContinent(continentId) {
  return this.regions.filter(region => region.continentId === continentId);
}
```

**ä¿®å¤å»ºè®®**:
```javascript
AudioConfigManager.prototype.getRegionsByContinent = function(continentId) {
  var self = this;
  return this.regions.filter(function(region) {
    return region.continentId === continentId;
  });
};
```

**é£é™©ç­‰çº§**: ğŸ”´ é«˜é£é™©
**å½±å“èŒƒå›´**: éŸ³é¢‘é…ç½®ç³»ç»Ÿ
**ä¿®å¤ä¼˜å…ˆçº§**: P0ï¼ˆç«‹å³ä¿®å¤ï¼‰

---

### 5. error-handler.js - åˆ†åŒ…åŠ è½½ç­–ç•¥ç¼ºé™·

#### é—®é¢˜5.1: åˆ†åŒ…åˆ—è¡¨ç¡¬ç¼–ç ä¸”ä¸å®Œæ•´ âš ï¸
**ä½ç½®**: `miniprogram/utils/error-handler.js:420, 452, 498`

**å½“å‰ä»£ç **:
```javascript
var allPackages = ['packageA', 'packageB', 'packageC', 'packageD', 'packageCCAR', 'packageF', 'packageG', 'packageH'];
```

**é—®é¢˜æè¿°**:
- ç¼ºå°‘éŸ³é¢‘åˆ†åŒ…(packageJapan, packagePhilippinesç­‰13ä¸ª)
- ç¼ºå°‘æ–°å¢çš„åŠŸèƒ½åˆ†åŒ…(packageCompetence, packageMedical)
- ç¡¬ç¼–ç å¯¼è‡´åˆ†åŒ…å˜æ›´æ—¶å®¹æ˜“é—æ¼

**ä¿®å¤å»ºè®®**:
```javascript
// ä»app.jsonåŠ¨æ€è¯»å–æˆ–ç»´æŠ¤å®Œæ•´åˆ—è¡¨
var ALL_PACKAGES = [
  // åŠŸèƒ½åˆ†åŒ…
  'packageA', 'packageB', 'packageC', 'packageD',
  'packageF', 'packageG', 'packageH', 'packagePerformance',
  'packageCCAR', 'packageIOSA', 'packageO',
  'packageCompetence', 'packageMedical',
  // éŸ³é¢‘åˆ†åŒ…
  'packageJapan', 'packagePhilippines', 'packageKorean',
  'packageSingapore', 'packageThailand', 'packageRussia',
  'packageSrilanka', 'packageAustralia', 'packageTurkey',
  'packageFrance', 'packageAmerica', 'packageItaly', 'packageUAE'
];
```

**é£é™©ç­‰çº§**: ğŸ”´ é«˜é£é™©
**å½±å“èŒƒå›´**: åˆ†åŒ…åŠ è½½ç³»ç»Ÿ
**ä¿®å¤ä¼˜å…ˆçº§**: P0ï¼ˆç«‹å³ä¿®å¤ï¼‰

---

## ğŸŸ¡ ä¸­é£é™©é—®é¢˜ï¼ˆ10ä¸ªï¼‰

### 1. base-page.js - æ€§èƒ½ä¼˜åŒ–ç©ºé—´

#### é—®é¢˜1.1: setDataé˜Ÿåˆ—æ‰¹å¤„ç†é€»è¾‘å¤æ‚
**ä½ç½®**: `miniprogram/utils/base-page.js:535-589`

**é—®é¢˜æè¿°**: å¤šå±‚åµŒå¥—åˆ¤æ–­å½±å“å¯è¯»æ€§ï¼Œæ‰¹å¤„ç†å¤§å°è®¡ç®—å¯èƒ½ä¸é€‚åˆæ‰€æœ‰åœºæ™¯

**å»ºè®®**: æ·»åŠ æ€§èƒ½ç›‘æ§ï¼Œæ ¹æ®å®é™…æ•°æ®åŠ¨æ€è°ƒæ•´æ‰¹å¤„ç†ç­–ç•¥

**é£é™©ç­‰çº§**: ğŸŸ¡ ä¸­é£é™©
**ä¿®å¤ä¼˜å…ˆçº§**: P1ï¼ˆæœ¬å‘¨å®Œæˆï¼‰

---

#### é—®é¢˜1.2: æ•°æ®æ¸…ç†è§„åˆ™ä¸ä¸€è‡´
**ä½ç½®**: `miniprogram/utils/base-page.js:705-755`

**å½“å‰ä»£ç **:
```javascript
// GPSæ•°æ®ä¿ç•™nullï¼Œå…¶ä»–è½¬ä¸ºé»˜è®¤å€¼
if (key === 'speed' || key === 'altitude') {
  cleanData[key] = null;
} else {
  cleanData[key] = '';
}
```

**å»ºè®®**: ç»Ÿä¸€æ•°æ®æ¸…ç†è§„åˆ™ï¼Œæˆ–æä¾›é…ç½®é¡¹è®©é¡µé¢è‡ªå®šä¹‰

**é£é™©ç­‰çº§**: ğŸŸ¡ ä¸­é£é™©
**ä¿®å¤ä¼˜å…ˆçº§**: P1ï¼ˆæœ¬å‘¨å®Œæˆï¼‰

---

### 2. ad-manager.js - ç½‘ç»œæ£€æµ‹ç­–ç•¥

#### é—®é¢˜2.1: ç¦»çº¿æ£€æµ‹é€»è¾‘å†—ä½™
**ä½ç½®**: `miniprogram/utils/ad-manager.js:146-177`

**é—®é¢˜æè¿°**: `initNetworkMonitor`å’Œ`checkNetworkStatus`åŠŸèƒ½é‡å¤ï¼Œç¼“å­˜çš„ç½‘ç»œçŠ¶æ€å¯èƒ½è¿‡æœŸ

**ä¿®å¤å»ºè®®**:
```javascript
// ç»Ÿä¸€ä½¿ç”¨å®æ—¶æ£€æµ‹
checkNetworkStatus: function() {
  var self = this;
  return new Promise(function(resolve) {
    wx.getNetworkType({
      success: function(res) {
        self.isOnline = res.networkType !== 'none';
        self._lastNetworkCheck = Date.now();
        resolve(self.isOnline);
      },
      fail: function() {
        // 5ç§’å†…ä½¿ç”¨ç¼“å­˜ï¼Œè¶…æ—¶å¼ºåˆ¶è§†ä¸ºåœ¨çº¿
        var cacheValid = Date.now() - (self._lastNetworkCheck || 0) < 5000;
        resolve(cacheValid ? self.isOnline : true);
      }
    });
  });
}
```

**é£é™©ç­‰çº§**: ğŸŸ¡ ä¸­é£é™©
**ä¿®å¤ä¼˜å…ˆçº§**: P1ï¼ˆæœ¬å‘¨å®Œæˆï¼‰

---

#### é—®é¢˜2.2: å¹¿å‘Šä½è½®æ¢æœªè€ƒè™‘å¤±è´¥ç‡
**ä½ç½®**: `miniprogram/utils/ad-manager.js:242-252`

**é—®é¢˜æè¿°**: ç®€å•æŒ‰ç´¢å¼•é€’å¢ï¼Œæœªè®°å½•å„å¹¿å‘Šä½çš„æˆåŠŸç‡ï¼Œå¤±è´¥çš„å¹¿å‘Šä½ä»ä¼šè¢«åå¤å°è¯•

**å»ºè®®**: ç»´æŠ¤å¹¿å‘Šä½è´¨é‡è¯„åˆ†ï¼Œä¼˜å…ˆä½¿ç”¨æˆåŠŸç‡é«˜çš„

**é£é™©ç­‰çº§**: ğŸŸ¡ ä¸­é£é™©
**ä¿®å¤ä¼˜å…ˆçº§**: P2ï¼ˆè¿­ä»£ä¼˜åŒ–ï¼‰

---

### 3. data-loader.js - ç¼“å­˜ç­–ç•¥ç®€é™‹

#### é—®é¢˜3.1: ç¼ºå°‘ç¼“å­˜è¿‡æœŸæœºåˆ¶
**ä½ç½®**: `miniprogram/utils/data-loader.js:14, 32-39`

**å½“å‰ä»£ç **:
```javascript
this.cache = {};
// ç¼“å­˜æ°¸ä¹…æœ‰æ•ˆ
if (enableCache && cacheKey && this.cache[cacheKey]) {
  return Promise.resolve(this.cache[cacheKey]);
}
```

**ä¿®å¤å»ºè®®**:
```javascript
function DataLoader() {
  this.cache = {}; // { key: { data, timestamp } }
  this.cacheTTL = 5 * 60 * 1000; // 5åˆ†é’Ÿ
}

DataLoader.prototype.getCachedData = function(cacheKey) {
  var cached = this.cache[cacheKey];
  if (!cached) return null;

  if (Date.now() - cached.timestamp > this.cacheTTL) {
    delete this.cache[cacheKey];
    return null;
  }
  return cached.data;
};
```

**é£é™©ç­‰çº§**: ğŸŸ¡ ä¸­é£é™©
**ä¿®å¤ä¼˜å…ˆçº§**: P2ï¼ˆè¿­ä»£ä¼˜åŒ–ï¼‰

---

### 4. audio-preload-guide.js - å¼•å¯¼å¼¹çª—æ—¶æœºé—®é¢˜

#### é—®é¢˜4.1: å»¶è¿Ÿæ˜¾ç¤ºå¯¹è¯æ¡†å¯èƒ½è¢«æ‰“æ–­
**ä½ç½®**: `miniprogram/utils/audio-preload-guide.js:378-405`

**å½“å‰ä»£ç **:
```javascript
setTimeout(function() {
  wx.showModal({
    // ...
  });
}, 500);
```

**é—®é¢˜æè¿°**: 500mså»¶è¿ŸæœŸé—´ç”¨æˆ·å¯èƒ½ç¦»å¼€é¡µé¢

**ä¿®å¤å»ºè®®**:
```javascript
// æ£€æŸ¥é¡µé¢çŠ¶æ€
setTimeout(function() {
  var pages = getCurrentPages();
  if (pages.length === 0) return;

  wx.showModal({ /* ... */ });
}, 500);
```

**é£é™©ç­‰çº§**: ğŸŸ¡ ä¸­é£é™©
**ä¿®å¤ä¼˜å…ˆçº§**: P1ï¼ˆæœ¬å‘¨å®Œæˆï¼‰

---

#### é—®é¢˜4.2: é¢„åŠ è½½çŠ¶æ€å­˜å‚¨æœªåŠ å¯†
**ä½ç½®**: `miniprogram/utils/audio-preload-guide.js:148`

**å½“å‰ä»£ç **:
```javascript
var preloadStatus = wx.getStorageSync('flight_toolbox_audio_preload_status');
```

**å»ºè®®**: è™½ç„¶ä¸æ¶‰åŠæ•æ„Ÿä¿¡æ¯ï¼Œä½†å»ºè®®æ·»åŠ æ•°æ®æ ¡éªŒé˜²æ­¢ç¯¡æ”¹

**é£é™©ç­‰çº§**: ğŸŸ¡ ä¸­é£é™©
**ä¿®å¤ä¼˜å…ˆçº§**: P2ï¼ˆè¿­ä»£ä¼˜åŒ–ï¼‰

---

### 5. error-handler.js - æ—¥å¿—ç³»ç»Ÿè„†å¼±

#### é—®é¢˜5.1: æ—¥å¿—å¤‡ä»½å¯èƒ½è¶…é™
**ä½ç½®**: `miniprogram/utils/error-handler.js:183-202`

**å½“å‰ä»£ç **:
```javascript
if (logBackup.length > 100) {
  logBackup = logBackup.slice(-100);
}
wx.setStorageSync('miniprogram_log_backup', logBackup);
```

**é—®é¢˜æè¿°**:
- æœªæ£€æŸ¥å­˜å‚¨ç©ºé—´é™åˆ¶(å¾®ä¿¡é™åˆ¶10MB)
- JSONåºåˆ—åŒ–å¯èƒ½å¤±è´¥

**ä¿®å¤å»ºè®®**:
```javascript
try {
  var logString = JSON.stringify(logBackup);
  if (logString.length > 500 * 1024) { // é™åˆ¶500KB
    logBackup = logBackup.slice(-50); // å‡åŠ
  }
  wx.setStorageSync('miniprogram_log_backup', logBackup);
} catch (error) {
  // åºåˆ—åŒ–å¤±è´¥ï¼Œæ¸…ç©ºæ—¥å¿—
  wx.setStorageSync('miniprogram_log_backup', []);
}
```

**é£é™©ç­‰çº§**: ğŸŸ¡ ä¸­é£é™©
**ä¿®å¤ä¼˜å…ˆçº§**: P1ï¼ˆæœ¬å‘¨å®Œæˆï¼‰

---

## ğŸŸ¢ ä½é£é™©é—®é¢˜ï¼ˆ10ä¸ªï¼‰

### 1. base-page.js - ä»£ç è§„èŒƒ

#### é—®é¢˜1.1: é­”æ³•æ•°å­—è¿‡å¤š
**ä½ç½®**: `miniprogram/utils/base-page.js:426-432`

**å½“å‰ä»£ç **:
```javascript
var throttleIntervals = {
  'gps': 500,
  'sensor': 300,
  'debug': 1000
};
```

**å»ºè®®**: æå–ä¸ºé…ç½®å¸¸é‡

**é£é™©ç­‰çº§**: ğŸŸ¢ ä½é£é™©
**ä¿®å¤ä¼˜å…ˆçº§**: P3ï¼ˆåç»­æ”¹è¿›ï¼‰

---

#### é—®é¢˜1.2: æ—¥å¿—è¾“å‡ºè¿‡äºé¢‘ç¹

**é—®é¢˜æè¿°**: ç”Ÿäº§ç¯å¢ƒåº”è¯¥å…³é—­debugæ—¥å¿—

**å»ºè®®**: æ·»åŠ æ—¥å¿—çº§åˆ«æ§åˆ¶

**é£é™©ç­‰çº§**: ğŸŸ¢ ä½é£é™©
**ä¿®å¤ä¼˜å…ˆçº§**: P3ï¼ˆåç»­æ”¹è¿›ï¼‰

---

### 2. ad-manager.js - ç”¨æˆ·ä½“éªŒ

#### é—®é¢˜2.1: é”™è¯¯æç¤ºæ–‡æ¡ˆä¸å‹å¥½
**ä½ç½®**: `miniprogram/utils/ad-manager.js:928-939`

**å½“å‰ä»£ç **:
```javascript
title: 'å¹¿å‘Šæš‚æ—¶æ— æ³•åŠ è½½\nè¯·ç¨åé‡è¯•æˆ–æ£€æŸ¥ç½‘ç»œ'
```

**å»ºè®®**: æ ¹æ®é”™è¯¯ç±»å‹æä¾›æ›´å…·ä½“çš„æç¤º

**é£é™©ç­‰çº§**: ğŸŸ¢ ä½é£é™©
**ä¿®å¤ä¼˜å…ˆçº§**: P3ï¼ˆåç»­æ”¹è¿›ï¼‰

---

#### é—®é¢˜2.2: å¼€å‘ç¯å¢ƒåˆ¤æ–­ä¸å‡†ç¡®
**ä½ç½®**: `miniprogram/utils/ad-manager.js:923-924`

**å½“å‰ä»£ç **:
```javascript
var isDevTool = typeof __wxConfig !== 'undefined' &&
                (__wxConfig.debug || __wxConfig.platform === 'devtools');
```

**å»ºè®®**: ä½¿ç”¨å®˜æ–¹API `wx.getAccountInfoSync()`

**é£é™©ç­‰çº§**: ğŸŸ¢ ä½é£é™©
**ä¿®å¤ä¼˜å…ˆçº§**: P3ï¼ˆåç»­æ”¹è¿›ï¼‰

---

### 3. app-config.js - é…ç½®ç®¡ç†ç®€é™‹

#### é—®é¢˜3.1: ç¼ºå°‘ç¯å¢ƒåŒºåˆ†

**å½“å‰ä»£ç **:
```javascript
var AppConfig = {
  ad: {
    rewardVideoIds: [/* ... */],
    useTestAd: false
  }
};
```

**ä¿®å¤å»ºè®®**:
```javascript
var ENV = 'production'; // æˆ–ä»å…¨å±€é…ç½®è¯»å–

var AppConfig = {
  ad: {
    rewardVideoIds: ENV === 'production' ? [/* ç”Ÿäº§ID */] : [/* æµ‹è¯•ID */],
    useTestAd: ENV !== 'production'
  }
};
```

**é£é™©ç­‰çº§**: ğŸŸ¢ ä½é£é™©
**ä¿®å¤ä¼˜å…ˆçº§**: P3ï¼ˆåç»­æ”¹è¿›ï¼‰

---

### 4. tabbar-badge-manager.js - å­˜å‚¨æ•ˆç‡

#### é—®é¢˜4.1: æ¯æ¬¡æ ‡è®°éƒ½å†™å­˜å‚¨
**ä½ç½®**: `miniprogram/utils/tabbar-badge-manager.js:35-54`

**å½“å‰ä»£ç **:
```javascript
function markPageVisited(pagePath) {
  // ...
  wx.setStorageSync(STORAGE_KEY, visited);
  // ...
}
```

**ä¿®å¤å»ºè®®**:
```javascript
var _updateTimer = null;
function markPageVisited(pagePath) {
  // å†…å­˜æ›´æ–°
  if (_updateTimer) clearTimeout(_updateTimer);
  _updateTimer = setTimeout(function() {
    wx.setStorageSync(STORAGE_KEY, visited);
  }, 1000);
}
```

**é£é™©ç­‰çº§**: ğŸŸ¢ ä½é£é™©
**ä¿®å¤ä¼˜å…ˆçº§**: P3ï¼ˆåç»­æ”¹è¿›ï¼‰

---

### 5. onboarding-guide.js - åŠŸèƒ½å•è–„

#### é—®é¢˜5.1: ä»…æ”¯æŒTabBarå¼•å¯¼

**é—®é¢˜æè¿°**: ç¼ºå°‘åŠŸèƒ½æ¨¡å—è¯¦ç»†å¼•å¯¼ï¼Œç¼ºå°‘äº¤äº’å¼æ•™ç¨‹

**å»ºè®®**: æ‰©å±•ä¸ºå®Œæ•´çš„æ–°æ‰‹å¼•å¯¼ç³»ç»Ÿ

**é£é™©ç­‰çº§**: ğŸŸ¢ ä½é£é™©
**ä¿®å¤ä¼˜å…ˆçº§**: P3ï¼ˆåç»­æ”¹è¿›ï¼‰

---

## ğŸ’¡ ä¼˜åŒ–å»ºè®®

### 1. ç»Ÿä¸€é”™è¯¯å¤„ç†æœºåˆ¶

**å½“å‰é—®é¢˜**: å„æ¨¡å—é”™è¯¯å¤„ç†æ–¹å¼ä¸ä¸€è‡´
- base-page.jsä½¿ç”¨`handleError`
- ad-manager.jsä½¿ç”¨`log`æ–¹æ³•
- data-loader.jsä½¿ç”¨`handleLoadingError`

**å»ºè®®**: å»ºç«‹ç»Ÿä¸€çš„é”™è¯¯åˆ†ç±»å’Œä¸ŠæŠ¥ç³»ç»Ÿ
```javascript
// åˆ›å»ºerror-codes.js
var ERROR_CODES = {
  NETWORK_ERROR: { code: 1001, level: 'warning' },
  AD_LOAD_FAIL: { code: 2001, level: 'info' },
  DATA_LOAD_FAIL: { code: 3001, level: 'error' }
};

// ç»Ÿä¸€é”™è¯¯å¤„ç†å‡½æ•°
function reportError(errorCode, context, error) {
  var errorInfo = ERROR_CODES[errorCode];
  console[errorInfo.level]('[' + errorCode + ']', context, error);

  // å¯æ‰©å±•:ä¸ŠæŠ¥åˆ°é”™è¯¯ç›‘æ§å¹³å°
  // analytics.reportError(errorInfo, context, error);
}
```

---

### 2. æ€§èƒ½ç›‘æ§ä½“ç³»

**å»ºè®®**: æ·»åŠ å…³é”®æŒ‡æ ‡ç›‘æ§
```javascript
// performance-monitor.js
var PerformanceMonitor = {
  trackSetData: function(size) {
    this._setDataCalls = (this._setDataCalls || 0) + 1;
    this._setDataSize = (this._setDataSize || 0) + size;
  },

  trackAdLoad: function(duration, success) {
    this._adLoadTimes = this._adLoadTimes || [];
    this._adLoadTimes.push({ duration, success, timestamp: Date.now() });
  },

  getReport: function() {
    return {
      setData: {
        totalCalls: this._setDataCalls,
        averageSize: this._setDataSize / this._setDataCalls
      },
      adLoad: {
        successRate: this._adLoadTimes.filter(x => x.success).length / this._adLoadTimes.length,
        averageDuration: this._adLoadTimes.reduce((sum, x) => sum + x.duration, 0) / this._adLoadTimes.length
      }
    };
  }
};
```

---

### 3. ç¦»çº¿ä¼˜å…ˆç­–ç•¥å¢å¼º

**å½“å‰é—®é¢˜**: è™½ç„¶æœ‰ç¦»çº¿æ”¯æŒï¼Œä½†é¢„åŠ è½½ç­–ç•¥ä¸å¤Ÿæ™ºèƒ½

**å»ºè®®**:
```javascript
// offline-strategy.js
var OfflineStrategy = {
  // æ ¹æ®WiFi/4G/5Gç½‘ç»œæ™ºèƒ½é¢„åŠ è½½
  smartPreload: function() {
    wx.getNetworkType({
      success: function(res) {
        if (res.networkType === 'wifi') {
          // WiFiä¸‹å…¨é‡é¢„åŠ è½½
          this.preloadAll();
        } else if (res.networkType === '4g' || res.networkType === '5g') {
          // ç§»åŠ¨ç½‘ç»œä»…é¢„åŠ è½½æ ¸å¿ƒåˆ†åŒ…
          this.preloadCore();
        }
      }
    });
  },

  // æ£€æµ‹ç”¨æˆ·å¸¸ç”¨åŠŸèƒ½,ä¼˜å…ˆé¢„åŠ è½½
  preloadByUsage: function() {
    var usage = wx.getStorageSync('feature_usage') || {};
    var topFeatures = Object.keys(usage)
      .sort((a, b) => usage[b] - usage[a])
      .slice(0, 5);

    topFeatures.forEach(function(feature) {
      this.preloadPackageForFeature(feature);
    });
  }
};
```

---

### 4. å†…å­˜ç®¡ç†ä¼˜åŒ–

**å»ºè®®**: æ·»åŠ å†…å­˜å‹åŠ›æ£€æµ‹
```javascript
// memory-manager.js
var MemoryManager = {
  checkMemoryPressure: function() {
    wx.onMemoryWarning(function(res) {
      console.warn('å†…å­˜å‘Šè­¦:', res.level);

      if (res.level >= 10) {
        // æ¸…ç†ç¼“å­˜
        dataLoader.clearCache();

        // é‡Šæ”¾å¤§å¯¹è±¡
        AdManager.destroyVideoAd();

        // é€šçŸ¥é¡µé¢é™çº§æ¸²æŸ“
        getCurrentPages().forEach(function(page) {
          if (page.onMemoryWarning) {
            page.onMemoryWarning();
          }
        });
      }
    });
  }
};
```

---

### 5. ä»£ç ç»„ç»‡ç»“æ„ä¼˜åŒ–

**å½“å‰é—®é¢˜**:
- audio-config.jsæ–‡ä»¶è¿‡é•¿(508è¡Œ)
- ad-manager.jsåŠŸèƒ½è€¦åˆ(å¹¿å‘Š+ç»Ÿè®¡+ç½‘ç»œæ£€æµ‹)

**å»ºè®®**: æ¨¡å—æ‹†åˆ†
```
utils/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ base-page.js
â”‚   â”œâ”€â”€ error-handler.js
â”‚   â””â”€â”€ performance-monitor.js
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ data-loader.js
â”‚   â””â”€â”€ cache-manager.js
â”œâ”€â”€ ad/
â”‚   â”œâ”€â”€ ad-manager.js
â”‚   â”œâ”€â”€ ad-network-checker.js
â”‚   â””â”€â”€ ad-statistics.js
â”œâ”€â”€ audio/
â”‚   â”œâ”€â”€ audio-config.js
â”‚   â”œâ”€â”€ audio-regions.js
â”‚   â””â”€â”€ audio-preload-guide.js
â””â”€â”€ ui/
    â”œâ”€â”€ tabbar-badge-manager.js
    â””â”€â”€ onboarding-guide.js
```

---

### 6. æµ‹è¯•è¦†ç›–

**å»ºè®®**: æ·»åŠ å•å…ƒæµ‹è¯•
```javascript
// tests/utils/ad-manager.test.js
describe('AdManager', function() {
  it('åº”è¯¥æ­£ç¡®è½®æ¢å¹¿å‘Šä½', function() {
    AdManager.config.currentAdIndex = 0;
    AdManager.tryNextAdUnit();
    assert.equal(AdManager.config.currentAdIndex, 1);
  });

  it('å¹¿å‘ŠåŠ è½½è¶…æ—¶åº”è¯¥è§¦å‘å›è°ƒ', function(done) {
    this.timeout(20000);
    AdManager.preloadAdAndShow(0);
    setTimeout(function() {
      assert.equal(AdManager.isShowingAd, false);
      done();
    }, 16000);
  });
});
```

---

### 7. æ–‡æ¡£å®Œå–„

**å»ºè®®**: æ·»åŠ JSDocæ³¨é‡Šå’Œä½¿ç”¨ç¤ºä¾‹
```javascript
/**
 * åŠ è½½åˆ†åŒ…æ•°æ®
 * @param {Object} pageInstance - é¡µé¢å®ä¾‹
 * @param {string} packageName - åˆ†åŒ…åç§°
 * @param {string} dataPath - æ•°æ®æ–‡ä»¶è·¯å¾„
 * @param {Object} [options] - é…ç½®é€‰é¡¹
 * @param {string} [options.loadingKey='loading'] - loadingçŠ¶æ€é”®å
 * @param {string} [options.dataKey='data'] - æ•°æ®é”®å
 * @param {Array} [options.fallbackData=[]] - å…œåº•æ•°æ®
 * @returns {Promise<*>} åŠ è½½çš„æ•°æ®
 *
 * @example
 * // åœ¨é¡µé¢ä¸­ä½¿ç”¨
 * dataLoader.loadSubpackageData(
 *   this,
 *   'packageA',
 *   '../../packageA/data.js',
 *   { fallbackData: [] }
 * ).then(function(data) {
 *   console.log('åŠ è½½æˆåŠŸ:', data);
 * });
 */
```

---

## ğŸ“Š é—®é¢˜ç»Ÿè®¡

### ä¸¥é‡æ€§åˆ†å¸ƒ
- ğŸ”´ **é«˜é£é™©é—®é¢˜**: 15ä¸ªï¼ˆéœ€ç«‹å³ä¿®å¤ï¼‰
- ğŸŸ¡ **ä¸­é£é™©é—®é¢˜**: 10ä¸ªï¼ˆå»ºè®®è¿‘æœŸä¼˜åŒ–ï¼‰
- ğŸŸ¢ **ä½é£é™©é—®é¢˜**: 10ä¸ªï¼ˆå¯åç»­æ”¹è¿›ï¼‰

### æ–‡ä»¶é—®é¢˜åˆ†å¸ƒ
| æ–‡ä»¶ | é«˜é£é™© | ä¸­é£é™© | ä½é£é™© | åˆè®¡ |
|------|--------|--------|--------|------|
| base-page.js | 3 | 2 | 2 | 7 |
| ad-manager.js | 3 | 2 | 2 | 7 |
| data-loader.js | 2 | 1 | 0 | 3 |
| audio-config.js | 2 | 0 | 0 | 2 |
| error-handler.js | 1 | 1 | 0 | 2 |
| audio-preload-guide.js | 0 | 2 | 0 | 2 |
| app-config.js | 0 | 0 | 1 | 1 |
| tabbar-badge-manager.js | 0 | 0 | 1 | 1 |
| onboarding-guide.js | 0 | 0 | 1 | 1 |

---

## ğŸ¯ ä¼˜å…ˆä¿®å¤æ¸…å•

### P0 - ç«‹å³å¤„ç†ï¼ˆä»Šæ—¥å®Œæˆï¼‰
1. âœ… base-page.jsçš„å®šæ—¶å™¨æ¸…ç†æœºåˆ¶ï¼ˆé—®é¢˜1.1, 1.2, 1.3ï¼‰
2. âœ… ad-manager.jsçš„å¹¿å‘Šå®ä¾‹é”€æ¯é€»è¾‘ï¼ˆé—®é¢˜2.1, 2.2, 2.3ï¼‰
3. âœ… data-loader.jsçš„å¹¶å‘å†²çªé—®é¢˜ï¼ˆé—®é¢˜3.1, 3.2ï¼‰
4. âœ… audio-config.jsçš„ES6è¯­æ³•å…¼å®¹æ€§ï¼ˆé—®é¢˜4.1, 4.2ï¼‰
5. âœ… error-handler.jsçš„åˆ†åŒ…åˆ—è¡¨å®Œæ•´æ€§ï¼ˆé—®é¢˜5.1ï¼‰

### P1 - æœ¬å‘¨å®Œæˆ
1. base-page.jsçš„setDataæ‰¹å¤„ç†ä¼˜åŒ–
2. ad-manager.jsçš„ç½‘ç»œæ£€æµ‹ä¼˜åŒ–
3. audio-preload-guide.jsçš„å¼¹çª—æ—¶æœºé—®é¢˜
4. error-handler.jsçš„æ—¥å¿—ç³»ç»Ÿä¼˜åŒ–

### P2 - è¿­ä»£ä¼˜åŒ–ï¼ˆæœ¬æœˆï¼‰
1. data-loader.jsçš„ç¼“å­˜è¿‡æœŸæœºåˆ¶
2. ad-manager.jsçš„å¹¿å‘Šä½è´¨é‡è¯„åˆ†
3. ç»Ÿä¸€é”™è¯¯å¤„ç†æœºåˆ¶
4. æ€§èƒ½ç›‘æ§ä½“ç³»å»ºè®¾

### P3 - åç»­æ”¹è¿›ï¼ˆä¸‹ç‰ˆæœ¬ï¼‰
1. ä»£ç è§„èŒƒä¼˜åŒ–
2. ç”¨æˆ·ä½“éªŒä¼˜åŒ–
3. æµ‹è¯•è¦†ç›–ç‡æå‡
4. æ–‡æ¡£å®Œå–„

---

## ğŸ—ï¸ æ¶æ„å»ºè®®

é¡¹ç›®æ•´ä½“è´¨é‡è¾ƒé«˜ï¼Œä½“ç°äº†å¯¹ç¦»çº¿ä¼˜å…ˆå’Œå°ç¨‹åºç‰¹æ€§çš„æ·±åˆ»ç†è§£ã€‚ä½†å­˜åœ¨ä»¥ä¸‹æ¶æ„å±‚é¢çš„æ”¹è¿›ç©ºé—´ï¼š

### ä¼˜ç‚¹ âœ…
1. **ç¦»çº¿ä¼˜å…ˆè®¾è®¡**: å®Œå–„çš„åˆ†åŒ…é¢„åŠ è½½å’Œå¼‚æ­¥åŠ è½½æœºåˆ¶
2. **ç»Ÿä¸€åŸºç±»**: BasePageæä¾›äº†ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œèµ„æºæ¸…ç†
3. **å¹¿å‘Šç®¡ç†**: å®Œå–„çš„å¹¿å‘Šè½®æ¢å’Œç¦»çº¿å…œåº•æœºåˆ¶
4. **æ•°æ®åŠ è½½**: ç»Ÿä¸€çš„DataLoaderç®€åŒ–äº†åˆ†åŒ…æ•°æ®åŠ è½½

### æ”¹è¿›æ–¹å‘ ğŸ”„
1. **æ¨¡å—èŒè´£æ›´æ¸…æ™°**: é¿å…å•ä¸ªæ–‡ä»¶æ‰¿æ‹…è¿‡å¤šåŠŸèƒ½
2. **ES5è¯­æ³•ç»Ÿä¸€**: éƒ¨åˆ†æ–‡ä»¶ä½¿ç”¨ES6éœ€è¦ç»Ÿä¸€é™çº§
3. **èµ„æºæ¸…ç†æœºåˆ¶**: éœ€è¦å»ºç«‹æ›´å®Œå–„çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†
4. **é”™è¯¯å¤„ç†æ ‡å‡†åŒ–**: ç»Ÿä¸€é”™è¯¯ç å’Œä¸ŠæŠ¥æµç¨‹
5. **å†…å­˜ç®¡ç†**: æ·»åŠ å†…å­˜å‹åŠ›æ£€æµ‹å’Œè‡ªåŠ¨é™çº§

---

## ğŸ“ æ€»ç»“

æœ¬æ¬¡å®¡æŸ¥å‘ç°çš„é—®é¢˜ä¸»è¦é›†ä¸­åœ¨ï¼š

1. **å†…å­˜ç®¡ç†**: å®šæ—¶å™¨ã€ç›‘å¬å™¨ã€å¹¿å‘Šå®ä¾‹çš„æ¸…ç†æœºåˆ¶ä¸å®Œå–„
2. **å…¼å®¹æ€§**: ES6è¯­æ³•åœ¨æ—§ç‰ˆæœ¬å¾®ä¿¡ä¸­å¯èƒ½å­˜åœ¨å…¼å®¹é—®é¢˜
3. **å¹¶å‘æ§åˆ¶**: æ•°æ®åŠ è½½çŠ¶æ€ç®¡ç†å­˜åœ¨å†²çªé£é™©
4. **é…ç½®ç®¡ç†**: åˆ†åŒ…åˆ—è¡¨ç¡¬ç¼–ç ï¼Œç»´æŠ¤æ€§å·®

**å»ºè®®æŒ‰ä¼˜å…ˆçº§é€æ­¥ä¿®å¤ï¼Œç¡®ä¿ç¦»çº¿æ¨¡å¼çš„ç¨³å®šæ€§å’Œå†…å­˜å®‰å…¨ã€‚**

---

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**:
1. ç«‹å³ä¿®å¤15ä¸ªé«˜é£é™©é—®é¢˜
2. æäº¤ä»£ç å¹¶è¿›è¡Œå›å½’æµ‹è¯•
3. ç»§ç»­å®¡æŸ¥é©¾é©¶èˆ±æ¨¡å—ï¼ˆ18ä¸ªä¸“ä¸šæ¨¡å—ï¼‰
