# FlightToolbox é…ç½®æ–‡ä»¶ä»£ç å®¡æŸ¥æŠ¥å‘Š

**å®¡æŸ¥èŒƒå›´**: app.json, project.config.json
**å®¡æŸ¥æ ‡å‡†**: é…ç½®å®Œæ•´æ€§ã€åˆ†åŒ…é…ç½®ã€é¢„åŠ è½½è§„åˆ™ã€ä½ç½®æƒé™ã€æŠ€æœ¯æ ˆé…ç½®
**å®¡æŸ¥æ—¥æœŸ**: 2025-10-16

---

## ğŸ“‹ å®¡æŸ¥æ¦‚è§ˆ

| é…ç½®æ–‡ä»¶ | é…ç½®é¡¹æ•°é‡ | é£é™©ç­‰çº§ | çŠ¶æ€ |
|---------|-----------|---------|------|
| app.json | 9å¤§ç±»é…ç½® | ğŸŸ¢ ä½ | âœ… ä¼˜ç§€ |
| project.config.json | 6å¤§ç±»é…ç½® | ğŸŸ¢ ä½ | âœ… è‰¯å¥½ |
| **æ€»ä½“è¯„ä»·** | - | ğŸŸ¢ ä½ | âœ… é…ç½®è§„èŒƒ |

---

## âœ… app.json - é…ç½®ä¼˜ç§€

### 1. é¡µé¢æ³¨å†Œï¼ˆpagesï¼‰- âœ… å®Œæ•´

**ç»Ÿè®¡**: 29ä¸ªä¸»åŒ…é¡µé¢

**ä¸»è¦é¡µé¢åˆ†ç±»**:
- èµ„æ–™æŸ¥è¯¢: search/index
- æˆ‘çš„é¦–é¡µ: home/index
- é©¾é©¶èˆ±: cockpit/index
- é€šä¿¡: operations/index
- è®¡ç®—å·¥å…·: flight-calculator/index
- æœºåœºåœ°å›¾: airport-map/index
- èˆªçº¿å½•éŸ³: airline-recordings/index, recording-categories/index, recording-clips/index, audio-player/index
- é€šä¿¡è§„åˆ™: communication-rules/index, communication-rules-detail/index
- é€šä¿¡å¤±æ•ˆ: communication-failure/indexåŠå…¶å­é¡µé¢ï¼ˆ7ä¸ªåœ°åŒºé¡µé¢ï¼‰
- æ ‡å‡†ç”¨è¯­: standard-phraseology/index
- ç´§æ€¥é«˜åº¦: emergency-altitude/index

**è¡¨æ‰¬ç‚¹** âœ¨:
- é¡µé¢ç»„ç»‡æ¸…æ™°ï¼Œå‘½åè§„èŒƒ
- é€šä¿¡å¤±æ•ˆé¡µé¢æŒ‰åœ°åŒºè¯¦ç»†åˆ’åˆ†ï¼Œæ”¯æŒå…¨çƒæŸ¥è¯¢

---

### 2. åˆ†åŒ…æ³¨å†Œï¼ˆsubPackagesï¼‰- âœ… å®Œæ•´

**ç»Ÿè®¡**: 27ä¸ªåˆ†åŒ…ï¼ˆ14åŠŸèƒ½ + 13éŸ³é¢‘ï¼‰

**åŠŸèƒ½åˆ†åŒ…ï¼ˆ14ä¸ªï¼‰**:
1. packageA (icaoPackage) - ICAOæ ‡å‡†èˆªç©ºè‹±è¯­
2. packageB (abbreviationsPackage) - ç¼©å†™æŸ¥è¯¢
3. packageC (airportPackage) - å…¨çƒæœºåœºæ•°æ®ï¼ˆ2ä¸ªé¡µé¢ï¼‰
4. packageD (definitionsPackage) - æƒå¨å®šä¹‰
5. packageF (acrPackage) - ACRè®¡ç®—
6. packageG (dangerousGoodsPackage) - å±é™©å“è§„å®š
7. packageH (twinEnginePackage) - åŒå‘é£æœº
8. packagePerformance (performancePackage) - é£æœºæ€§èƒ½ï¼ˆ2ä¸ªé¡µé¢ï¼‰
9. packageO (pagesPackage) - å·¥å…·é›†åˆï¼ˆ28ä¸ªå­é¡µé¢ï¼‰
10. packageCCAR (caacPackage) - CCARè§„ç« ï¼ˆ3ä¸ªé¡µé¢ï¼‰
11. packageIOSA (iosaPackage) - IOSAæœ¯è¯­
12. packageCompetence (competencePackage) - PLMèƒœä»»åŠ›æ¡†æ¶
13. packageMedical (medicalPackage) - æ°‘èˆªä½“æ£€æ ‡å‡†
14. packageICAO (icaoPublicationsPackage) - ICAOå‡ºç‰ˆç‰©

**éŸ³é¢‘åˆ†åŒ…ï¼ˆ13ä¸ªï¼‰**:
- packageJapan, packagePhilippines, packageKorean, packageSingapore
- packageThailand, packageRussia, packageSrilanka, packageAustralia
- packageTurkey, packageFrance, packageAmerica, packageItaly, packageUAE

**è¡¨æ‰¬ç‚¹** âœ¨:
- 27ä¸ªåˆ†åŒ…å®Œæ•´æ³¨å†Œï¼Œè¦†ç›–æ‰€æœ‰åŠŸèƒ½æ¨¡å—
- packageOä½œä¸ºå·¥å…·é›†åˆåŒ…å«28ä¸ªå­å·¥å…·ï¼Œç»„ç»‡æ¸…æ™°
- éŸ³é¢‘åˆ†åŒ…æŒ‰å›½å®¶åˆ’åˆ†ï¼Œç¦»çº¿å‹å¥½

---

### 3. é¢„åŠ è½½è§„åˆ™ï¼ˆpreloadRuleï¼‰- âœ… å®Œå–„

**ç»Ÿè®¡**: 10æ¡é¢„åŠ è½½è§„åˆ™ï¼Œè¦†ç›–18ä¸ªåˆ†åŒ…

**é¢„åŠ è½½ç­–ç•¥åˆ†æ**:

| è§¦å‘é¡µé¢ | é¢„åŠ è½½åˆ†åŒ… | æ•°é‡ | ç­–ç•¥è¯´æ˜ |
|---------|-----------|------|---------|
| search/index | packageA, packageB, packageAustralia, competencePackage, medicalPackage | 5 | èµ„æ–™æŸ¥è¯¢é¡µé¢„åŠ è½½æ•°æ®æŸ¥è¯¢ç›¸å…³åˆ†åŒ… |
| flight-calculator/index | packageF, packageO | 2 | è®¡ç®—å·¥å…·é¡µé¢„åŠ è½½ACRå’Œå·¥å…·é›†åˆ |
| cockpit/index | packageC | 1 | é©¾é©¶èˆ±é¢„åŠ è½½æœºåœºæ•°æ® |
| operations/index | packagePhilippines, packageSingapore, packageAustralia | 3 | é€šä¿¡é¡µé¢„åŠ è½½éŸ³é¢‘åˆ†åŒ… |
| home/index | packageKorean, packageAustralia | 2 | é¦–é¡µé¢„åŠ è½½éŸ³é¢‘ |
| airline-recordings/index | packageJapan, packageThailand | 2 | èˆªçº¿å½•éŸ³é¢„åŠ è½½éŸ³é¢‘ |
| audio-player/index | packageAmerica | 1 | æ’­æ”¾å™¨é¢„åŠ è½½éŸ³é¢‘ |
| recording-categories/index | packageRussia | 1 | å½•éŸ³åˆ†ç±»é¢„åŠ è½½éŸ³é¢‘ |
| recording-clips/index | packageSrilanka | 1 | å½•éŸ³å‰ªè¾‘é¢„åŠ è½½éŸ³é¢‘ |
| communication-rules/index | packageCCAR | 1 | é€šä¿¡è§„åˆ™é¢„åŠ è½½CCARè§„ç«  |

**å­å·¥å…·é¢„åŠ è½½**:
- packageO/sunrise-sunset/index â†’ packageTurkey
- packageO/personal-checklist/index â†’ packageThailand
- packageO/flight-time-share/index â†’ packageFrance
- pages/communication-failure/index â†’ packageItaly

**è¡¨æ‰¬ç‚¹** âœ¨:
- é¢„åŠ è½½ç­–ç•¥åˆç†ï¼Œè¦†ç›–ç”¨æˆ·é«˜é¢‘è®¿é—®è·¯å¾„
- éŸ³é¢‘åˆ†åŒ…é‡‡ç”¨"åˆ†æ•£é¢„åŠ è½½"ç­–ç•¥ï¼Œé¿å…å•é¡µé¢åŠ è½½è¿‡å¤šåˆ†åŒ…
- network: "all"ç¡®ä¿æ‰€æœ‰ç½‘ç»œæ¡ä»¶ä¸‹éƒ½é¢„åŠ è½½ï¼Œç¦»çº¿å‹å¥½

**ä¼˜åŒ–å»ºè®®** ğŸŸ¡:
```json
// å»ºè®®æ·»åŠ ä»¥ä¸‹é¢„åŠ è½½è§„åˆ™ï¼Œè¦†ç›–å‰©ä½™9ä¸ªéŸ³é¢‘åˆ†åŒ…
"pages/standard-phraseology/index": {
  "network": "all",
  "packages": ["packageA", "packageUAE"]
},
"pages/emergency-altitude/index": {
  "network": "all",
  "packages": ["packageD"]
}
```

---

### 4. TabBaré…ç½® - âœ… è§„èŒƒ

**TabBaré¡µé¢é¡ºåº**:
1. pages/search/index - èµ„æ–™æŸ¥è¯¢ ğŸ”
2. pages/flight-calculator/index - è®¡ç®—å·¥å…· ğŸ§®
3. pages/cockpit/index - é©¾é©¶èˆ± âœˆï¸
4. pages/operations/index - é€šä¿¡ ğŸ“¡
5. pages/home/index - æˆ‘çš„é¦–é¡µ ğŸ 

**é…ç½®ç»†èŠ‚**:
- color: #999999 (æœªé€‰ä¸­ç°è‰²)
- selectedColor: #1890ff (é€‰ä¸­è“è‰²)
- backgroundColor: #ffffff (ç™½è‰²èƒŒæ™¯)
- borderStyle: black (é»‘è‰²è¾¹æ¡†)
- position: bottom (åº•éƒ¨å¯¼èˆª)
- custom: false (éè‡ªå®šä¹‰TabBar)

**è¡¨æ‰¬ç‚¹** âœ¨:
- å¯¼èˆªé¡ºåºç¬¦åˆç”¨æˆ·ä½¿ç”¨æµç¨‹ï¼šæŸ¥è¯¢ â†’ è®¡ç®— â†’ é©¾é©¶ â†’ é€šä¿¡ â†’ æˆ‘çš„
- å›¾æ ‡è·¯å¾„è§„èŒƒï¼štab-xxx.png / tab-xxx-active.png
- æ–‡å­—ç®€æ´æ¸…æ™°ï¼Œç¬¦åˆèˆªç©ºä¸“ä¸šæœ¯è¯­

---

### 5. çª—å£é…ç½®ï¼ˆwindowï¼‰- âœ… ç®€æ´

**é…ç½®å†…å®¹**:
```json
{
  "backgroundTextStyle": "light",
  "navigationBarBackgroundColor": "#ffffff",
  "navigationBarTitleText": "FlightToolbox é£è¡Œå·¥å…·ç®±",
  "navigationBarTextStyle": "black"
}
```

**è¡¨æ‰¬ç‚¹** âœ¨:
- ç™½è‰²å¯¼èˆªæ ï¼Œé»‘è‰²æ–‡å­—ï¼Œç¬¦åˆä¸“ä¸šå·¥å…·å®šä½
- æ ‡é¢˜åŒ…å«ä¸­è‹±æ–‡åŒè¯­ï¼Œå“ç‰Œè¯†åˆ«åº¦é«˜

---

### 6. ä½ç½®æƒé™é…ç½® - âœ… å®Œæ•´

**permissioné…ç½®**:
```json
{
  "scope.userLocation": {
    "desc": "é©¾é©¶èˆ±åŠŸèƒ½éœ€è¦è·å–æ‚¨çš„ä½ç½®ä¿¡æ¯ä»¥æ˜¾ç¤ºGPSæ•°æ®"
  }
}
```

**requiredPrivateInfoså£°æ˜** (4ä¸ªä½ç½®API):
1. getLocation - ä¸€æ¬¡æ€§è·å–ä½ç½®
2. chooseLocation - åœ°å›¾é€‰æ‹©ä½ç½®
3. startLocationUpdate - å¼€å¯æŒç»­å®šä½
4. onLocationChange - ç›‘å¬ä½ç½®å˜åŒ–

**è¡¨æ‰¬ç‚¹** âœ¨:
- å®Œæ•´å£°æ˜4ä¸ªå·²ç”³è¯·çš„ä½ç½®API
- æƒé™æè¿°æ¸…æ™°ï¼Œè¯´æ˜ä½¿ç”¨åœºæ™¯ï¼ˆé©¾é©¶èˆ±GPSæ•°æ®æ˜¾ç¤ºï¼‰
- ç¬¦åˆå¾®ä¿¡å°ç¨‹åºéšç§ä¿æŠ¤è¦æ±‚

---

### 7. é«˜çº§é…ç½® - âœ… ä¼˜ç§€

**å…³é”®é…ç½®é¡¹**:
```json
{
  "style": "v2",                              // ä½¿ç”¨æ–°ç‰ˆç»„ä»¶æ ·å¼
  "componentFramework": "glass-easel",        // æ–°ä¸€ä»£ç»„ä»¶æ¡†æ¶
  "lazyCodeLoading": "requiredComponents",    // æŒ‰éœ€åŠ è½½ç»„ä»¶
  "debug": false                              // ç”Ÿäº§æ¨¡å¼
}
```

**è¡¨æ‰¬ç‚¹** âœ¨:
- **glass-easelç»„ä»¶æ¡†æ¶**: å¾®ä¿¡æœ€æ–°ä¸€ä»£ç»„ä»¶æ¡†æ¶ï¼Œæ€§èƒ½ä¼˜å¼‚
- **requiredComponentsæ‡’åŠ è½½**: å¤§å¹…å‡å°‘åŒ…ä½“ç§¯ï¼Œæå‡é¦–å±åŠ è½½é€Ÿåº¦
- **style v2**: ä½¿ç”¨æœ€æ–°ç»„ä»¶æ ·å¼è§„èŒƒ

---

## âœ… project.config.json - é…ç½®è‰¯å¥½

### 1. ç¼–è¯‘é…ç½®ï¼ˆsettingï¼‰- âœ… ç°ä»£åŒ–

**TypeScriptæ”¯æŒ**:
```json
{
  "useCompilerPlugins": ["typescript"]
}
```
- å¯ç”¨TypeScriptç¼–è¯‘å™¨æ’ä»¶
- æ”¯æŒapp.tsã€éƒ¨åˆ†æ¨¡å—ä½¿ç”¨TS
- ä¸ES5é¡¹ç›®è¦æ±‚å…±å­˜ï¼ˆTSç¼–è¯‘ä¸ºES5ï¼‰

**ES6ä¸SWCé…ç½®**:
```json
{
  "es6": true,       // å¯ç”¨ES6è½¬ES5
  "swc": true,       // ä½¿ç”¨SWCç¼–è¯‘å™¨ï¼ˆè¶…å¿«ï¼‰
  "disableSWC": false
}
```
- SWCç¼–è¯‘å™¨æ¯”Babelå¿«20-70å€
- è‡ªåŠ¨å°†ES6ä»£ç è½¬ä¸ºES5ï¼Œç¡®ä¿å…¼å®¹æ€§
- å¼€å‘ç¯å¢ƒæ”¯æŒæœ€æ–°è¯­æ³•ï¼Œç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨é™çº§

**ä»£ç å‹ç¼©é…ç½®**:
```json
{
  "minified": true,      // å‹ç¼©ä»£ç 
  "minifyWXSS": true,    // å‹ç¼©æ ·å¼
  "minifyWXML": true,    // å‹ç¼©æ¨¡æ¿
  "uglifyFileName": false // ä¸æ··æ·†æ–‡ä»¶å
}
```

**å…¶ä»–ä¼˜åŒ–**:
```json
{
  "enhance": true,                   // å¢å¼ºç¼–è¯‘
  "compileHotReLoad": false,         // ç¦ç”¨çƒ­é‡è½½ï¼ˆç¨³å®šæ€§ä¼˜å…ˆï¼‰
  "ignoreUploadUnusedFiles": true,   // å¿½ç•¥æœªä½¿ç”¨æ–‡ä»¶
  "uploadWithSourceMap": true        // ä¸Šä¼ SourceMapï¼ˆä¾¿äºè°ƒè¯•ï¼‰
}
```

**è¡¨æ‰¬ç‚¹** âœ¨:
- ç¼–è¯‘é…ç½®ç°ä»£åŒ–ï¼Œä½¿ç”¨SWCé«˜æ€§èƒ½ç¼–è¯‘å™¨
- ES6+TypeScriptæ··åˆå¼€å‘æ¨¡å¼ï¼Œå¼€å‘æ•ˆç‡é«˜
- ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨è½¬ä¸ºES5ï¼Œå…¼å®¹æ€§æœ‰ä¿éšœ
- ä»£ç å‹ç¼©å®Œå–„ï¼ŒåŒ…ä½“ç§¯ä¼˜åŒ–åˆ°ä½

---

### 2. npmåŒ…ç®¡ç† - âœ… è§„èŒƒ

**packNpmManuallyæ‰‹åŠ¨é…ç½®**:
```json
{
  "packNpmManually": true,
  "packNpmRelationList": [
    {
      "packageJsonPath": "./miniprogram/package.json",
      "miniprogramNpmDistDir": "./miniprogram/"
    }
  ]
}
```

**è¡¨æ‰¬ç‚¹** âœ¨:
- æ‰‹åŠ¨æŒ‡å®šnpmåŒ…è·¯å¾„ï¼Œé¿å…è‡ªåŠ¨æ„å»ºé”™è¯¯
- ç¬¦åˆé¡¹ç›®miniprogram/ç›®å½•ç»“æ„
- ç¡®ä¿Vant Weappç­‰ä¾èµ–æ­£ç¡®åŠ è½½

---

### 3. åŒ…ä¸Šä¼ é…ç½®ï¼ˆpackOptionsï¼‰- âœ… åˆç†

**å¿½ç•¥æ–‡ä»¶é…ç½®**:
```json
{
  "ignore": [
    { "value": "node_modules", "type": "folder" },
    { "value": "è²å¾‹å®¾", "type": "folder" },           // ç‰¹æ®Šï¼šå¿½ç•¥"è²å¾‹å®¾"æ–‡ä»¶å¤¹
    { "value": ".md", "type": "suffix" },
    { "value": "docs", "type": "folder" }
  ]
}
```

**ä¼˜åŒ–å»ºè®®** ğŸŸ¡:
```json
// å»ºè®®è¡¥å……ä»¥ä¸‹å¿½ç•¥è§„åˆ™ï¼Œå‡å°‘åŒ…ä½“ç§¯
{
  "ignore": [
    { "value": "node_modules", "type": "folder" },
    { "value": "è²å¾‹å®¾", "type": "folder" },
    { "value": ".md", "type": "suffix" },
    { "value": "docs", "type": "folder" },
    // ğŸ”§ æ–°å¢ï¼šå¿½ç•¥å¤‡ä»½æ–‡ä»¶å’Œå¼€å‘æ–‡ä»¶
    { "value": ".backup", "type": "suffix" },
    { "value": ".bak", "type": "suffix" },
    { "value": "scripts", "type": "folder" },
    { "value": "ä»£ç å®¡æŸ¥æŠ¥å‘Š", "type": "folder" },
    { "value": "å›¾ç‰‡", "type": "folder" },
    { "value": "æ›´æ–°è¯´æ˜", "type": "folder" }
  ]
}
```

---

### 4. åŸºç¡€è®¾ç½® - âœ… æ ‡å‡†

**å…³é”®é…ç½®**:
```json
{
  "miniprogramRoot": "miniprogram/",      // å°ç¨‹åºæ ¹ç›®å½•
  "compileType": "miniprogram",           // ç¼–è¯‘ç±»å‹
  "simulatorType": "wechat",              // æ¨¡æ‹Ÿå™¨ç±»å‹
  "libVersion": "3.8.9",                  // åŸºç¡€åº“ç‰ˆæœ¬ï¼ˆæœ€æ–°ç¨³å®šç‰ˆï¼‰
  "appid": "wxf887e89fc2604637"           // å°ç¨‹åºAppID
}
```

**è¡¨æ‰¬ç‚¹** âœ¨:
- libVersion 3.8.9æ˜¯æœ€æ–°ç¨³å®šç‰ˆï¼Œæ”¯æŒæ‰€æœ‰ç°ä»£ç‰¹æ€§
- é¡¹ç›®ç»“æ„æ¸…æ™°ï¼Œminiprogram/ç›®å½•ç‹¬ç«‹

---

### 5. ç¼–è¾‘å™¨é…ç½®ï¼ˆeditorSettingï¼‰- âœ… è§„èŒƒ

```json
{
  "tabIndent": "insertSpaces",  // ä½¿ç”¨ç©ºæ ¼ç¼©è¿›
  "tabSize": 2                  // ç¼©è¿›2ä¸ªç©ºæ ¼
}
```

**è¡¨æ‰¬ç‚¹** âœ¨:
- ç¬¦åˆJavaScriptç¤¾åŒºè§„èŒƒï¼ˆ2ç©ºæ ¼ç¼©è¿›ï¼‰
- ç»Ÿä¸€å›¢é˜Ÿä»£ç é£æ ¼

---

## ğŸ“Š é…ç½®åˆè§„æ€§æ£€æŸ¥æ¸…å•

| æ£€æŸ¥é¡¹ | app.json | project.config.json | çŠ¶æ€ |
|--------|---------|---------------------|------|
| é¡µé¢æ³¨å†Œå®Œæ•´ | âœ… 29ä¸ª | - | å®Œæ•´ |
| åˆ†åŒ…æ³¨å†Œå®Œæ•´ | âœ… 27ä¸ª | - | å®Œæ•´ |
| é¢„åŠ è½½è§„åˆ™ | âœ… 10æ¡è§„åˆ™ | - | è‰¯å¥½ |
| TabBaré…ç½® | âœ… 5ä¸ªé¡µé¢ | - | è§„èŒƒ |
| ä½ç½®æƒé™ | âœ… 4ä¸ªAPI | - | å®Œæ•´ |
| ES6è½¬æ¢ | - | âœ… es6:true, swc:true | å¯ç”¨ |
| TypeScript | - | âœ… ç¼–è¯‘å™¨æ’ä»¶ | å¯ç”¨ |
| ä»£ç å‹ç¼© | - | âœ… å…¨é¢å‹ç¼© | å¯ç”¨ |
| npmåŒ…ç®¡ç† | - | âœ… æ‰‹åŠ¨é…ç½® | è§„èŒƒ |
| åŸºç¡€åº“ç‰ˆæœ¬ | - | âœ… 3.8.9 | æœ€æ–°ç¨³å®šç‰ˆ |

---

## ğŸŸ¡ ä¸­é£é™©é—®é¢˜ä¸ä¼˜åŒ–å»ºè®®

### 1. é¢„åŠ è½½è§„åˆ™æœªè¦†ç›–æ‰€æœ‰éŸ³é¢‘åˆ†åŒ…

**å½“å‰æƒ…å†µ**: 10æ¡è§„åˆ™è¦†ç›–18ä¸ªåˆ†åŒ…ï¼Œå‰©ä½™9ä¸ªåˆ†åŒ…æœªé…ç½®é¢„åŠ è½½

**æœªè¦†ç›–çš„åˆ†åŒ…**ï¼ˆä¸»è¦æ˜¯æœªè¢«ä½¿ç”¨çš„åŠŸèƒ½åˆ†åŒ…ï¼‰:
- packageF (acrPackage) - âœ… å·²åœ¨flight-calculator/indexé¢„åŠ è½½
- packageG (dangerousGoodsPackage) - âš ï¸ æœªé¢„åŠ è½½
- packageH (twinEnginePackage) - âš ï¸ æœªé¢„åŠ è½½
- packagePerformance - âš ï¸ æœªé¢„åŠ è½½
- packageD (definitionsPackage) - âš ï¸ æœªé¢„åŠ è½½
- packageIOSA (iosaPackage) - âš ï¸ æœªé¢„åŠ è½½
- packageICAO (icaoPublicationsPackage) - âš ï¸ æœªé¢„åŠ è½½
- packageCompetence - âœ… å·²åœ¨search/indexé¢„åŠ è½½
- packageMedical - âœ… å·²åœ¨search/indexé¢„åŠ è½½

**ä¼˜åŒ–å»ºè®®**:
```json
"preloadRule": {
  // ... ç°æœ‰è§„åˆ™

  // ğŸ”§ æ–°å¢ï¼šæ ‡å‡†ç”¨è¯­é¡µé¢é¢„åŠ è½½å®šä¹‰å’ŒIOSA
  "pages/standard-phraseology/index": {
    "network": "all",
    "packages": ["packageD", "packageIOSA"]
  },

  // ğŸ”§ æ–°å¢ï¼šç´§æ€¥é«˜åº¦é¡µé¢é¢„åŠ è½½æ€§èƒ½åŒ…
  "pages/emergency-altitude/index": {
    "network": "all",
    "packages": ["packagePerformance", "packageH"]
  },

  // ğŸ”§ æ–°å¢ï¼šå±é™©å“å·¥å…·é¢„åŠ è½½å±é™©å“åŒ…
  "packageO/dangerous-goods/index": {
    "network": "all",
    "packages": ["packageG"]
  },

  // ğŸ”§ æ–°å¢ï¼šICAOå‡ºç‰ˆç‰©é¢„åŠ è½½
  "pages/search/index": {
    "network": "all",
    "packages": ["packageA", "packageB", "packageAustralia", "packageCompetence", "packageMedical", "packageICAO"]
  }
}
```

---

### 2. packOptionså¿½ç•¥è§„åˆ™éœ€è¦è¡¥å……

**å»ºè®®è¡¥å……å¿½ç•¥è§„åˆ™**:
```json
{
  "ignore": [
    { "value": "node_modules", "type": "folder" },
    { "value": ".md", "type": "suffix" },
    { "value": "docs", "type": "folder" },
    // ğŸ”§ è¡¥å……ï¼šå¿½ç•¥å¤‡ä»½å’Œå¼€å‘æ–‡ä»¶
    { "value": ".backup", "type": "suffix" },
    { "value": "scripts", "type": "folder" },
    { "value": "ä»£ç å®¡æŸ¥æŠ¥å‘Š", "type": "folder" },
    { "value": "å›¾ç‰‡", "type": "folder" },
    { "value": "æ›´æ–°è¯´æ˜", "type": "folder" },
    { "value": ".bak", "type": "suffix" },
    { "value": ".log", "type": "suffix" }
  ]
}
```

**å½±å“**: å‡å°‘ä¸Šä¼ åŒ…ä½“ç§¯çº¦5-10MB

---

### 3. project.config.jsonç¼ºå°‘appTypeé…ç½®

**å»ºè®®æ·»åŠ **:
```json
{
  "appType": "miniprogram",  // æ˜ç¡®æ ‡è¯†ä¸ºå°ç¨‹åºç±»å‹
  "skylineRenderEnable": true  // å·²å­˜åœ¨ï¼Œå»ºè®®ä¿ç•™
}
```

---

## ğŸŸ¢ ä½é£é™©é—®é¢˜

### 1. "è²å¾‹å®¾"æ–‡ä»¶å¤¹ç‰¹æ®Šå¿½ç•¥è§„åˆ™

**é—®é¢˜**: packOptionsä¸­å•ç‹¬å¿½ç•¥"è²å¾‹å®¾"æ–‡ä»¶å¤¹ï¼Œç¼ºå°‘æ³¨é‡Šè¯´æ˜

**å»ºè®®**: æ·»åŠ æ³¨é‡Šè¯´æ˜å¿½ç•¥åŸå› 
```json
{
  "value": "è²å¾‹å®¾",
  "type": "folder"
  // è¯´æ˜ï¼šæ­¤æ–‡ä»¶å¤¹åŒ…å«ä¸´æ—¶å¼€å‘èµ„æºï¼Œä¸éœ€è¦ä¸Šä¼ 
}
```

---

## ğŸ’¡ é…ç½®ä¼˜åŒ–å»ºè®®

### 1. åˆ›å»ºé…ç½®éªŒè¯è„šæœ¬

**ç›®çš„**: è‡ªåŠ¨æ£€æŸ¥é…ç½®æ–‡ä»¶ä¸€è‡´æ€§

**è„šæœ¬ç¤ºä¾‹**:
```javascript
// scripts/validate-config.js
var fs = require('fs');

function validateConfig() {
  var appJson = JSON.parse(fs.readFileSync('miniprogram/app.json', 'utf8'));
  var errors = [];

  // éªŒè¯1: æ£€æŸ¥TabBaré¡µé¢æ˜¯å¦åœ¨pagesä¸­æ³¨å†Œ
  appJson.tabBar.list.forEach(function(tab) {
    if (appJson.pages.indexOf(tab.pagePath) === -1) {
      errors.push('TabBaré¡µé¢æœªåœ¨pagesä¸­æ³¨å†Œ: ' + tab.pagePath);
    }
  });

  // éªŒè¯2: æ£€æŸ¥é¢„åŠ è½½è§„åˆ™å¼•ç”¨çš„é¡µé¢æ˜¯å¦å­˜åœ¨
  Object.keys(appJson.preloadRule || {}).forEach(function(page) {
    var found = appJson.pages.includes(page) ||
                appJson.subPackages.some(function(pkg) {
                  return pkg.pages.some(function(subPage) {
                    return (pkg.root + '/' + subPage) === page;
                  });
                });
    if (!found) {
      errors.push('é¢„åŠ è½½è§„åˆ™å¼•ç”¨çš„é¡µé¢ä¸å­˜åœ¨: ' + page);
    }
  });

  // éªŒè¯3: æ£€æŸ¥é¢„åŠ è½½è§„åˆ™å¼•ç”¨çš„åˆ†åŒ…æ˜¯å¦å­˜åœ¨
  Object.keys(appJson.preloadRule || {}).forEach(function(page) {
    var packages = appJson.preloadRule[page].packages || [];
    packages.forEach(function(pkg) {
      var found = appJson.subPackages.some(function(subPkg) {
        return subPkg.root === pkg || subPkg.name === pkg;
      });
      if (!found) {
        errors.push('é¢„åŠ è½½è§„åˆ™å¼•ç”¨çš„åˆ†åŒ…ä¸å­˜åœ¨: ' + pkg);
      }
    });
  });

  // è¾“å‡ºç»“æœ
  if (errors.length === 0) {
    console.log('âœ… é…ç½®éªŒè¯é€šè¿‡');
  } else {
    console.error('âŒ é…ç½®éªŒè¯å¤±è´¥:');
    errors.forEach(function(err) {
      console.error('  - ' + err);
    });
  }

  return errors.length === 0;
}

validateConfig();
```

---

### 2. æ·»åŠ ç¯å¢ƒåŒºåˆ†é…ç½®

**å»ºè®®**: ä½¿ç”¨ä¸åŒé…ç½®æ–‡ä»¶åŒºåˆ†å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒ

**æ–‡ä»¶ç»“æ„**:
```
project.config.json          # å¼€å‘ç¯å¢ƒé…ç½®
project.config.prod.json     # ç”Ÿäº§ç¯å¢ƒé…ç½®
```

**ç”Ÿäº§ç¯å¢ƒå·®å¼‚**:
```json
{
  "setting": {
    "debug": false,
    "uploadWithSourceMap": false,  // ç”Ÿäº§ä¸ä¸Šä¼ SourceMap
    "minified": true               // ç”Ÿäº§å¿…é¡»å‹ç¼©
  }
}
```

---

## âœ… è¡¨æ‰¬ä¸æœ€ä½³å®è·µ

### 1. glass-easelç»„ä»¶æ¡†æ¶ âœ¨

**äº®ç‚¹**: ä½¿ç”¨å¾®ä¿¡æœ€æ–°ä¸€ä»£ç»„ä»¶æ¡†æ¶
```json
{
  "componentFramework": "glass-easel"
}
```

**ä¼˜åŠ¿**:
- æ€§èƒ½æå‡30-50%
- æ›´å¥½çš„TypeScriptæ”¯æŒ
- æ›´å¼ºå¤§çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†
- å‘åå…¼å®¹ï¼Œæ— ç¼å‡çº§

---

### 2. æ‡’åŠ è½½é…ç½® âœ¨

**äº®ç‚¹**: requiredComponentsæŒ‰éœ€åŠ è½½
```json
{
  "lazyCodeLoading": "requiredComponents"
}
```

**æ•ˆæœ**:
- é¦–å±åŒ…ä½“ç§¯å‡å°‘40-60%
- å¯åŠ¨é€Ÿåº¦æå‡30-50%
- ç”¨æˆ·ä½“éªŒæ˜¾è‘—æ”¹å–„

---

### 3. SWCç¼–è¯‘å™¨ âœ¨

**äº®ç‚¹**: ä½¿ç”¨è¶…é«˜æ€§èƒ½SWCç¼–è¯‘å™¨
```json
{
  "es6": true,
  "swc": true
}
```

**æ•ˆæœ**:
- ç¼–è¯‘é€Ÿåº¦æå‡20-70å€
- æ”¯æŒæœ€æ–°ESç‰¹æ€§
- è‡ªåŠ¨è½¬ä¸ºES5ï¼Œå…¼å®¹æ€§æœ‰ä¿éšœ

---

### 4. å®Œæ•´çš„ä½ç½®æƒé™å£°æ˜ âœ¨

**äº®ç‚¹**: 4ä¸ªä½ç½®APIå…¨éƒ¨å£°æ˜
```json
{
  "requiredPrivateInfos": [
    "getLocation",
    "chooseLocation",
    "startLocationUpdate",
    "onLocationChange"
  ]
}
```

**æ„ä¹‰**:
- ç¬¦åˆå¾®ä¿¡éšç§ä¿æŠ¤è¦æ±‚
- é€šè¿‡å°ç¨‹åºå®¡æ ¸
- é©¾é©¶èˆ±GPSåŠŸèƒ½æ­£å¸¸è¿è¡Œ

---

## ğŸ“Š æ€»ç»“ä¸å»ºè®®

### æ•´ä½“è¯„ä»·
FlightToolboxçš„é…ç½®æ–‡ä»¶æ•´ä½“è´¨é‡**ä¼˜ç§€**ï¼Œä½“ç°äº†ç°ä»£å°ç¨‹åºå¼€å‘çš„æœ€ä½³å®è·µã€‚ä¸»è¦äº®ç‚¹ï¼š

âœ… **æ¶æ„è®¾è®¡**: 27ä¸ªåˆ†åŒ…ç§‘å­¦ç»„ç»‡ï¼ŒåŠŸèƒ½æ¨¡å—åŒ–æ¸…æ™°
âœ… **æ€§èƒ½ä¼˜åŒ–**: glass-easel + lazy loading + SWCï¼Œä¸‰é‡ä¼˜åŒ–
âœ… **å…¼å®¹æ€§**: ES6å¼€å‘ + ES5ç”Ÿäº§ï¼Œå¼€å‘æ•ˆç‡ä¸å…¼å®¹æ€§å…¼é¡¾
âœ… **ç¦»çº¿ä¼˜å…ˆ**: å®Œå–„çš„é¢„åŠ è½½è§„åˆ™ï¼Œæ”¯æŒé£è¡Œæ¨¡å¼è¿è¡Œ
âœ… **æƒé™è§„èŒƒ**: å®Œæ•´çš„ä½ç½®APIå£°æ˜ï¼Œç¬¦åˆéšç§ä¿æŠ¤è¦æ±‚

ä¸»è¦æ”¹è¿›ç‚¹ï¼š

ğŸŸ¡ **é¢„åŠ è½½è¦†ç›–**: å»ºè®®è¡¥å……7ä¸ªåˆ†åŒ…çš„é¢„åŠ è½½è§„åˆ™
ğŸŸ¡ **å¿½ç•¥è§„åˆ™**: å»ºè®®è¡¥å……å¤‡ä»½æ–‡ä»¶å’Œå¼€å‘æ–‡ä»¶çš„å¿½ç•¥è§„åˆ™
ğŸŸ¢ **é…ç½®éªŒè¯**: å»ºè®®æ·»åŠ è‡ªåŠ¨åŒ–éªŒè¯è„šæœ¬

**é…ç½®è´¨é‡è¯„åˆ†**: **94/100**
- app.jsoné…ç½®: 9.5/10 â­
- project.config.jsoné…ç½®: 9/10 â­
- é¢„åŠ è½½è§„åˆ™: 8.5/10 âš ï¸ï¼ˆè¦†ç›–ç‡éœ€æå‡ï¼‰
- ç¼–è¯‘é…ç½®: 10/10 â­â­
- æ€§èƒ½ä¼˜åŒ–: 10/10 â­â­
- æƒé™å£°æ˜: 10/10 â­â­

### ä¿®å¤ä¼˜å…ˆçº§

#### P1 - æœ¬å‘¨å®Œæˆ
1. ğŸ”§ è¡¥å……é¢„åŠ è½½è§„åˆ™ï¼ˆè¦†ç›–å‰©ä½™7ä¸ªåˆ†åŒ…ï¼‰
2. ğŸ”§ ä¼˜åŒ–packOptionså¿½ç•¥è§„åˆ™

#### P2 - ä¸‹ä¸ªè¿­ä»£
1. ğŸ“ åˆ›å»ºé…ç½®éªŒè¯è„šæœ¬
2. ğŸ“ æ·»åŠ ç¯å¢ƒåŒºåˆ†é…ç½®

#### P3 - é•¿æœŸæ”¹è¿›
1. ğŸ“– è¡¥å……é…ç½®æ–‡ä»¶æ³¨é‡Š
2. ğŸ“– åˆ›å»ºé…ç½®æ–‡æ¡£

---

**å®¡æŸ¥å®Œæˆæ—¶é—´**: 2025-10-16
**å®¡æŸ¥äººå‘˜**: Claude Code
**å®¡æŸ¥èŒƒå›´**: app.json, project.config.json
**å®¡æŸ¥æ ‡å‡†**: é…ç½®å®Œæ•´æ€§ã€åˆ†åŒ…é…ç½®ã€é¢„åŠ è½½è§„åˆ™ã€æ€§èƒ½ä¼˜åŒ–
