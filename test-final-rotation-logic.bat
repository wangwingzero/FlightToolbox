@echo off
echo ====================================
echo 测试最终正确的轮换逻辑
echo ====================================
echo.

echo 正确逻辑：
echo 1. 第1套机组起飞时间 = 平均时间 - 1小时
echo 2. 按照 1→2→3→4→1→2→3→4 顺序轮换
echo 3. 最后1小时必须是第1套机组着陆
echo.

echo 测试场景：12小时飞行，3套机组，2轮换班
echo 计算：720分钟 ÷ 3套 ÷ 2轮 = 120分钟/套/轮（2小时）
echo.

echo 轮换序列：1 → 2 → 3 → 1 → 2 → 3 → 1(着陆)
echo.

echo 预期时间安排：
echo 00:00-01:00  第1套机组（起飞-第1轮）   - 1小时 (2小时-1小时)
echo 01:00-03:00  第2套机组（巡航-第1轮）   - 2小时  
echo 03:00-05:00  第3套机组（巡航-第1轮）   - 2小时
echo 05:00-07:00  第1套机组（巡航-第2轮）   - 2小时
echo 07:00-09:00  第2套机组（巡航-第2轮）   - 2小时
echo 09:00-11:00  第3套机组（巡航-第2轮）   - 2小时
echo 11:00-12:00  第1套机组（着陆）         - 1小时
echo.

echo 总工作时间验证：
echo - 第1套：1+2+1=4小时 ✅
echo - 第2套：2+2=4小时 ✅  
echo - 第3套：2+2=4小时 ✅
echo.

echo 关键特点：
echo ✅ 第1套机组起飞时间减少1小时
echo ✅ 最后1小时必须是第1套机组着陆
echo ✅ 所有机组总工作时间相等
echo ✅ 按照顺序轮换
echo.

echo 请在微信开发者工具中测试并观察控制台输出
echo.

pause