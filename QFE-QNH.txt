<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº¤äº’å¼èˆªç©ºé«˜åº¦è®¡å·¥å…·ç®±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Warm Neutral with Sky Blue Accent -->
    <!-- Application Structure Plan: A task-oriented, single-page application divided into four main functional modules: 1. Core Concepts Visualization: An interactive diagram to visually explain QNH/QFE/QNE. 2. Interactive Toolkit: A set of calculators for QNH/QFE conversion and Cold Temperature Correction, allowing for hands-on learning and practical use. 3. Global Procedures Explorer: A tab-based component for easy comparison of international procedures. 4. Safety & Human Factors: A summary of key risks and common errors to reinforce safety awareness. This structure transforms the dense report into an engaging, non-linear exploratory tool, prioritizing user tasks (calculating, comparing, visualizing) over the report's original linear structure. -->
    <!-- Visualization & Content Choices: 1. Q-Code Meanings -> Goal: Inform/Clarify -> Viz: HTML/CSS Interactive Diagram -> Interaction: Click buttons to update altimeter reading and visual reference line -> Justification: Visually demonstrates the abstract concepts of different pressure datums, superior to text-only explanations. 2. Conversion Formulas -> Goal: Apply/Calculate -> Viz: HTML Forms + JS Calculators -> Interaction: Real-time calculation on user input -> Justification: Provides a practical tool that addresses a core pilot task. 3. Temperature Error -> Goal: Show Relationship/Warn -> Viz: Chart.js Line Chart -> Interaction: Sliders for temperature and height above airfield dynamically update the error curve -> Justification: Powerfully illustrates the non-linear relationship and the "hot to cold" danger, more impactful than a static table. 4. Global Differences -> Goal: Compare -> Viz: Tabbed HTML content -> Interaction: Click tabs to switch content -> Justification: Organizes complex comparative data into clean, easily digestible sections. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Inter', 'Noto Sans SC', sans-serif;
            background-color: #f8fafc; /* slate-50 */
            color: #1e293b; /* slate-800 */
        }
        .section-title {
            font-size: 1.875rem; /* text-3xl */
            font-weight: 700;
            color: #0f172a; /* slate-900 */
            margin-bottom: 1rem;
            text-align: center;
        }
        .section-subtitle {
            font-size: 1.125rem; /* text-lg */
            color: #475569; /* slate-600 */
            margin-bottom: 3rem;
            text-align: center;
            max-width: 48rem; /* max-w-3xl */
            margin-left: auto;
            margin-right: auto;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem; /* rounded-xl */
            padding: 2rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: all 0.3s ease-in-out;
        }
        .card:hover {
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem; /* rounded-lg */
            font-weight: 600;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            text-align: center;
        }
        .btn-primary {
            background-color: #0284c7; /* sky-600 */
            color: white;
        }
        .btn-primary:hover {
            background-color: #0369a1; /* sky-700 */
        }
        .btn-secondary {
            background-color: #e2e8f0; /* slate-200 */
            color: #1e293b; /* slate-800 */
        }
        .btn-secondary.active {
             background-color: #0284c7; /* sky-600 */
             color: white;
        }
        .input-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #334155; /* slate-700 */
        }
        .input-field {
            width: 100%;
            padding: 0.75rem;
            border-radius: 0.5rem; /* rounded-lg */
            border: 1px solid #cbd5e1; /* slate-300 */
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        .input-field:focus {
            outline: none;
            border-color: #0284c7; /* sky-600 */
            box-shadow: 0 0 0 2px #bae6fd; /* sky-200 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 50vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 450px;
            }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <span class="font-bold text-xl text-slate-900">âœˆï¸ é«˜åº¦è®¡å·¥å…·ç®±</span>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#concepts" class="text-slate-600 hover:text-sky-600 font-medium">æ ¸å¿ƒæ¦‚å¿µ</a>
                    <a href="#toolkit" class="text-slate-600 hover:text-sky-600 font-medium">äº¤äº’å·¥å…·</a>
                    <a href="#procedures" class="text-slate-600 hover:text-sky-600 font-medium">å…¨çƒç¨‹åº</a>
                    <a href="#safety" class="text-slate-600 hover:text-sky-600 font-medium">å®‰å…¨è¦ç‚¹</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">

        <section id="hero" class="text-center mb-20">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4">æŒæ¡å‚ç›´å¯¼èˆª</h1>
            <p class="text-lg md:text-xl text-slate-600 max-w-3xl mx-auto">ä¸€ä¸ªä¸ºé£è¡Œå‘˜è®¾è®¡çš„äº¤äº’å¼æŒ‡å—ï¼Œç”¨äºç†è§£å’Œåº”ç”¨QNHã€QFEã€æ¸©åº¦ä¿®æ­£åŠç›¸å…³é£è¡Œç¨‹åºã€‚</p>
        </section>

        <section id="concepts" class="mb-20">
            <h2 class="section-title">æ ¸å¿ƒæ¦‚å¿µï¼šQNH vs QFE vs QNE</h2>
            <p class="section-subtitle">
                é«˜åº¦è®¡è¯»æ•°å®Œå…¨å–å†³äºå…¶å‚è€ƒåŸºå‡†ã€‚æœ¬æ¨¡å—é€šè¿‡ä¸€ä¸ªäº¤äº’å¼åœºæ™¯ï¼Œç›´è§‚åœ°å±•ç¤ºäº†QNHã€QFEå’ŒQNEè¿™ä¸‰ä¸ªå…³é”®Qä»£ç ä¹‹é—´çš„æ ¹æœ¬åŒºåˆ«ã€‚ç‚¹å‡»æŒ‰é’®ï¼Œè§‚å¯Ÿé£æœºé«˜åº¦è®¡å¦‚ä½•å“åº”ä¸åŒçš„æ°”å‹è®¾ç½®ã€‚
            </p>
            <div class="card">
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div class="relative h-96 bg-sky-50 rounded-lg p-4 overflow-hidden">
                        <div id="msl" class="absolute bottom-0 left-0 w-full h-1/4 bg-blue-300/50 flex items-center justify-center font-bold text-blue-800">
                            å¹³å‡æµ·å¹³é¢ (MSL)
                        </div>
                        <div id="aerodrome" class="absolute bottom-1/4 left-0 w-full h-1/4 bg-green-300/60 flex flex-col items-center justify-center border-t-2 border-dashed border-green-700">
                            <span class="font-bold text-green-900">æœºåœºæ ‡é«˜: 500 ft</span>
                            <div class="w-24 h-4 bg-gray-500 rounded-t-sm mt-2"></div>
                        </div>
                        <div id="plane" class="absolute w-20 transition-all duration-500" style="left: 50%; transform: translateX(-50%); bottom: 60%;">
                            <svg viewBox="0 0 200 200" class="w-full h-full"><path fill="#334155" d="M188.7,92.5l-50-25c-2.3-1.1-5.7-1.1-8,0l-50,25c-5.5,2.7-5.5,10.2,0,13l50,25c2.3,1.1,5.7,1.1,8,0l50-25C194.2,102.7,194.2,95.3,188.7,92.5z M100,121.7l-32.5-16.2L100,89.2l32.5,16.2L100,121.7z"></path><path fill="#475569" d="M100,13.7c-44.1,0-80,35.9-80,80s35.9,80,80,80s80-35.9,80-80S144.1,13.7,100,13.7z M100,165.7c-38.6,0-70-31.4-70-70s31.4-70,70-70s70,31.4,70,70S138.6,165.7,100,165.7z"></path></svg>
                        </div>
                        <div id="reference-line" class="absolute left-0 w-full h-px bg-red-500 border-t-2 border-dashed border-red-500 transition-all duration-500" style="bottom: 50%;"></div>
                        <span id="reference-text" class="absolute text-red-600 font-bold transition-all duration-500" style="left: 1rem; bottom: 50%;">å‚è€ƒåŸºå‡†</span>
                    </div>

                    <div>
                        <div class="mb-6 flex justify-center space-x-2">
                            <button id="btn-qnh" class="btn btn-secondary active">è®¾ç½® QNH</button>
                            <button id="btn-qfe" class="btn btn-secondary">è®¾ç½® QFE</button>
                            <button id="btn-qne" class="btn btn-secondary">è®¾ç½® QNE</button>
                        </div>
                        <div class="bg-slate-100 p-6 rounded-lg text-center">
                            <h3 class="text-lg font-semibold text-slate-800 mb-2">é«˜åº¦è®¡è¯»æ•°</h3>
                            <p id="altimeter-reading" class="text-5xl font-bold text-sky-600 transition-all duration-300">2500 ft</p>
                            <p id="altimeter-desc" class="mt-4 text-slate-600 min-h-[6em]">å½“è®¾ç½®ä¸ºQNHæ—¶ï¼Œé«˜åº¦è®¡æŒ‡ç¤ºé£æœºé«˜äºå¹³å‡æµ·å¹³é¢ï¼ˆMSLï¼‰çš„æµ·æ‹”é«˜åº¦ã€‚è¿™æ˜¯å…¨çƒæœ€å¸¸ç”¨çš„è®¾ç½®ï¼Œå¯ç›´æ¥ä¸èˆªå›¾ä¸Šçš„åœ°å½¢å’Œéšœç¢ç‰©é«˜åº¦è¿›è¡Œæ¯”è¾ƒã€‚</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="toolkit" class="mb-20">
            <h2 class="section-title">äº¤äº’å¼è®¡ç®—å·¥å…·</h2>
            <p class="section-subtitle">
                ä»ç†è®ºåˆ°å®è·µã€‚ä½¿ç”¨ä¸‹é¢çš„è®¡ç®—å™¨æ¥æ‰§è¡Œå…³é”®çš„é«˜åº¦è®¡è®¾ç½®è½¬æ¢å’Œä¿®æ­£ã€‚è¿™äº›å·¥å…·æ—¨åœ¨å¸®åŠ©æ‚¨å¿«é€Ÿè¿›è¡Œä¼°ç®—ï¼Œå¹¶åŠ æ·±å¯¹èƒŒåæ•°å­¦åŸç†çš„ç†è§£ã€‚
            </p>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="card">
                    <h3 class="text-xl font-semibold text-slate-900 mb-4">QNH â‡‹ QFE è½¬æ¢å™¨</h3>
                    <div class="space-y-4">
                        <div>
                            <label for="q-airport-elev" class="input-label">æœºåœºæ ‡é«˜ (ft)</label>
                            <input type="number" id="q-airport-elev" class="input-field" value="500">
                        </div>
                        <div>
                            <label for="qnh-input" class="input-label">QNH (hPa)</label>
                            <input type="number" id="qnh-input" class="input-field" value="1013">
                        </div>
                        <div>
                            <label for="qfe-input" class="input-label">QFE (hPa)</label>
                            <input type="number" id="qfe-input" class="input-field" readonly>
                        </div>
                        <div>
                            <label class="input-label">è½¬æ¢æ³•åˆ™</label>
                            <div class="flex space-x-2">
                                <button id="rule-27" class="btn btn-secondary w-full">27 ft/hPa (ç²¾ç¡®)</button>
                                <button id="rule-30" class="btn btn-secondary active w-full">30 ft/hPa (å¸¸ç”¨)</button>
                            </div>
                        </div>
                        <div id="qfe-calc-details" class="bg-slate-50 p-3 rounded-lg text-sm text-slate-600"></div>
                    </div>
                </div>

                <div class="card">
                    <h3 class="text-xl font-semibold text-slate-900 mb-4">ä½æ¸©é«˜åº¦ä¿®æ­£è®¡ç®—å™¨</h3>
                    <div class="space-y-4">
                        <div>
                            <label for="published-alt" class="input-label">å…¬å¸ƒé«˜åº¦ (ft AMSL)</label>
                            <input type="number" id="published-alt" class="input-field" value="3000">
                        </div>
                        <div>
                            <label for="t-airport-elev" class="input-label">æœºåœºæ ‡é«˜ (ft)</label>
                            <input type="number" id="t-airport-elev" class="input-field" value="500">
                        </div>
                        <div>
                            <label for="airport-temp" class="input-label">æœºåœºæ¸©åº¦ (Â°C)</label>
                            <input type="number" id="airport-temp" class="input-field" value="-20">
                        </div>
                        <div class="bg-sky-100 text-sky-800 p-4 rounded-lg text-center">
                            <p class="font-semibold">åº”é£è¡Œçš„ä¿®æ­£é«˜åº¦ (ft AMSL):</p>
                            <p id="corrected-alt" class="text-3xl font-bold mt-1">3460 ft</p>
                            <p id="correction-details" class="text-sm mt-2">(å¢åŠ äº† 460 ft ä¿®æ­£)</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card mt-8">
                <h3 class="text-xl font-semibold text-slate-900 mb-1 text-center">æ¸©åº¦è¯¯å·®å¯è§†åŒ–</h3>
                <p class="text-slate-600 text-center mb-6">â€œä»çƒ­åˆ°å†·ï¼Œå½“å¿ƒæ‰å‘â€ã€‚æ‹–åŠ¨æ»‘å—ï¼Œè§‚å¯Ÿé«˜åº¦è®¡è¯¯å·®å¦‚ä½•éšç€ç¦»åœºé«˜åº¦çš„å¢åŠ å’Œæ¸©åº¦çš„é™ä½è€Œæ€¥å‰§å¢å¤§ã€‚</p>
                <div class="chart-container">
                    <canvas id="tempErrorChart"></canvas>
                </div>
                <div class="grid sm:grid-cols-2 gap-4 mt-6">
                    <div>
                        <label for="height-slider" class="input-label">ç¦»æœºåœºé«˜åº¦ (ft): <span id="height-slider-value" class="font-bold text-sky-600"></span></label>
                        <input type="range" id="height-slider" min="500" max="5000" value="2000" class="w-full">
                    </div>
                    <div>
                        <label for="temp-slider" class="input-label">æœºåœºæ¸©åº¦ (Â°C): <span id="temp-slider-value" class="font-bold text-sky-600"></span></label>
                        <input type="range" id="temp-slider" min="-50" max="30" value="-20" class="w-full">
                    </div>
                </div>
            </div>
        </section>

        <section id="procedures" class="mb-20">
            <h2 class="section-title">å…¨çƒç¨‹åºæ¦‚è§ˆ</h2>
            <p class="section-subtitle">
                è™½ç„¶ç‰©ç†åŸç†æ˜¯å…¨çƒé€šç”¨çš„ï¼Œä½†æ“ä½œç¨‹åºå´å› åœ°åŒºè€Œå¼‚ã€‚ç‚¹å‡»ä¸‹æ–¹çš„æ ‡ç­¾ï¼Œå¿«é€Ÿäº†è§£åŒ—ç¾ã€æ¬§æ´²å’Œä¸­ä¿„åœ°åŒºåœ¨é«˜åº¦è®¡è®¾ç½®æ–¹é¢çš„å…³é”®å·®å¼‚ã€‚
            </p>
            <div class="card">
                <div class="border-b border-slate-200">
                    <nav class="-mb-px flex space-x-6" aria-label="Tabs">
                        <button data-tab="na" class="proc-tab whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-sky-500 text-sky-600">åŒ—ç¾ (ç¾å›½/åŠ æ‹¿å¤§)</button>
                        <button data-tab="eu" class="proc-tab whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300">æ¬§æ´² (å…¸å‹)</button>
                        <button data-tab="ru-cn" class="proc-tab whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300">ä¿„ç½—æ–¯/ä¸­å›½ (å†å²/è¿‡æ¸¡ä¸­)</button>
                    </nav>
                </div>
                <div class="pt-6">
                    <div id="tab-content-na" class="proc-tab-content">
                        <ul class="space-y-3 list-disc list-inside text-slate-700">
                            <li><strong class="font-semibold text-slate-800">ä¸»è¦å‹åŠ›å•ä½:</strong> è‹±å¯¸æ±æŸ± (inHg)</li>
                            <li><strong class="font-semibold text-slate-800">ä¸»è¦è®¾ç½®:</strong> QNH</li>
                            <li><strong class="font-semibold text-slate-800">è¿‡æ¸¡é«˜åº¦:</strong> å›ºå®šçš„ 18,000 ft MSL</li>
                            <li><strong class="font-semibold text-slate-800">è¿‡æ¸¡é«˜åº¦å±‚:</strong> FL180ã€‚å½“QNHä½äº29.92 inHgæ—¶ï¼Œç”±ATCæŒ‡å®šæ›´é«˜çš„è¿‡æ¸¡é«˜åº¦å±‚ã€‚</li>
                            <li><strong class="font-semibold text-slate-800">QFEä½¿ç”¨:</strong> æå°‘ä½¿ç”¨ï¼Œä»…é™äºç‰¹æŠ€é£è¡Œæˆ–ç‰¹æ®Šå†›äº‹è¡ŒåŠ¨ã€‚</li>
                        </ul>
                    </div>
                    <div id="tab-content-eu" class="proc-tab-content hidden">
                        <ul class="space-y-3 list-disc list-inside text-slate-700">
                            <li><strong class="font-semibold text-slate-800">ä¸»è¦å‹åŠ›å•ä½:</strong> ç™¾å¸• (hPa)</li>
                            <li><strong class="font-semibold text-slate-800">ä¸»è¦è®¾ç½®:</strong> QNH</li>
                            <li><strong class="font-semibold text-slate-800">è¿‡æ¸¡é«˜åº¦:</strong> å„å›½ä¸åŒï¼Œé€šå¸¸è¾ƒä½ï¼ˆå¦‚3000è‡³10000 ftï¼‰ï¼Œéœ€æŸ¥çœ‹å…·ä½“èˆªå›¾ã€‚</li>
                            <li><strong class="font-semibold text-slate-800">è¿‡æ¸¡é«˜åº¦å±‚:</strong> å˜é‡ï¼Œç”±ATCæ ¹æ®å½“åœ°QNHè®¡ç®—å¹¶å‘å¸ƒåœ¨ATISä¸­ã€‚</li>
                            <li><strong class="font-semibold text-slate-800">QFEä½¿ç”¨:</strong> åœ¨VFRæœ¬åœºé£è¡Œã€æ»‘ç¿”å’Œå†›äº‹é£è¡Œä¸­è¾ƒä¸ºå¸¸è§ï¼Œå°¤å…¶åœ¨è‹±å›½ã€‚</li>
                        </ul>
                    </div>
                    <div id="tab-content-ru-cn" class="proc-tab-content hidden">
                         <ul class="space-y-3 list-disc list-inside text-slate-700">
                            <li><strong class="font-semibold text-slate-800">ä¸»è¦å‹åŠ›å•ä½:</strong> ç™¾å¸• (hPa)ï¼Œå†å²ä¸Šæ›¾ä½¿ç”¨æ¯«ç±³æ±æŸ± (mmHg)ã€‚</li>
                            <li><strong class="font-semibold text-slate-800">ä¸»è¦è®¾ç½®:</strong> å†å²ä¸Šå¼ºåˆ¶ä½¿ç”¨QFEå’Œç±³åˆ¶é«˜åº¦ï¼Œç°æ­£é€æ­¥å‘ICAOæ ‡å‡†çš„QNHå’Œè‹±å°ºè¿‡æ¸¡ã€‚</li>
                            <li><strong class="font-semibold text-slate-800">è¿‡æ¸¡ç¨‹åº:</strong> è¿‡æ¸¡æœŸç¨‹åºå¯èƒ½éå¸¸å¤æ‚ï¼Œå›½é™…æœºç»„éœ€æ¥å—ä¸“é—¨åŸ¹è®­ã€‚</li>
                            <li><strong class="font-semibold text-slate-800">å½“å‰çŠ¶æ€:</strong> å¤§å¤šæ•°ä¸»è¦å›½é™…æœºåœºå·²é‡‡ç”¨QNHç¨‹åºï¼Œä½†åœ¨éƒ¨åˆ†åœ°åŒºæˆ–å›½å†…èˆªç­ä»å¯èƒ½é‡åˆ°æ—§ç¨‹åºã€‚</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="safety" class="mb-20">
            <h2 class="section-title">å®‰å…¨è¦ç‚¹ä¸äººä¸ºå› ç´ </h2>
            <p class="section-subtitle">
                æŠ€æœ¯çŸ¥è¯†å¿…é¡»ä¸å¼ºå¤§çš„å®‰å…¨æ„è¯†ç›¸ç»“åˆã€‚é«˜åº¦è®¡è®¾ç½®æ˜¯å¯¼è‡´â€œé«˜åº¦åç¦»â€æœ€å¸¸è§çš„åŸå› ä¹‹ä¸€ã€‚äº†è§£è¿™äº›å¸¸è§é”™è¯¯æ˜¯é¿å…å®ƒä»¬çš„ç¬¬ä¸€æ­¥ã€‚
            </p>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="card bg-rose-50 border-l-4 border-rose-500">
                    <h4 class="font-bold text-rose-800 mb-2">ğŸš¨ å•ä½æ··æ·†</h4>
                    <p class="text-rose-700">å°† hPa è¯¯è®¾ä¸º inHgï¼Œæˆ–åä¹‹ã€‚ä¾‹å¦‚ï¼Œå°† 29.92 inHg (1013 hPa) è®¾ç½®æˆ 992 hPaï¼Œä¼šå¯¼è‡´è¿‘600è‹±å°ºçš„è¯»æ•°åä½é”™è¯¯ã€‚</p>
                </div>
                <div class="card bg-amber-50 border-l-4 border-amber-500">
                    <h4 class="font-bold text-amber-800 mb-2">âš ï¸ æ•°å€¼è¯¯è®¾</h4>
                    <p class="text-amber-700">ç®€å•çš„æ•°å­—é¢ å€’æˆ–å¬é”™ï¼Œä¾‹å¦‚å°† 1021 hPa è®¾æˆ 1012 hPaï¼Œä¼šé€ æˆçº¦270è‹±å°ºçš„è¯¯å·®ã€‚</p>
                </div>
                <div class="card bg-yellow-50 border-l-4 border-yellow-500">
                    <h4 class="font-bold text-yellow-800 mb-2">ğŸŒ¡ï¸ å¿½ç•¥æ¸©åº¦ä¿®æ­£</h4>
                    <p class="text-yellow-700">åœ¨ä½äºISAæ ‡å‡†çš„å¯’å†·å¤©æ°”ä¸­ï¼Œä¸è¿›è¡Œæ¸©åº¦ä¿®æ­£ä¼šä½¿é£æœºçš„çœŸå®é«˜åº¦ä½äºæŒ‡ç¤ºé«˜åº¦ï¼Œåœ¨å±±åŒºè¿›è¿‘æ—¶å°¤å…¶è‡´å‘½ã€‚</p>
                </div>
                <div class="card bg-blue-50 border-l-4 border-blue-500">
                    <h4 class="font-bold text-blue-800 mb-2">âœˆï¸ å¿˜è®°è½¬æ¢</h4>
                    <p class="text-blue-700">åœ¨é€šè¿‡è¿‡æ¸¡é«˜åº¦/é«˜åº¦å±‚æ—¶ï¼Œå¿˜è®°åœ¨QNHå’Œæ ‡å‡†æ°”å‹ (1013/29.92) ä¹‹é—´åˆ‡æ¢ï¼Œæ˜¯å¯¼è‡´é«˜åº¦åç¦»çš„å…¸å‹åŸå› ã€‚</p>
                </div>
                <div class="card bg-indigo-50 border-l-4 border-indigo-500">
                    <h4 class="font-bold text-indigo-800 mb-2">ğŸ¤” QNH/QFE æ··æ·†</h4>
                    <p class="text-indigo-700">åœ¨éœ€è¦ä½¿ç”¨QNHçš„ç¯å¢ƒä¸­ï¼Œè¯¯ä»¥ä¸ºè®¾ç½®çš„æ˜¯QFEï¼Œä¼šå¯¼è‡´å¯¹ç¦»åœ°é«˜åº¦çš„ä¸¥é‡è¯¯åˆ¤ã€‚</p>
                </div>
                <div class="card bg-green-50 border-l-4 border-green-500">
                    <h4 class="font-bold text-green-800 mb-2">âœ… é˜²å¾¡æªæ–½</h4>
                    <p class="text-green-700">ä¸¥æ ¼éµå®ˆSOPï¼å£å¤´å–Šè¯ã€äº¤å‰æ£€æŸ¥ã€åˆ©ç”¨æ‰€æœ‰ä¿¡æ¯æºï¼ˆATIS, ATCï¼‰è¿›è¡ŒéªŒè¯æ˜¯æœ€ä½³é˜²å¾¡ç­–ç•¥ã€‚</p>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-800 text-slate-400 py-8">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p>æœ¬åº”ç”¨æ˜¯åŸºäºä¸“ä¸šèˆªç©ºæŠ¥å‘Šåˆ›å»ºçš„äº¤äº’å¼å­¦ä¹ å·¥å…·ï¼Œä»…ä¾›æ•™è‚²å’Œå‚è€ƒä¹‹ç”¨ã€‚</p>
            <p class="mt-2 text-sm">å®é™…é£è¡Œæ“ä½œä¸­ï¼Œè¯·åŠ¡å¿…éµå¾ªå®˜æ–¹å‘å¸ƒçš„é£è¡Œç¨‹åºã€æ‰‹å†Œå’Œç®¡åˆ¶æŒ‡ä»¤ã€‚</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {

            // Section: Core Concepts
            const conceptPlane = document.getElementById('plane');
            const conceptRefLine = document.getElementById('reference-line');
            const conceptRefText = document.getElementById('reference-text');
            const altimeterReading = document.getElementById('altimeter-reading');
            const altimeterDesc = document.getElementById('altimeter-desc');
            const btnQnh = document.getElementById('btn-qnh');
            const btnQfe = document.getElementById('btn-qfe');
            const btnQne = document.getElementById('btn-qne');

            const conceptState = {
                planeAltitude: 2500, // AMSL
                aerodromeElevation: 500, // AMSL
                pressureAltitude: 2700 // Example
            };

            function updateConceptView(mode) {
                [btnQnh, btnQfe, btnQne].forEach(btn => btn.classList.remove('active'));
                let reading, description, refBottom, refText;

                switch (mode) {
                    case 'qfe':
                        btnQfe.classList.add('active');
                        reading = `${conceptState.planeAltitude - conceptState.aerodromeElevation} ft`;
                        description = 'å½“è®¾ç½®ä¸ºQFEæ—¶ï¼Œé«˜åº¦è®¡æŒ‡ç¤ºé£æœºç›¸å¯¹äºæœºåœºæ ‡é«˜çš„*ç›¸å¯¹é«˜åº¦* (Height)ã€‚åœ¨æœºåœºåœ°é¢æ—¶ï¼Œè¯»æ•°ä¸ºé›¶ã€‚';
                        refBottom = '25%'; // Aerodrome level
                        refText = 'å‚è€ƒåŸºå‡†: æœºåœºæ ‡é«˜';
                        break;
                    case 'qne':
                        btnQne.classList.add('active');
                        reading = `FL${Math.round(conceptState.pressureAltitude / 100)}`;
                        description = 'å½“è®¾ç½®ä¸ºQNEï¼ˆæ ‡å‡†æ°”å‹1013.25 hPaï¼‰æ—¶ï¼Œé«˜åº¦è®¡æŒ‡ç¤ºâ€œé£è¡Œé«˜åº¦å±‚â€(Flight Level)ï¼Œä¸ºé«˜ç©ºé£è¡Œçš„æ‰€æœ‰é£æœºæä¾›ç»Ÿä¸€çš„å‚ç›´å‚è€ƒã€‚';
                        refBottom = '50%'; // An arbitrary standard pressure level
                        refText = 'å‚è€ƒåŸºå‡†: æ ‡å‡†æ°”å‹é¢';
                        break;
                    case 'qnh':
                    default:
                        btnQnh.classList.add('active');
                        reading = `${conceptState.planeAltitude} ft`;
                        description = 'å½“è®¾ç½®ä¸ºQNHæ—¶ï¼Œé«˜åº¦è®¡æŒ‡ç¤ºé£æœºé«˜äºå¹³å‡æµ·å¹³é¢ï¼ˆMSLï¼‰çš„æµ·æ‹”é«˜åº¦ã€‚è¿™æ˜¯å…¨çƒæœ€å¸¸ç”¨çš„è®¾ç½®ï¼Œå¯ç›´æ¥ä¸èˆªå›¾ä¸Šçš„åœ°å½¢å’Œéšœç¢ç‰©é«˜åº¦è¿›è¡Œæ¯”è¾ƒã€‚';
                        refBottom = '0%'; // MSL
                        refText = 'å‚è€ƒåŸºå‡†: å¹³å‡æµ·å¹³é¢ (MSL)';
                        break;
                }
                
                altimeterReading.textContent = reading;
                altimeterDesc.textContent = description;
                conceptRefLine.style.bottom = refBottom;
                conceptRefText.style.bottom = `calc(${refBottom} + 0.5rem)`;
                conceptRefText.textContent = refText;
            }

            btnQnh.addEventListener('click', () => updateConceptView('qnh'));
            btnQfe.addEventListener('click', () => updateConceptView('qfe'));
            btnQne.addEventListener('click', () => updateConceptView('qne'));

            // Section: Toolkit - QNH/QFE Converter
            const qAirportElev = document.getElementById('q-airport-elev');
            const qnhInput = document.getElementById('qnh-input');
            const qfeInput = document.getElementById('qfe-input');
            const rule27 = document.getElementById('rule-27');
            const rule30 = document.getElementById('rule-30');
            const qfeCalcDetails = document.getElementById('qfe-calc-details');
            let conversionRule = 30;

            function calculateQfe() {
                const elev = parseFloat(qAirportElev.value) || 0;
                const qnh = parseFloat(qnhInput.value) || 0;
                
                if (elev >= 0 && qnh > 800) {
                    const pressureDiff = elev / conversionRule;
                    const qfe = qnh - pressureDiff;
                    qfeInput.value = qfe.toFixed(1);
                    qfeCalcDetails.innerHTML = `æ°”å‹å·® &approx; ${elev} ft / ${conversionRule} ft/hPa = ${pressureDiff.toFixed(1)} hPa<br>QFE &approx; ${qnh} hPa - ${pressureDiff.toFixed(1)} hPa = ${qfe.toFixed(1)} hPa`;
                } else {
                    qfeInput.value = '';
                    qfeCalcDetails.textContent = 'è¯·è¾“å…¥æœ‰æ•ˆçš„æœºåœºæ ‡é«˜å’ŒQNHå€¼ã€‚';
                }
            }
            
            rule27.addEventListener('click', () => {
                conversionRule = 27;
                rule27.classList.add('active');
                rule30.classList.remove('active');
                calculateQfe();
            });
             rule30.addEventListener('click', () => {
                conversionRule = 30;
                rule30.classList.add('active');
                rule27.classList.remove('active');
                calculateQfe();
            });
            
            [qAirportElev, qnhInput].forEach(el => el.addEventListener('input', calculateQfe));

            // Section: Toolkit - Temp Correction
            const publishedAltInput = document.getElementById('published-alt');
            const tAirportElevInput = document.getElementById('t-airport-elev');
            const airportTempInput = document.getElementById('airport-temp');
            const correctedAltText = document.getElementById('corrected-alt');
            const correctionDetailsText = document.getElementById('correction-details');
            
            const icaoCorrectionTable = {
              temps: [10, 0, -10, -20, -30, -40, -50],
              heights: [200, 300, 400, 500, 600, 700, 800, 900, 1000, 1200, 1500, 2000, 2500, 3000, 4000, 5000],
              corrections: [
                [10, 20, 20, 30, 40, 50, 60], [10, 20, 30, 50, 60, 70, 90], [20, 30, 50, 60, 80, 100, 120], [20, 40, 60, 80, 100, 120, 150], [20, 50, 70, 100, 120, 150, 180], [30, 60, 80, 110, 140, 170, 210], [30, 60, 90, 130, 160, 200, 240], [40, 70, 110, 140, 180, 220, 270], [40, 80, 120, 160, 200, 250, 300], [50, 90, 140, 190, 240, 300, 360], [60, 120, 180, 240, 300, 370, 450], [80, 150, 230, 310, 390, 480, 580], [100, 190, 290, 390, 490, 600, 720], [120, 230, 350, 460, 580, 710, 860], [160, 310, 460, 620, 780, 950, 1140], [200, 380, 580, 770, 970, 1180, 1420]
              ]
            };

            function getIcaoCorrection(heightAboveAerodrome, temp) {
                if (heightAboveAerodrome <= 0) return 0;
                
                const tempIndex = icaoCorrectionTable.temps.findIndex(t => temp >= t - 5 && temp < t + 5);
                let col = tempIndex === -1 ? (temp < -50 ? 6 : (temp > 10 ? 0 : -1)) : tempIndex;

                if (col === -1) { // Interpolate for temperature
                    let upperTempIndex = icaoCorrectionTable.temps.findIndex(t => t < temp);
                    let lowerTempIndex = upperTempIndex -1;
                     if(upperTempIndex === -1) { col = 0; }
                     else if (lowerTempIndex < 0) { col = 0; }
                     else { col = lowerTempIndex; }
                }


                let lowerHeightIndex = icaoCorrectionTable.heights.length - 1;
                while(icaoCorrectionTable.heights[lowerHeightIndex] > heightAboveAerodrome && lowerHeightIndex > 0) {
                  lowerHeightIndex--;
                }
                
                const upperHeightIndex = lowerHeightIndex + 1 < icaoCorrectionTable.heights.length ? lowerHeightIndex + 1 : lowerHeightIndex;

                const lowerHeight = icaoCorrectionTable.heights[lowerHeightIndex];
                const upperHeight = icaoCorrectionTable.heights[upperHeightIndex];
                const lowerCorrection = icaoCorrectionTable.corrections[lowerHeightIndex][col];
                const upperCorrection = icaoCorrectionTable.corrections[upperHeightIndex][col];

                if (upperHeight === lowerHeight) return lowerCorrection;

                const heightRatio = (heightAboveAerodrome - lowerHeight) / (upperHeight - lowerHeight);
                return Math.round(lowerCorrection + heightRatio * (upperCorrection - lowerCorrection));
            }


            function calculateTempCorrection() {
                const publishedAlt = parseFloat(publishedAltInput.value) || 0;
                const airportElev = parseFloat(tAirportElevInput.value) || 0;
                const temp = parseFloat(airportTempInput.value) || 0;

                const heightAboveAerodrome = publishedAlt - airportElev;
                
                if (heightAboveAerodrome > 0) {
                    const correction = getIcaoCorrection(heightAboveAerodrome, temp);
                    const correctedAlt = publishedAlt + correction;
                    
                    correctedAltText.textContent = `${Math.round(correctedAlt)} ft`;
                    correctionDetailsText.textContent = `(å¢åŠ äº† ${Math.round(correction)} ft ä¿®æ­£)`;
                } else {
                    correctedAltText.textContent = `${publishedAlt} ft`;
                    correctionDetailsText.textContent = `(æ— éœ€ä¿®æ­£)`;
                }
            }
            
            [publishedAltInput, tAirportElevInput, airportTempInput].forEach(el => el.addEventListener('input', calculateTempCorrection));
            
            // Section: Toolkit - Temp Error Chart
            const ctx = document.getElementById('tempErrorChart').getContext('2d');
            const heightSlider = document.getElementById('height-slider');
            const tempSlider = document.getElementById('temp-slider');
            const heightSliderValue = document.getElementById('height-slider-value');
            const tempSliderValue = document.getElementById('temp-slider-value');

            const tempErrorChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'é«˜åº¦è®¡è¯¯å·® (è‹±å°º)',
                        data: [],
                        borderColor: '#ef4444', // red-500
                        backgroundColor: '#fecaca', // red-200
                        fill: true,
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'çœŸå®é«˜åº¦ä½äºæŒ‡ç¤ºé«˜åº¦ (ft)' }
                        },
                        x: {
                            title: { display: true, text: 'ISA æ¸©åº¦åå·® (Â°C)' }
                        }
                    },
                    plugins: {
                        tooltip: {
                           callbacks: {
                               label: function(context) {
                                   return ` åœ¨ISAåå·® ${context.label}Â°Cæ—¶, è¯¯å·®çº¦ä¸º ${context.raw} ft`;
                               }
                           }
                        }
                    }
                }
            });

            function updateTempErrorChart() {
                const height = parseFloat(heightSlider.value);
                const temp = parseFloat(tempSlider.value);
                heightSliderValue.textContent = `${height} ft`;
                tempSliderValue.textContent = `${temp} Â°C`;

                const isaTempAtHeight = 15 - (height / 1000) * 2;
                const isaDeviation = temp - isaTempAtHeight;
                
                const labels = [];
                const data = [];
                
                for(let dev = -40; dev <= 10; dev+=5) {
                    const error = height * (dev / (273.15 + (isaTempAtHeight + dev))) * -1;
                    labels.push(`${dev}`);
                    data.push(error.toFixed(0));
                }

                tempErrorChart.data.labels = labels;
                tempErrorChart.data.datasets[0].data = data;
                tempErrorChart.update();
            }

            heightSlider.addEventListener('input', updateTempErrorChart);
            tempSlider.addEventListener('input', updateTempErrorChart);
            
            // Section: Procedures Tabs
            const procTabs = document.querySelectorAll('.proc-tab');
            const procTabContents = document.querySelectorAll('.proc-tab-content');

            procTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const target = tab.getAttribute('data-tab');
                    
                    procTabs.forEach(t => {
                        t.classList.remove('border-sky-500', 'text-sky-600');
                        t.classList.add('border-transparent', 'text-slate-500', 'hover:text-slate-700', 'hover:border-slate-300');
                    });
                    tab.classList.add('border-sky-500', 'text-sky-600');
                    tab.classList.remove('border-transparent', 'text-slate-500');

                    procTabContents.forEach(content => {
                        if (content.id === `tab-content-${target}`) {
                            content.classList.remove('hidden');
                        } else {
                            content.classList.add('hidden');
                        }
                    });
                });
            });


            // Initial calculations
            updateConceptView('qnh');
            calculateQfe();
            calculateTempCorrection();
            updateTempErrorChart();
        });
    </script>

</body>
</html>
