# ç»•æœºæ£€æŸ¥åˆ†åŒ…é¢„åŠ è½½å®Œæ•´æŒ‡å—

> **é‡è¦æç¤º**ï¼šæœ¬æ–‡æ¡£è¯¦ç»†è®°å½•äº†ç»•æœºæ£€æŸ¥æ¨¡å—çš„åˆ†åŒ…é¢„åŠ è½½æœºåˆ¶å’Œæ–°æœºå‹æ·»åŠ æµç¨‹ã€‚
> **ç›®çš„**ï¼šè®©ä»»ä½•äººçœ‹å®Œåèƒ½å¤Ÿå¿«é€Ÿæ·»åŠ æ–°æœºå‹ï¼ˆå¦‚B737ï¼‰ï¼Œæ— éœ€é‡å¤æ‘¸ç´¢ã€‚

---

## ğŸ“– ç›®å½•

1. [å¾®ä¿¡å°ç¨‹åºåˆ†åŒ…é¢„åŠ è½½æœºåˆ¶](#1-å¾®ä¿¡å°ç¨‹åºåˆ†åŒ…é¢„åŠ è½½æœºåˆ¶)
2. [å½“å‰A330ç»•æœºæ£€æŸ¥æ¶æ„](#2-å½“å‰a330ç»•æœºæ£€æŸ¥æ¶æ„)
3. [åˆ†åŒ…é¢„åŠ è½½å¼•å¯¼ç³»ç»Ÿï¼ˆ8æ­¥é…ç½®æ³•ï¼‰](#3-åˆ†åŒ…é¢„åŠ è½½å¼•å¯¼ç³»ç»Ÿ8æ­¥é…ç½®æ³•)
4. [æ·»åŠ æ–°æœºå‹å®Œæ•´æµç¨‹](#4-æ·»åŠ æ–°æœºå‹å®Œæ•´æµç¨‹)
5. [æ‰‹åŠ¨æ¸…ç†é¢„åŠ è½½çŠ¶æ€](#5-æ‰‹åŠ¨æ¸…ç†é¢„åŠ è½½çŠ¶æ€)
6. [æ•…éšœæ’æŸ¥æŒ‡å—](#6-æ•…éšœæ’æŸ¥æŒ‡å—)
7. [éªŒè¯æµ‹è¯•æ¸…å•](#7-éªŒè¯æµ‹è¯•æ¸…å•)

---

## 1. å¾®ä¿¡å°ç¨‹åºåˆ†åŒ…é¢„åŠ è½½æœºåˆ¶

### 1.1 ä¸ºä»€ä¹ˆéœ€è¦åˆ†åŒ…ï¼Ÿ

**å¾®ä¿¡å°ç¨‹åºç¡¬æ€§é™åˆ¶**ï¼š
- å•ä¸ªåˆ†åŒ…æœ€å¤§2MBï¼ˆ2048KBï¼‰
- ä¸»åŒ… + æ‰€æœ‰åˆ†åŒ…æ€»å¤§å°æœ€å¤§20MB

**ç»•æœºæ£€æŸ¥å›¾ç‰‡èµ„æº**ï¼š
- A330æœºå‹ï¼š24ä¸ªåŒºåŸŸï¼Œ132å¼ PNGå›¾ç‰‡ï¼Œæ€»å¤§å°çº¦4.3MB
- å¿…é¡»åˆ†æˆå¤šä¸ªåˆ†åŒ…ï¼ˆç›®å‰æ˜¯6ä¸ªåˆ†åŒ…ï¼Œæ¯ä¸ªçº¦600-800KBï¼‰

### 1.2 å¾®ä¿¡å°ç¨‹åºçš„é¢„åŠ è½½æœºåˆ¶ï¼ˆçœŸæœºå®ç°åŸç†ï¼‰

#### æ–¹å¼1ï¼šapp.jsonçš„preloadRuleï¼ˆè‡ªåŠ¨é¢„åŠ è½½ï¼‰

**é…ç½®ç¤ºä¾‹**ï¼š
```json
{
  "preloadRule": {
    "packageO/sunrise-sunset/index": {
      "packages": ["walkaroundImages2Package"],
      "network": "all"
    }
  }
}
```

**çœŸæœºå·¥ä½œåŸç†**ï¼š
1. ç”¨æˆ·è®¿é—®"æ—¥å‡ºæ—¥è½"é¡µé¢ï¼ˆ`packageO/sunrise-sunset/index`ï¼‰
2. å¾®ä¿¡åœ¨åå°è‡ªåŠ¨ä¸‹è½½`walkaroundImages2Package`åˆ†åŒ…
3. ä¸‹è½½å®Œæˆåï¼Œåˆ†åŒ…å†…å®¹å­˜å‚¨åœ¨å°ç¨‹åºç¼“å­˜ä¸­
4. ä¸‹æ¬¡è®¿é—®ç»•æœºæ£€æŸ¥åŒºåŸŸ5-8æ—¶ï¼Œå›¾ç‰‡ç›´æ¥ä»ç¼“å­˜åŠ è½½

**å…³é”®çº¦æŸ**ï¼š
- âš ï¸ **å•é¡µé¢é¢„åŠ è½½æ€»å¤§å°å¿…é¡»<2MB**ï¼ˆæ‰€æœ‰åˆ†åŒ…åŠ èµ·æ¥ï¼‰
- âš ï¸ **ç¦æ­¢åœ¨TabBarä¸»é¡µé¢é¢„åŠ è½½**ï¼ˆä¼šå½±å“å¯åŠ¨é€Ÿåº¦ï¼‰
- âš ï¸ **network: "all"** è¡¨ç¤ºWiFiå’Œç§»åŠ¨ç½‘ç»œéƒ½é¢„åŠ è½½

#### æ–¹å¼2ï¼šæ‰‹åŠ¨åŠ è½½ï¼ˆwx.loadSubpackageï¼‰

**ä»£ç ç¤ºä¾‹**ï¼š
```javascript
wx.loadSubpackage({
  name: 'walkaroundImages2Package',
  success: function(res) {
    console.log('åˆ†åŒ…åŠ è½½æˆåŠŸ');
  },
  fail: function(res) {
    console.error('åˆ†åŒ…åŠ è½½å¤±è´¥', res);
  }
});
```

**ç¼ºç‚¹**ï¼šéœ€è¦ç”¨æˆ·ä¸»åŠ¨è§¦å‘ï¼Œä½“éªŒä¸å¦‚è‡ªåŠ¨é¢„åŠ è½½ã€‚

### 1.3 æˆ‘ä»¬é‡‡ç”¨çš„æ–¹æ¡ˆï¼šå¼•å¯¼ç”¨æˆ·é¢„åŠ è½½

**æ ¸å¿ƒæ€è·¯**ï¼š
1. åŒºåŸŸ1-4çš„å›¾ç‰‡åœ¨ç»•æœºæ£€æŸ¥é¡µé¢è‡ªåŠ¨é¢„åŠ è½½ï¼ˆæœ¬é¡µé¢å°±æ˜¯é¢„åŠ è½½é¡µé¢ï¼‰
2. åŒºåŸŸ5-24çš„å›¾ç‰‡åˆ†æ•£åˆ°5ä¸ªä¸åŒçš„åŠŸèƒ½é¡µé¢é¢„åŠ è½½
3. ç”¨æˆ·é¦–æ¬¡è®¿é—®åŒºåŸŸ5+æ—¶ï¼Œå¼¹å‡ºå¼•å¯¼å¯¹è¯æ¡†ï¼Œå¼•å¯¼è®¿é—®å¯¹åº”é¡µé¢
4. ç”¨æˆ·è®¿é—®é¢„åŠ è½½é¡µé¢åï¼Œå¾®ä¿¡è‡ªåŠ¨ä¸‹è½½å›¾ç‰‡åˆ†åŒ…
5. ä¸‹æ¬¡è®¿é—®è¯¥åŒºåŸŸæ—¶ï¼Œå›¾ç‰‡ç›´æ¥ä»ç¼“å­˜åŠ è½½ï¼Œä¸å†å¼¹çª—

**ä¼˜ç‚¹**ï¼š
- âœ… ç»•è¿‡2MBå•é¡µé¢é¢„åŠ è½½é™åˆ¶
- âœ… ä¸å½±å“TabBaré¡µé¢å¯åŠ¨é€Ÿåº¦
- âœ… ç”¨æˆ·ä½“éªŒå¥½ï¼ˆåªéœ€è®¿é—®ä¸€æ¬¡ï¼‰
- âœ… å®Œå…¨ç¦»çº¿å¯ç”¨ï¼ˆè®¿é—®è¿‡åï¼‰

---

## 2. å½“å‰A330ç»•æœºæ£€æŸ¥æ¶æ„

### 2.1 åˆ†åŒ…ç»“æ„

```
packageWalkaround (ä¸»åˆ†åŒ…)
   â”œâ”€â”€ pages/index/              # ç»•æœºæ£€æŸ¥ä¸»é¡µé¢
   â”œâ”€â”€ data/a330/                # A330æ•°æ®ï¼ˆareas.js, checkitems.jsï¼‰
   â””â”€â”€ utils/                    # å·¥å…·å‡½æ•°

packageWalkaroundImages1 (600-800KB)
   â””â”€â”€ images1/                  # åŒºåŸŸ1-4å›¾ç‰‡ï¼ˆé¢„åŠ è½½é¡µé¢ï¼šç»•æœºæ£€æŸ¥æœ¬é¡µï¼‰

packageWalkaroundImages2 (600-800KB)
   â””â”€â”€ images2/                  # åŒºåŸŸ5-8å›¾ç‰‡ï¼ˆé¢„åŠ è½½é¡µé¢ï¼šæ—¥å‡ºæ—¥è½ï¼‰

packageWalkaroundImages3 (600-800KB)
   â””â”€â”€ images3/                  # åŒºåŸŸ9-12å›¾ç‰‡ï¼ˆé¢„åŠ è½½é¡µé¢ï¼šä¸ªäººæ£€æŸ¥å•ï¼‰

packageWalkaroundImages4 (600-800KB)
   â””â”€â”€ images4/                  # åŒºåŸŸ13-16å›¾ç‰‡ï¼ˆé¢„åŠ è½½é¡µé¢ï¼šé£è¡Œæ—¶é—´åˆ†æ‘Šï¼‰

packageWalkaroundImages5 (600-800KB)
   â””â”€â”€ images5/                  # åŒºåŸŸ17-20å›¾ç‰‡ï¼ˆé¢„åŠ è½½é¡µé¢ï¼šä½“æ£€æ ‡å‡†ï¼‰

packageWalkaroundImages6 (600-800KB)
   â””â”€â”€ images6/                  # åŒºåŸŸ21-24å›¾ç‰‡ï¼ˆé¢„åŠ è½½é¡µé¢ï¼šé€šä¿¡è§„èŒƒï¼‰
```

### 2.2 é¢„åŠ è½½å¼•å¯¼ç³»ç»Ÿæ¶æ„

```
ç”¨æˆ·ç‚¹å‡»åŒºåŸŸ5
    â†“
æ£€æŸ¥é¢„åŠ è½½çŠ¶æ€ï¼ˆwalkaround-preload-guide.jsï¼‰
    â†“
æœªé¢„åŠ è½½ â†’ æ˜¾ç¤ºå¼•å¯¼å¯¹è¯æ¡†
    â†“
å¼•å¯¼è®¿é—®"æ—¥å‡ºæ—¥è½"é¡µé¢
    â†“
ç”¨æˆ·è®¿é—®"æ—¥å‡ºæ—¥è½"
    â†“
å¾®ä¿¡è‡ªåŠ¨é¢„åŠ è½½walkaroundImages2Package
    â†“
æ ‡è®°åŒºåŸŸ5-8ä¸ºå·²é¢„åŠ è½½
    â†“
ä¸‹æ¬¡è®¿é—®åŒºåŸŸ5-8ï¼Œç›´æ¥æ˜¾ç¤ºå›¾ç‰‡ï¼Œä¸å†å¼¹çª—
```

---

## 3. åˆ†åŒ…é¢„åŠ è½½å¼•å¯¼ç³»ç»Ÿï¼ˆ8æ­¥é…ç½®æ³•ï¼‰

**âš ï¸ å†å²æ•™è®­**ï¼šæœ€åˆåªåšäº†5æ­¥ï¼Œå¯¼è‡´UKå’ŒChinese TaipeiéŸ³é¢‘æ— æ³•æ’­æ”¾ã€‚å¿…é¡»å®Œæˆå…¨éƒ¨8æ­¥ï¼

### æ­¥éª¤1ï¼šåˆ›å»ºåˆ†åŒ…ç›®å½•å’Œå›¾ç‰‡æ–‡ä»¶

```bash
# ç¤ºä¾‹ï¼šä¸ºåŒºåŸŸ5-8åˆ›å»ºåˆ†åŒ…
mkdir -p miniprogram/packageWalkaroundImages2/images2
mkdir -p miniprogram/packageWalkaroundImages2/pages/placeholder

# å¤åˆ¶å›¾ç‰‡åˆ°images2ç›®å½•
# ï¼ˆå‡è®¾ä½ å·²ç»å‡†å¤‡å¥½äº†åŒºåŸŸ5-8çš„æ‰€æœ‰ç»„ä»¶å›¾ç‰‡ï¼‰
cp æºç›®å½•/*.png miniprogram/packageWalkaroundImages2/images2/

# åˆ›å»ºå ä½é¡µé¢ï¼ˆå¾®ä¿¡è¦æ±‚åˆ†åŒ…å¿…é¡»æœ‰é¡µé¢ï¼‰
cat > miniprogram/packageWalkaroundImages2/pages/placeholder/index.json <<EOF
{
  "usingComponents": {}
}
EOF

cat > miniprogram/packageWalkaroundImages2/pages/placeholder/index.js <<EOF
Page({
  data: {}
});
EOF

cat > miniprogram/packageWalkaroundImages2/pages/placeholder/index.wxml <<EOF
<view>Placeholder page for packageWalkaroundImages2</view>
EOF

cat > miniprogram/packageWalkaroundImages2/pages/placeholder/index.wxss <<EOF
/* Placeholder styles */
EOF
```

**éªŒè¯**ï¼š
```bash
# æ£€æŸ¥ç›®å½•ç»“æ„
ls -la miniprogram/packageWalkaroundImages2/images2/
ls -la miniprogram/packageWalkaroundImages2/pages/placeholder/

# æ£€æŸ¥åˆ†åŒ…å¤§å°ï¼ˆå¿…é¡»<2MBï¼‰
du -sh miniprogram/packageWalkaroundImages2/
```

### æ­¥éª¤2ï¼šæ›´æ–°app.jsonï¼ˆæ·»åŠ åˆ†åŒ…é…ç½®ï¼‰

**æ–‡ä»¶ä½ç½®**ï¼š`miniprogram/app.json`

```json
{
  "subPackages": [
    // ... å…¶ä»–åˆ†åŒ…

    {
      "root": "packageWalkaroundImages2",
      "name": "walkaroundImages2Package",
      "pages": ["pages/placeholder/index"]
    }
  ],

  "preloadRule": {
    // ... å…¶ä»–é¢„åŠ è½½è§„åˆ™

    "packageO/sunrise-sunset/index": {
      "packages": ["walkaroundImages2Package"],
      "network": "all"
    }
  }
}
```

**è¯´æ˜**ï¼š
- `root`: åˆ†åŒ…ç›®å½•å
- `name`: åˆ†åŒ…åç§°ï¼ˆé©¼å³°å‘½åï¼‰
- `packages`: è¦é¢„åŠ è½½çš„åˆ†åŒ…åç§°æ•°ç»„
- `network: "all"`: WiFiå’Œç§»åŠ¨ç½‘ç»œéƒ½é¢„åŠ è½½

**âš ï¸ å…³é”®çº¦æŸ**ï¼š
- å•é¡µé¢é¢„åŠ è½½çš„æ‰€æœ‰åˆ†åŒ…æ€»å¤§å°å¿…é¡»<2MB
- ä¸èƒ½åœ¨TabBaré¡µé¢é…ç½®é¢„åŠ è½½

### æ­¥éª¤3ï¼šæ›´æ–°utils/walkaround-preload-guide.js

**æ–‡ä»¶ä½ç½®**ï¼š`miniprogram/utils/walkaround-preload-guide.js`

**æ·»åŠ åŒºåŸŸæ˜ å°„é…ç½®**ï¼š
```javascript
this.areaPackageMapping = {
  '1-4': {
    packageName: 'packageWalkaroundImages1',
    areaRange: [1, 2, 3, 4],
    areaNames: 'é©¾é©¶èˆ±å‰éƒ¨ã€å‰èµ·è½æ¶ã€å‰è´§èˆ±ã€å‰ç™»æœºé—¨',
    preloadPage: 'packageWalkaround/pages/index/index',
    preloadPageName: 'ç»•æœºæ£€æŸ¥',
    preloadPageIcon: 'âœˆï¸'
  },
  '5-8': {
    packageName: 'packageWalkaroundImages2',
    areaRange: [5, 6, 7, 8],
    areaNames: 'å·¦å‰é—¨ã€å·¦å‘åŠ¨æœºã€å·¦ä¸»èµ·è½æ¶ã€å·¦ç¿¼',
    preloadPage: 'packageO/sunrise-sunset/index',  // â† é¢„åŠ è½½é¡µé¢è·¯å¾„
    preloadPageName: 'æ—¥å‡ºæ—¥è½',                    // â† é¡µé¢åç§°
    preloadPageIcon: 'ğŸŒ…'                           // â† é¡µé¢å›¾æ ‡
  }
  // ... å…¶ä»–åŒºåŸŸ
};
```

**å…³é”®å­—æ®µè¯´æ˜**ï¼š
- `packageName`: å›¾ç‰‡åˆ†åŒ…çš„ç›®å½•å
- `areaRange`: åŒºåŸŸIDèŒƒå›´æ•°ç»„
- `areaNames`: åŒºåŸŸä¸­æ–‡åç§°ï¼ˆç”¨äºå¯¹è¯æ¡†æ˜¾ç¤ºï¼‰
- `preloadPage`: é¢„åŠ è½½é¡µé¢è·¯å¾„ï¼ˆå¿…é¡»ä¸app.jsonçš„preloadRuleé”®ä¸€è‡´ï¼‰
- `preloadPageName`: é¢„åŠ è½½é¡µé¢åç§°ï¼ˆæ˜¾ç¤ºåœ¨å¼•å¯¼å¯¹è¯æ¡†ä¸­ï¼‰
- `preloadPageIcon`: é¡µé¢å›¾æ ‡ï¼ˆemojiï¼‰

### æ­¥éª¤4ï¼šæ›´æ–°é¢„åŠ è½½é¡µé¢ï¼ˆæ ‡è®°åˆ†åŒ…ä¸ºå·²åŠ è½½ï¼‰

**æ–‡ä»¶ä½ç½®**ï¼š`miniprogram/packageO/sunrise-sunset/index.ts`

```typescript
// åœ¨é¡µé¢é¡¶éƒ¨å¼•å…¥é¢„åŠ è½½å¼•å¯¼
var WalkaroundPreloadGuide = require('../../utils/walkaround-preload-guide.js');

Page({
  customOnLoad: function() {
    // ... å…¶ä»–åˆå§‹åŒ–ä»£ç 

    // æ ‡è®°ç»•æœºæ£€æŸ¥åŒºåŸŸ5-8çš„å›¾ç‰‡åˆ†åŒ…ä¸ºå·²é¢„åŠ è½½
    try {
      var preloadGuide = new WalkaroundPreloadGuide();
      preloadGuide.markPackagePreloaded('5-8');  // â† åŒºåŸŸèŒƒå›´é”®
      console.log('âœ… å·²æ ‡è®°ç»•æœºæ£€æŸ¥åŒºåŸŸ5-8çš„å›¾ç‰‡åˆ†åŒ…ä¸ºå·²é¢„åŠ è½½');
    } catch (error) {
      console.error('âŒ æ ‡è®°ç»•æœºæ£€æŸ¥å›¾ç‰‡åˆ†åŒ…å¤±è´¥:', error);
    }

    // ... å…¶ä»–åˆå§‹åŒ–ä»£ç 
  }
});
```

**âš ï¸ å…³é”®ç‚¹**ï¼š
- `'5-8'` å¿…é¡»ä¸ `walkaround-preload-guide.js` ä¸­çš„é”®å®Œå…¨ä¸€è‡´
- å¿…é¡»åœ¨ `customOnLoad` æˆ– `onLoad` ä¸­è°ƒç”¨
- æ¯ä¸ªé¢„åŠ è½½é¡µé¢åªæ ‡è®°ä¸€ä¸ªåŒºåŸŸèŒƒå›´

### æ­¥éª¤5ï¼šæ›´æ–°ç»•æœºæ£€æŸ¥ä¸»é¡µé¢ï¼ˆé›†æˆå¼•å¯¼ç³»ç»Ÿï¼‰

**æ–‡ä»¶ä½ç½®**ï¼š`miniprogram/packageWalkaround/pages/index/index.js`

```javascript
// åœ¨é¡µé¢é¡¶éƒ¨å¼•å…¥é¢„åŠ è½½å¼•å¯¼
var WalkaroundPreloadGuide = require('../../../utils/walkaround-preload-guide.js');

Page({
  customOnLoad: function() {
    // åˆå§‹åŒ–é¢„åŠ è½½å¼•å¯¼ç³»ç»Ÿ
    this.preloadGuide = new WalkaroundPreloadGuide();

    // æ ‡è®°åŒºåŸŸ1-4ä¸ºå·²é¢„åŠ è½½ï¼ˆæœ¬é¡µé¢è‡ªåŠ¨é¢„åŠ è½½ï¼‰
    this.preloadGuide.markPackagePreloaded('1-4');
  },

  // ç”¨æˆ·ç‚¹å‡»åŒºåŸŸæ—¶æ£€æŸ¥é¢„åŠ è½½çŠ¶æ€
  selectAreaAndShowPopup: function(areaId) {
    var self = this;
    var area = this.data.areaList.find(function(item) {
      return item.id === areaId;
    });

    if (!area) {
      return;
    }

    // æ£€æŸ¥è¯¥åŒºåŸŸå¯¹åº”çš„å›¾ç‰‡åˆ†åŒ…æ˜¯å¦å·²é¢„åŠ è½½
    this.preloadGuide.checkPackagePreloaded(areaId).then(function(isPreloaded) {
      if (!isPreloaded) {
        // æœªé¢„åŠ è½½ï¼Œæ˜¾ç¤ºå¼•å¯¼å¯¹è¯æ¡†
        console.log('ğŸš¨ åŒºåŸŸ ' + areaId + ' çš„å›¾ç‰‡åˆ†åŒ…æœªé¢„åŠ è½½ï¼Œæ˜¾ç¤ºå¼•å¯¼å¯¹è¯æ¡†');
        self.preloadGuide.showPreloadGuideDialog(areaId).then(function(navigated) {
          if (!navigated) {
            // ç”¨æˆ·é€‰æ‹©ç¨åå†è¯´ï¼Œä»ç„¶æ˜¾ç¤ºè¯¦æƒ…ï¼ˆä½†å›¾ç‰‡å¯èƒ½åŠ è½½å¤±è´¥ï¼‰
            console.log('âš ï¸ ç”¨æˆ·é€‰æ‹©ç¨åå†è¯´ï¼Œä»ç„¶æ˜¾ç¤ºè¯¦æƒ…é¡µé¢');
            self.showAreaDetails(area, areaId);
          }
        });
      } else {
        // å·²é¢„åŠ è½½ï¼Œç›´æ¥æ˜¾ç¤ºè¯¦æƒ…
        console.log('âœ… åŒºåŸŸ ' + areaId + ' çš„å›¾ç‰‡åˆ†åŒ…å·²é¢„åŠ è½½ï¼Œç›´æ¥æ˜¾ç¤ºè¯¦æƒ…');
        self.showAreaDetails(area, areaId);
      }
    });
  }
});
```

### æ­¥éª¤6ï¼šç¡®ä¿å›¾ç‰‡è·¯å¾„é…ç½®æ­£ç¡®

**æ–‡ä»¶ä½ç½®**ï¼š`miniprogram/packageWalkaround/pages/index/index.js`

```javascript
// æ ¹æ®åŒºåŸŸIDè·å–å›¾ç‰‡è·¯å¾„
function getImagePathByArea(areaId) {
  if (areaId >= 1 && areaId <= 4) {
    return '/packageWalkaroundImages1/images1/';
  } else if (areaId >= 5 && areaId <= 8) {
    return '/packageWalkaroundImages2/images2/';
  } else if (areaId >= 9 && areaId <= 12) {
    return '/packageWalkaroundImages3/images3/';
  } else if (areaId >= 13 && areaId <= 16) {
    return '/packageWalkaroundImages4/images4/';
  } else if (areaId >= 17 && areaId <= 20) {
    return '/packageWalkaroundImages5/images5/';
  } else if (areaId >= 21 && areaId <= 24) {
    return '/packageWalkaroundImages6/images6/';
  }
  return '/packageWalkaroundImages1/images1/';  // é»˜è®¤
}
```

**âš ï¸ é‡è¦**ï¼š
- è·¯å¾„å¿…é¡»ä»¥ `/` å¼€å¤´ï¼ˆç»å¯¹è·¯å¾„ï¼‰
- è·¯å¾„å¿…é¡»ä»¥ `/` ç»“å°¾
- åŒºåŸŸèŒƒå›´å¿…é¡»è¿ç»­ï¼Œä¸èƒ½æœ‰é—æ¼

### æ­¥éª¤7ï¼šéªŒè¯å¾®ä¿¡å¼€å‘è€…å·¥å…·ç¼–è¯‘

```bash
# åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ï¼š
# 1. ç‚¹å‡»"ç¼–è¯‘"æŒ‰é’®
# 2. æ£€æŸ¥æ§åˆ¶å°æ— é”™è¯¯
# 3. æ£€æŸ¥"è¯¦æƒ… -> æœ¬åœ°ä»£ç  -> ä»£ç åŒ…å¤§å°è¯¦æƒ…"
#    - ç¡®è®¤æ–°åˆ†åŒ…å·²åˆ—å‡º
#    - ç¡®è®¤åˆ†åŒ…å¤§å° < 2MB
```

### æ­¥éª¤8ï¼šçœŸæœºæµ‹è¯•éªŒè¯

**æµ‹è¯•æ­¥éª¤**ï¼š
1. æ¸…ç†é¢„åŠ è½½çŠ¶æ€ï¼ˆæˆ‘çš„é¦–é¡µ â†’ åº”ç”¨ä¿¡æ¯ â†’ æ¸…ç†é¢„åŠ è½½çŠ¶æ€ï¼‰
2. è¿›å…¥ç»•æœºæ£€æŸ¥é¡µé¢
3. ç‚¹å‡»åŒºåŸŸ5
4. åº”è¯¥å¼¹å‡ºå¼•å¯¼å¯¹è¯æ¡†ï¼š"è¦æŸ¥çœ‹åŒºåŸŸ5ï¼Œè¯·å…ˆè®¿é—®ğŸŒ…æ—¥å‡ºæ—¥è½é¡µé¢"
5. ç‚¹å‡»"ç«‹å³å‰å¾€"
6. è¿›å…¥æ—¥å‡ºæ—¥è½é¡µé¢ï¼ˆå¾®ä¿¡è‡ªåŠ¨é¢„åŠ è½½å›¾ç‰‡åˆ†åŒ…ï¼‰
7. è¿”å›ç»•æœºæ£€æŸ¥é¡µé¢
8. å†æ¬¡ç‚¹å‡»åŒºåŸŸ5
9. åº”è¯¥ç›´æ¥æ˜¾ç¤ºå›¾ç‰‡ï¼Œä¸å†å¼¹çª—

**âš ï¸ 8æ­¥å…¨éƒ¨å®Œæˆæ‰ç®—é…ç½®æˆåŠŸï¼**

---

## 4. æ·»åŠ æ–°æœºå‹å®Œæ•´æµç¨‹

### åœºæ™¯ï¼šæ·»åŠ B737ç»•æœºæ£€æŸ¥

å‡è®¾B737æœ‰20ä¸ªæ£€æŸ¥åŒºåŸŸï¼Œ100å¼ å›¾ç‰‡ï¼Œæ€»å¤§å°çº¦3.5MBï¼Œéœ€è¦åˆ†æˆ5ä¸ªåˆ†åŒ…ã€‚

### 4.1 æ•°æ®å‡†å¤‡é˜¶æ®µ

#### æ­¥éª¤1ï¼šå‡†å¤‡æ£€æŸ¥åŒºåŸŸæ•°æ®

**åˆ›å»ºæ–‡ä»¶**ï¼š`miniprogram/packageWalkaround/data/b737/areas.js`

```javascript
var areas = [
  {
    id: 1,
    name_zh: 'æœºå¤´',
    name_en: 'Nose',
    sequence: 1,
    hotspot: {
      x: 150,  // Canvasçƒ­ç‚¹xåæ ‡
      y: 100,  // Canvasçƒ­ç‚¹yåæ ‡
      r: 30    // çƒ­ç‚¹åŠå¾„
    }
  },
  // ... å…¶ä»–19ä¸ªåŒºåŸŸ
];

module.exports = {
  areas: areas
};
```

#### æ­¥éª¤2ï¼šå‡†å¤‡æ£€æŸ¥é¡¹æ•°æ®

**åˆ›å»ºæ–‡ä»¶**ï¼š`miniprogram/packageWalkaround/data/b737/checkitems.js`

```javascript
var checkItems = [
  {
    id: 'b737_area1_item1',
    areaId: 1,
    sequence: 1,
    componentId: 'radome',
    requirement_zh: 'æ£€æŸ¥çŠ¶æ€',
    requirement_en: 'Check condition',
    notes_zh: 'æ— æŸå',
    notes_en: 'No damage'
  },
  // ... å…¶ä»–æ£€æŸ¥é¡¹
];

module.exports = {
  checkItems: checkItems
};
```

#### æ­¥éª¤3ï¼šå‡†å¤‡éƒ¨ä»¶å®šä¹‰æ•°æ®

**åˆ›å»ºæ–‡ä»¶**ï¼š`miniprogram/packageWalkaround/data/b737/components.js`

```javascript
var components = [
  {
    id: 'radome',
    name_zh: 'é›·è¾¾ç½©',
    name_en: 'Radome',
    category: 'fuselage'
  },
  // ... å…¶ä»–éƒ¨ä»¶
];

module.exports = {
  components: components
};
```

#### æ­¥éª¤4ï¼šå‡†å¤‡é£æœºCanvaså›¾ç‰‡

**æ–‡ä»¶è·¯å¾„**ï¼š`miniprogram/packageWalkaround/images/b737_aircraft.png`

- å°ºå¯¸å»ºè®®ï¼š800x600px
- æ ¼å¼ï¼šPNGé€æ˜èƒŒæ™¯
- åŒ…å«æ‰€æœ‰æ£€æŸ¥åŒºåŸŸçš„ç¤ºæ„å›¾

### 4.2 å›¾ç‰‡åˆ†åŒ…åˆ›å»ºé˜¶æ®µ

#### æ­¥éª¤1ï¼šè§„åˆ’åˆ†åŒ…æ•°é‡

```
æ€»å›¾ç‰‡å¤§å°ï¼š3.5MB
å•åˆ†åŒ…é™åˆ¶ï¼š1.8MBï¼ˆç•™10%ä½™é‡ï¼‰
åˆ†åŒ…æ•°é‡ï¼šceil(3.5 / 1.8) = 2ä¸ªåˆ†åŒ…

ä½†ä¸ºäº†å‡è¡¡ï¼Œæˆ‘ä»¬æŒ‰åŒºåŸŸåˆ’åˆ†ï¼š
- 20ä¸ªåŒºåŸŸ Ã· 5ä¸ªåˆ†åŒ… = æ¯åˆ†åŒ…4ä¸ªåŒºåŸŸ

åˆ†åŒ…1ï¼šåŒºåŸŸ1-4   (700KB)
åˆ†åŒ…2ï¼šåŒºåŸŸ5-8   (700KB)
åˆ†åŒ…3ï¼šåŒºåŸŸ9-12  (700KB)
åˆ†åŒ…4ï¼šåŒºåŸŸ13-16 (700KB)
åˆ†åŒ…5ï¼šåŒºåŸŸ17-20 (700KB)
```

#### æ­¥éª¤2ï¼šåˆ›å»º5ä¸ªå›¾ç‰‡åˆ†åŒ…

**ä½¿ç”¨PowerShellè„šæœ¬è‡ªåŠ¨åˆ›å»º**ï¼š

```powershell
# create-b737-packages.ps1
$packages = @(
    @{num=7; areas="1-4"},
    @{num=8; areas="5-8"},
    @{num=9; areas="9-12"},
    @{num=10; areas="13-16"},
    @{num=11; areas="17-20"}
)

foreach ($pkg in $packages) {
    $num = $pkg.num
    $dir = "miniprogram/packageWalkaroundImages$num"

    # åˆ›å»ºç›®å½•
    New-Item -ItemType Directory -Force -Path "$dir/images$num"
    New-Item -ItemType Directory -Force -Path "$dir/pages/placeholder"

    # åˆ›å»ºå ä½é¡µé¢
    @"
{
  "usingComponents": {}
}
"@ | Out-File -Encoding UTF8 "$dir/pages/placeholder/index.json"

    @"
Page({
  data: {}
});
"@ | Out-File -Encoding UTF8 "$dir/pages/placeholder/index.js"

    @"
<view>Placeholder page for packageWalkaroundImages$num</view>
"@ | Out-File -Encoding UTF8 "$dir/pages/placeholder/index.wxml"

    @"
/* Placeholder styles */
"@ | Out-File -Encoding UTF8 "$dir/pages/placeholder/index.wxss"

    Write-Host "âœ… åˆ›å»ºå®Œæˆ: packageWalkaroundImages$num (åŒºåŸŸ $($pkg.areas))"
}

Write-Host "`nğŸ‰ æ‰€æœ‰B737å›¾ç‰‡åˆ†åŒ…åˆ›å»ºå®Œæˆï¼"
```

è¿è¡Œè„šæœ¬ï¼š
```powershell
cd D:\FlightToolbox
.\create-b737-packages.ps1
```

#### æ­¥éª¤3ï¼šå¤åˆ¶å›¾ç‰‡åˆ°å„åˆ†åŒ…

**æ‰‹åŠ¨å¤åˆ¶**ï¼š
```powershell
# å¤åˆ¶åŒºåŸŸ1-4çš„å›¾ç‰‡åˆ°åˆ†åŒ…7
Copy-Item "æºç›®å½•/area1-4/*.png" "miniprogram/packageWalkaroundImages7/images7/"

# å¤åˆ¶åŒºåŸŸ5-8çš„å›¾ç‰‡åˆ°åˆ†åŒ…8
Copy-Item "æºç›®å½•/area5-8/*.png" "miniprogram/packageWalkaroundImages8/images8/"

# ... å…¶ä»–åˆ†åŒ…
```

**éªŒè¯å¤§å°**ï¼š
```powershell
Get-ChildItem "miniprogram/packageWalkaroundImages*" -Directory | ForEach-Object {
    $size = (Get-ChildItem $_.FullName -Recurse | Measure-Object -Property Length -Sum).Sum / 1KB
    Write-Host "$($_.Name): $([math]::Round($size, 2)) KB"
}
```

### 4.3 åˆ†åŒ…é…ç½®é˜¶æ®µ

#### æ­¥éª¤1ï¼šæ›´æ–°app.json

**åœ¨`subPackages`æ•°ç»„ä¸­æ·»åŠ **ï¼š

```json
{
  "subPackages": [
    // ... ç°æœ‰åˆ†åŒ…

    {
      "root": "packageWalkaroundImages7",
      "name": "walkaroundImages7Package",
      "pages": ["pages/placeholder/index"]
    },
    {
      "root": "packageWalkaroundImages8",
      "name": "walkaroundImages8Package",
      "pages": ["pages/placeholder/index"]
    },
    {
      "root": "packageWalkaroundImages9",
      "name": "walkaroundImages9Package",
      "pages": ["pages/placeholder/index"]
    },
    {
      "root": "packageWalkaroundImages10",
      "name": "walkaroundImages10Package",
      "pages": ["pages/placeholder/index"]
    },
    {
      "root": "packageWalkaroundImages11",
      "name": "walkaroundImages11Package",
      "pages": ["pages/placeholder/index"]
    }
  ]
}
```

#### æ­¥éª¤2ï¼šæ›´æ–°preloadRule

**é€‰æ‹©5ä¸ªé¢„åŠ è½½é¡µé¢**ï¼ˆæ¯ä¸ªé¡µé¢é¢„åŠ è½½ä¸€ä¸ªåˆ†åŒ…ï¼‰ï¼š

```json
{
  "preloadRule": {
    // A330ç°æœ‰è§„åˆ™
    "packageO/sunrise-sunset/index": {
      "packages": ["walkaroundImages2Package"],
      "network": "all"
    },

    // B737æ–°å¢è§„åˆ™
    "packageO/fuel-calculator/index": {
      "packages": ["walkaroundImages7Package"],
      "network": "all"
    },
    "packageO/weight-balance/index": {
      "packages": ["walkaroundImages8Package"],
      "network": "all"
    },
    "packageO/takeoff-performance/index": {
      "packages": ["walkaroundImages9Package"],
      "network": "all"
    },
    "packageO/landing-performance/index": {
      "packages": ["walkaroundImages10Package"],
      "network": "all"
    },
    "packageO/alternate-selection/index": {
      "packages": ["walkaroundImages11Package"],
      "network": "all"
    }
  }
}
```

**âš ï¸ é€‰æ‹©é¢„åŠ è½½é¡µé¢çš„åŸåˆ™**ï¼š
1. ä¸èƒ½æ˜¯TabBaré¡µé¢
2. é¡µé¢è®¿é—®é¢‘ç‡è¾ƒé«˜ï¼ˆç”¨æˆ·å®¹æ˜“è®¿é—®åˆ°ï¼‰
3. å•é¡µé¢é¢„åŠ è½½æ€»å¤§å°<2MB
4. å°½é‡é€‰æ‹©åŠŸèƒ½ç›¸å…³çš„é¡µé¢ï¼ˆå¦‚ç‡ƒæ²¹è®¡ç®—å™¨å¯¹åº”B737ç‡ƒæ²¹ç›¸å…³åŒºåŸŸï¼‰

### 4.4 é¢„åŠ è½½å¼•å¯¼ç³»ç»Ÿé…ç½®

#### æ­¥éª¤1ï¼šæ›´æ–°walkaround-preload-guide.js

**æ·»åŠ B737åŒºåŸŸæ˜ å°„**ï¼š

```javascript
this.areaPackageMapping = {
  // A330ç°æœ‰æ˜ å°„
  '1-4': {
    packageName: 'packageWalkaroundImages1',
    areaRange: [1, 2, 3, 4],
    areaNames: '...',
    preloadPage: 'packageWalkaround/pages/index/index',
    preloadPageName: 'ç»•æœºæ£€æŸ¥',
    preloadPageIcon: 'âœˆï¸',
    modelId: 'a330'  // â† æ·»åŠ æœºå‹æ ‡è¯†
  },

  // B737æ–°å¢æ˜ å°„
  'b737-1-4': {
    packageName: 'packageWalkaroundImages7',
    areaRange: [1, 2, 3, 4],
    areaNames: 'æœºå¤´ã€å‰èµ·è½æ¶ã€å‰è´§èˆ±ã€å‰é—¨',
    preloadPage: 'packageO/fuel-calculator/index',
    preloadPageName: 'ç‡ƒæ²¹è®¡ç®—å™¨',
    preloadPageIcon: 'â›½',
    modelId: 'b737'
  },
  'b737-5-8': {
    packageName: 'packageWalkaroundImages8',
    areaRange: [5, 6, 7, 8],
    areaNames: 'å·¦å‰é—¨ã€å·¦å‘åŠ¨æœºã€å·¦ä¸»èµ·è½æ¶ã€å·¦ç¿¼',
    preloadPage: 'packageO/weight-balance/index',
    preloadPageName: 'é‡é‡å¹³è¡¡',
    preloadPageIcon: 'âš–ï¸',
    modelId: 'b737'
  }
  // ... å…¶ä»–B737åŒºåŸŸ
};
```

#### æ­¥éª¤2ï¼šæ›´æ–°é¢„åŠ è½½é¡µé¢

**ä¸ºæ¯ä¸ªé¢„åŠ è½½é¡µé¢æ·»åŠ æ ‡è®°ä»£ç **ï¼š

```javascript
// packageO/fuel-calculator/index.js
var WalkaroundPreloadGuide = require('../../utils/walkaround-preload-guide.js');

Page({
  customOnLoad: function() {
    // æ ‡è®°B737åŒºåŸŸ1-4çš„å›¾ç‰‡åˆ†åŒ…ä¸ºå·²é¢„åŠ è½½
    try {
      var preloadGuide = new WalkaroundPreloadGuide();
      preloadGuide.markPackagePreloaded('b737-1-4');  // â† B737åŒºåŸŸé”®
      console.log('âœ… å·²æ ‡è®°B737åŒºåŸŸ1-4çš„å›¾ç‰‡åˆ†åŒ…ä¸ºå·²é¢„åŠ è½½');
    } catch (error) {
      console.error('âŒ æ ‡è®°å¤±è´¥:', error);
    }
  }
});
```

**é‡å¤ä»¥ä¸Šä»£ç åˆ°å…¶ä»–4ä¸ªé¢„åŠ è½½é¡µé¢**ï¼Œåˆ†åˆ«æ ‡è®°ï¼š
- `'b737-5-8'`
- `'b737-9-12'`
- `'b737-13-16'`
- `'b737-17-20'`

### 4.5 ç»•æœºæ£€æŸ¥é¡µé¢æ›´æ–°

#### æ­¥éª¤1ï¼šæ”¯æŒæœºå‹åˆ‡æ¢

**æ›´æ–°`packageWalkaround/pages/index/index.js`**ï¼š

```javascript
Page({
  data: {
    modelId: 'a330',  // å½“å‰æœºå‹ï¼ˆå¯åˆ‡æ¢ä¸º'b737'ï¼‰
    // ...
  },

  customOnLoad: function(options) {
    // ä»URLå‚æ•°è·å–æœºå‹ï¼ˆå¦‚æœ‰ï¼‰
    var modelId = options.model || 'a330';
    this.setData({ modelId: modelId });

    // åŠ è½½å¯¹åº”æœºå‹çš„æ•°æ®
    this.loadModelData(modelId);

    // åˆå§‹åŒ–é¢„åŠ è½½å¼•å¯¼ç³»ç»Ÿ
    this.preloadGuide = new WalkaroundPreloadGuide();

    // æ ‡è®°å½“å‰æœºå‹åŒºåŸŸ1-4ä¸ºå·²é¢„åŠ è½½
    var rangeKey = modelId === 'b737' ? 'b737-1-4' : '1-4';
    this.preloadGuide.markPackagePreloaded(rangeKey);
  },

  loadModelData: function(modelId) {
    var dataPath = '../../data/' + modelId + '/';
    var Areas = require(dataPath + 'areas.js');
    var CheckItems = require(dataPath + 'checkitems.js');
    var Components = require(dataPath + 'components.js');

    this.setData({
      areas: Areas.areas,
      checkItems: CheckItems.checkItems,
      components: Components.components
    });
  },

  // è·å–å›¾ç‰‡è·¯å¾„ï¼ˆæ ¹æ®æœºå‹ï¼‰
  getImagePathByArea: function(areaId) {
    var modelId = this.data.modelId;

    if (modelId === 'b737') {
      // B737å›¾ç‰‡è·¯å¾„
      if (areaId >= 1 && areaId <= 4) {
        return '/packageWalkaroundImages7/images7/';
      } else if (areaId >= 5 && areaId <= 8) {
        return '/packageWalkaroundImages8/images8/';
      } else if (areaId >= 9 && areaId <= 12) {
        return '/packageWalkaroundImages9/images9/';
      } else if (areaId >= 13 && areaId <= 16) {
        return '/packageWalkaroundImages10/images10/';
      } else if (areaId >= 17 && areaId <= 20) {
        return '/packageWalkaroundImages11/images11/';
      }
    } else {
      // A330å›¾ç‰‡è·¯å¾„ï¼ˆç°æœ‰é€»è¾‘ï¼‰
      if (areaId >= 1 && areaId <= 4) {
        return '/packageWalkaroundImages1/images1/';
      }
      // ... å…¶ä»–A330è·¯å¾„
    }

    return '/packageWalkaroundImages1/images1/';  // é»˜è®¤
  }
});
```

### 4.6 æ·»åŠ æœºå‹é€‰æ‹©å…¥å£

**åœ¨ç»•æœºæ£€æŸ¥ä¸»é¡µé¢æ·»åŠ æœºå‹åˆ‡æ¢æŒ‰é’®**ï¼š

```xml
<!-- packageWalkaround/pages/index/index.wxml -->
<view class="model-selector">
  <button bind:tap="switchToA330">A330</button>
  <button bind:tap="switchToB737">B737</button>
</view>
```

```javascript
// packageWalkaround/pages/index/index.js
Page({
  switchToA330: function() {
    wx.reLaunch({
      url: '/packageWalkaround/pages/index/index?model=a330'
    });
  },

  switchToB737: function() {
    wx.reLaunch({
      url: '/packageWalkaround/pages/index/index?model=b737'
    });
  }
});
```

---

## 5. æ‰‹åŠ¨æ¸…ç†é¢„åŠ è½½çŠ¶æ€

### 5.1 ä¸ºä»€ä¹ˆéœ€è¦æ‰‹åŠ¨æ¸…ç†ï¼Ÿ

**å¼€å‘è°ƒè¯•åœºæ™¯**ï¼š
- æµ‹è¯•é¢„åŠ è½½å¼•å¯¼å¯¹è¯æ¡†æ˜¯å¦æ­£å¸¸æ˜¾ç¤º
- éªŒè¯æ–°å¢åˆ†åŒ…çš„é¢„åŠ è½½æµç¨‹
- ä¿®å¤é¢„åŠ è½½å¼•å¯¼ç³»ç»Ÿbugåé‡æ–°æµ‹è¯•

**ä¸è‡ªåŠ¨æ¸…ç†çš„åŸå› **ï¼š
- çœŸæœºä¸Šä¸åº”è¯¥è‡ªåŠ¨æ¸…ç†ï¼ˆå½±å“ç”¨æˆ·ä½“éªŒï¼‰
- å¼€å‘å·¥å…·å’ŒçœŸæœºçš„å­˜å‚¨éš”ç¦»ï¼Œéœ€è¦æ‰‹åŠ¨æ§åˆ¶

### 5.2 æ¸…ç†åŠŸèƒ½ä½ç½®

**æˆ‘çš„é¦–é¡µ â†’ åº”ç”¨ä¿¡æ¯ â†’ æ¸…ç†é¢„åŠ è½½çŠ¶æ€**

### 5.3 æ¸…ç†æµç¨‹

1. æ‰“å¼€å°ç¨‹åºï¼Œè¿›å…¥"æˆ‘çš„é¦–é¡µ"ï¼ˆTabBarç¬¬5ä¸ªï¼‰
2. æ»šåŠ¨åˆ°"åº”ç”¨ä¿¡æ¯"åŒºåŸŸ
3. ç‚¹å‡»"æ¸…ç†é¢„åŠ è½½çŠ¶æ€"ï¼ˆæ©™çº¢è‰²èƒŒæ™¯ï¼‰
4. ç¡®è®¤å¯¹è¯æ¡†ï¼š
   ```
   âš ï¸ å¼€å‘è°ƒè¯•åŠŸèƒ½

   æ­¤åŠŸèƒ½å°†æ¸…é™¤ç»•æœºæ£€æŸ¥å›¾ç‰‡çš„æ‰€æœ‰é¢„åŠ è½½çŠ¶æ€ï¼Œä»…ç”¨äºå¼€å‘è°ƒè¯•ã€‚

   æ¸…ç†åï¼Œå†æ¬¡è®¿é—®ç»•æœºæ£€æŸ¥çš„åŒºåŸŸ5-24æ—¶å°†é‡æ–°æ˜¾ç¤ºé¢„åŠ è½½å¼•å¯¼å¯¹è¯æ¡†ã€‚

   é€šå¸¸åªåœ¨æµ‹è¯•å¼•å¯¼ç³»ç»Ÿæ—¶ä½¿ç”¨ï¼Œç¡®å®šè¦æ¸…ç†å—ï¼Ÿ

   [å–æ¶ˆ]  [ç¡®å®šæ¸…ç†]
   ```
5. ç‚¹å‡»"ç¡®å®šæ¸…ç†"
6. æ˜¾ç¤º"æ¸…ç†æˆåŠŸ"æç¤º
7. è¿”å›ç»•æœºæ£€æŸ¥é¡µé¢ï¼Œç‚¹å‡»åŒºåŸŸ5+ï¼Œåº”è¯¥é‡æ–°æ˜¾ç¤ºå¼•å¯¼å¯¹è¯æ¡†

### 5.4 æ¸…ç†å®ç°åŸç†

```javascript
// pages/home/index.js
clearPreloadStatus: function() {
  wx.showModal({
    title: 'âš ï¸ å¼€å‘è°ƒè¯•åŠŸèƒ½',
    content: 'æ­¤åŠŸèƒ½å°†æ¸…é™¤ç»•æœºæ£€æŸ¥å›¾ç‰‡çš„æ‰€æœ‰é¢„åŠ è½½çŠ¶æ€...',
    confirmText: 'ç¡®å®šæ¸…ç†',
    confirmColor: '#ff6b6b',
    success: function(res) {
      if (res.confirm) {
        // æ¸…é™¤å­˜å‚¨
        wx.setStorageSync('flight_toolbox_walkaround_preload_status', {});
        wx.showToast({
          title: 'æ¸…ç†æˆåŠŸ',
          icon: 'success'
        });
      }
    }
  });
}
```

**æ¸…é™¤çš„æ•°æ®**ï¼š
```javascript
// é¢„åŠ è½½çŠ¶æ€å­˜å‚¨æ ¼å¼
{
  '1-4': 1762224701882,      // æ—¶é—´æˆ³ï¼ˆæ ‡è®°åŠ è½½æ—¶é—´ï¼‰
  '5-8': 1762223528370,
  '9-12': 1762223497949,
  'b737-1-4': 1762224800000,
  // ...
}

// æ¸…ç†åå˜ä¸ºç©ºå¯¹è±¡
{}
```

---

## 6. æ•…éšœæ’æŸ¥æŒ‡å—

### 6.1 å¼•å¯¼å¯¹è¯æ¡†ä¸æ˜¾ç¤º

**ç—‡çŠ¶**ï¼šç‚¹å‡»åŒºåŸŸ5+æ—¶ï¼Œç›´æ¥æ˜¾ç¤ºè¯¦æƒ…é¡µé¢ï¼Œä½†å›¾ç‰‡404ï¼Œæ²¡æœ‰å¼•å¯¼å¯¹è¯æ¡†

**æ’æŸ¥æ­¥éª¤**ï¼š

1. **æ£€æŸ¥é¢„åŠ è½½çŠ¶æ€æ˜¯å¦è¢«é”™è¯¯æ ‡è®°**
   ```javascript
   // åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ§åˆ¶å°è¾“å…¥
   wx.getStorageSync('flight_toolbox_walkaround_preload_status')
   ```
   å¦‚æœè¿”å› `{ '5-8': 1762223528370 }`ï¼Œè¯´æ˜åŒºåŸŸ5-8å·²è¢«æ ‡è®°ä¸ºé¢„åŠ è½½ã€‚

   **è§£å†³**ï¼šæ¸…ç†é¢„åŠ è½½çŠ¶æ€ï¼ˆæˆ‘çš„é¦–é¡µ â†’ æ¸…ç†é¢„åŠ è½½çŠ¶æ€ï¼‰

2. **æ£€æŸ¥walkaround-preload-guide.jsé…ç½®**
   ```javascript
   // ç¡®è®¤åŒºåŸŸ5-8çš„é…ç½®å­˜åœ¨
   this.areaPackageMapping = {
     '5-8': { ... }  // â† å¿…é¡»å­˜åœ¨
   };
   ```

3. **æ£€æŸ¥ç»•æœºæ£€æŸ¥é¡µé¢æ˜¯å¦è°ƒç”¨æ£€æŸ¥æ–¹æ³•**
   ```javascript
   selectAreaAndShowPopup: function(areaId) {
     // å¿…é¡»è°ƒç”¨checkPackagePreloaded
     this.preloadGuide.checkPackagePreloaded(areaId).then(...);
   }
   ```

### 6.2 å¼•å¯¼å¯¹è¯æ¡†æ˜¾ç¤ºï¼Œä½†æŒ‰é’®æ–‡å­—è¿‡é•¿æŠ¥é”™

**ç—‡çŠ¶**ï¼šæ§åˆ¶å°æŠ¥é”™
```
wx.showModal:fail confirmText length should not larger than 4 Chinese characters
```

**åŸå› **ï¼šå¾®ä¿¡`wx.showModal`çš„`confirmText`æœ€å¤š4ä¸ªæ±‰å­—

**è§£å†³**ï¼š
```javascript
// âŒ é”™è¯¯
confirmText: 'å‰å¾€ ğŸŒ… æ—¥å‡ºæ—¥è½'  // 7ä¸ªå­—ç¬¦

// âœ… æ­£ç¡®
confirmText: 'ç«‹å³å‰å¾€'  // 4ä¸ªå­—ç¬¦
```

### 6.3 ç‚¹å‡»"ç«‹å³å‰å¾€"åï¼Œå›¾ç‰‡ä»ç„¶404

**ç—‡çŠ¶**ï¼šè®¿é—®äº†é¢„åŠ è½½é¡µé¢ï¼Œè¿”å›åå›¾ç‰‡ä»ç„¶åŠ è½½å¤±è´¥

**æ’æŸ¥æ­¥éª¤**ï¼š

1. **æ£€æŸ¥app.jsonçš„preloadRuleé…ç½®**
   ```json
   {
     "preloadRule": {
       "packageO/sunrise-sunset/index": {  // â† è·¯å¾„å¿…é¡»æ­£ç¡®
         "packages": ["walkaroundImages2Package"],  // â† åˆ†åŒ…åç§°å¿…é¡»æ­£ç¡®
         "network": "all"
       }
     }
   }
   ```

2. **æ£€æŸ¥åˆ†åŒ…åç§°æ˜¯å¦ä¸€è‡´**
   ```json
   // app.jsonçš„subPackages
   {
     "root": "packageWalkaroundImages2",
     "name": "walkaroundImages2Package",  // â† è¿™é‡Œ
     "pages": ["pages/placeholder/index"]
   }

   // app.jsonçš„preloadRule
   {
     "packageO/sunrise-sunset/index": {
       "packages": ["walkaroundImages2Package"],  // â† å¿…é¡»ä¸€è‡´
       "network": "all"
     }
   }
   ```

3. **æ£€æŸ¥å›¾ç‰‡è·¯å¾„æ˜¯å¦æ­£ç¡®**
   ```javascript
   // æ­£ç¡®çš„è·¯å¾„æ ¼å¼
   '/packageWalkaroundImages2/images2/component.png'

   // âŒ é”™è¯¯ç¤ºä¾‹
   'packageWalkaroundImages2/images2/component.png'  // ç¼ºå°‘å¼€å¤´çš„/
   '/packageWalkaroundImages2/images2'  // ç¼ºå°‘ç»“å°¾çš„/
   ```

4. **æ£€æŸ¥å›¾ç‰‡æ–‡ä»¶æ˜¯å¦å­˜åœ¨**
   ```bash
   # Windows PowerShell
   Test-Path "miniprogram/packageWalkaroundImages2/images2/component.png"
   ```

5. **æ£€æŸ¥åˆ†åŒ…å¤§å°æ˜¯å¦è¶…é™**
   ```powershell
   # Windows PowerShell
   $size = (Get-ChildItem "miniprogram/packageWalkaroundImages2" -Recurse |
            Measure-Object -Property Length -Sum).Sum / 1KB
   Write-Host "$size KB"

   # å¿…é¡» < 2048KB
   ```

### 6.4 çœŸæœºæµ‹è¯•æ—¶å›¾ç‰‡æ­£å¸¸ï¼Œå¼€å‘å·¥å…·å›¾ç‰‡404

**åŸå› **ï¼šå¼€å‘å·¥å…·çš„åˆ†åŒ…åŠ è½½æœºåˆ¶ä¸çœŸæœºä¸åŒ

**è§£å†³**ï¼šä»¥çœŸæœºæµ‹è¯•ä¸ºå‡†ï¼Œå¼€å‘å·¥å…·çš„404å¯å¿½ç•¥

### 6.5 æ·»åŠ æ–°åˆ†åŒ…åç¼–è¯‘å¤±è´¥

**ç—‡çŠ¶**ï¼š
```
Error: subPackage "packageWalkaroundImagesX" does not have any pages
```

**åŸå› **ï¼šç¼ºå°‘å ä½é¡µé¢

**è§£å†³**ï¼š
```bash
# åˆ›å»ºå ä½é¡µé¢ç›®å½•
mkdir -p miniprogram/packageWalkaroundImagesX/pages/placeholder

# åˆ›å»º4ä¸ªæ–‡ä»¶
# index.json, index.js, index.wxml, index.wxss
```

---

## 7. éªŒè¯æµ‹è¯•æ¸…å•

### 7.1 å¼€å‘å·¥å…·ç¼–è¯‘æµ‹è¯•

- [ ] å¾®ä¿¡å¼€å‘è€…å·¥å…·ç¼–è¯‘æ— é”™è¯¯
- [ ] æ§åˆ¶å°æ— warningï¼ˆå¯å¿½ç•¥Vantç»„ä»¶çš„getSystemInfoSyncè­¦å‘Šï¼‰
- [ ] "è¯¦æƒ… â†’ æœ¬åœ°ä»£ç  â†’ ä»£ç åŒ…å¤§å°è¯¦æƒ…"æ˜¾ç¤ºæ‰€æœ‰åˆ†åŒ…
- [ ] æ¯ä¸ªåˆ†åŒ…å¤§å° < 2MB
- [ ] preloadRuleé…ç½®æ˜¾ç¤ºæ­£ç¡®

### 7.2 åŠŸèƒ½æµ‹è¯•ï¼ˆå¼€å‘å·¥å…·ï¼‰

- [ ] ç»•æœºæ£€æŸ¥ä¸»é¡µé¢æ­£å¸¸åŠ è½½
- [ ] Canvasé£æœºå›¾æ­£å¸¸æ˜¾ç¤º
- [ ] ç‚¹å‡»çƒ­ç‚¹åŒºåŸŸæ­£ç¡®è¯†åˆ«
- [ ] ç‚¹å‡»åŒºåŸŸ1-4ç›´æ¥æ˜¾ç¤ºå›¾ç‰‡ï¼ˆæ— å¼•å¯¼å¯¹è¯æ¡†ï¼‰
- [ ] ç‚¹å‡»åŒºåŸŸ5-8æ˜¾ç¤ºå¼•å¯¼å¯¹è¯æ¡†
- [ ] å¯¹è¯æ¡†æ–‡å­—æ­£ç¡®ï¼ŒæŒ‰é’®æ–‡å­—"ç«‹å³å‰å¾€"
- [ ] ç‚¹å‡»"ç«‹å³å‰å¾€"æ­£ç¡®è·³è½¬åˆ°é¢„åŠ è½½é¡µé¢
- [ ] é¢„åŠ è½½é¡µé¢æ§åˆ¶å°è¾“å‡º"âœ… å·²æ ‡è®°..."
- [ ] è¿”å›ç»•æœºæ£€æŸ¥é¡µé¢ï¼Œå†æ¬¡ç‚¹å‡»åŒºåŸŸ5-8
- [ ] ç¬¬äºŒæ¬¡ç‚¹å‡»ä¸å†æ˜¾ç¤ºå¯¹è¯æ¡†ï¼Œç›´æ¥æ˜¾ç¤ºè¯¦æƒ…

### 7.3 æ¸…ç†åŠŸèƒ½æµ‹è¯•

- [ ] è¿›å…¥"æˆ‘çš„é¦–é¡µ"
- [ ] æ»šåŠ¨åˆ°"åº”ç”¨ä¿¡æ¯"åŒºåŸŸ
- [ ] å¯ä»¥çœ‹åˆ°"æ¸…ç†é¢„åŠ è½½çŠ¶æ€"æŒ‰é’®ï¼ˆæ©™çº¢è‰²èƒŒæ™¯ï¼‰
- [ ] ç‚¹å‡»æŒ‰é’®æ˜¾ç¤ºç¡®è®¤å¯¹è¯æ¡†
- [ ] å¯¹è¯æ¡†å†…å®¹å®Œæ•´ï¼Œè­¦å‘Šæ¸…æ™°
- [ ] ç‚¹å‡»"å–æ¶ˆ"ï¼Œå¯¹è¯æ¡†å…³é—­ï¼Œæ— æ“ä½œ
- [ ] ç‚¹å‡»"ç¡®å®šæ¸…ç†"ï¼Œæ˜¾ç¤º"æ¸…ç†æˆåŠŸ"
- [ ] æ¸…ç†åï¼Œé‡æ–°æµ‹è¯•åŒºåŸŸ5-8ï¼Œåº”è¯¥å†æ¬¡æ˜¾ç¤ºå¼•å¯¼å¯¹è¯æ¡†

### 7.4 çœŸæœºæµ‹è¯•ï¼ˆAndroidï¼‰

- [ ] æ‰«ç æ‰“å¼€å°ç¨‹åº
- [ ] è¿›å…¥ç»•æœºæ£€æŸ¥é¡µé¢
- [ ] ç‚¹å‡»åŒºåŸŸ1-4ï¼Œå›¾ç‰‡æ­£å¸¸æ˜¾ç¤º
- [ ] ç‚¹å‡»åŒºåŸŸ5-8ï¼Œæ˜¾ç¤ºå¼•å¯¼å¯¹è¯æ¡†
- [ ] ç‚¹å‡»"ç«‹å³å‰å¾€"ï¼Œè·³è½¬åˆ°é¢„åŠ è½½é¡µé¢
- [ ] ç­‰å¾…3-5ç§’ï¼ˆå¾®ä¿¡åå°ä¸‹è½½åˆ†åŒ…ï¼‰
- [ ] è¿”å›ç»•æœºæ£€æŸ¥é¡µé¢ï¼Œå†æ¬¡ç‚¹å‡»åŒºåŸŸ5-8
- [ ] å›¾ç‰‡æ­£å¸¸æ˜¾ç¤ºï¼Œæ— å¼•å¯¼å¯¹è¯æ¡†
- [ ] å¼€å¯é£è¡Œæ¨¡å¼
- [ ] å†æ¬¡è®¿é—®åŒºåŸŸ5-8ï¼Œå›¾ç‰‡ä»ç¼“å­˜åŠ è½½æ­£å¸¸æ˜¾ç¤º

### 7.5 çœŸæœºæµ‹è¯•ï¼ˆiOSï¼‰

- [ ] é‡å¤Androidæµ‹è¯•æ­¥éª¤
- [ ] ç‰¹åˆ«æ³¨æ„iOSçš„ç¼“å­˜æœºåˆ¶
- [ ] éªŒè¯é£è¡Œæ¨¡å¼ä¸‹å›¾ç‰‡æ­£å¸¸æ˜¾ç¤º

### 7.6 å›å½’æµ‹è¯•

**æ·»åŠ æ–°æœºå‹åå¿…é¡»éªŒè¯**ï¼š

- [ ] A330ç»•æœºæ£€æŸ¥åŠŸèƒ½æ­£å¸¸ï¼ˆæœªå—å½±å“ï¼‰
- [ ] A330é¢„åŠ è½½å¼•å¯¼æ­£å¸¸ï¼ˆæœªå—å½±å“ï¼‰
- [ ] B737ç»•æœºæ£€æŸ¥åŠŸèƒ½æ­£å¸¸
- [ ] B737é¢„åŠ è½½å¼•å¯¼æ­£å¸¸
- [ ] æœºå‹åˆ‡æ¢åŠŸèƒ½æ­£å¸¸
- [ ] æ¸…ç†é¢„åŠ è½½çŠ¶æ€å¯¹ä¸¤ä¸ªæœºå‹éƒ½ç”Ÿæ•ˆ

---

## 8. æ ¸å¿ƒæ–‡ä»¶æ¸…å•

### 8.1 é¢„åŠ è½½å¼•å¯¼ç³»ç»Ÿæ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶è·¯å¾„ | ä½œç”¨ | å…³é”®å†…å®¹ |
|---------|------|---------|
| `miniprogram/utils/walkaround-preload-guide.js` | é¢„åŠ è½½å¼•å¯¼ç®¡ç†å™¨ | åŒºåŸŸæ˜ å°„ã€å¯¹è¯æ¡†æ˜¾ç¤ºã€çŠ¶æ€ç®¡ç† |
| `miniprogram/app.json` | å°ç¨‹åºé…ç½® | subPackagesã€preloadRule |
| `miniprogram/packageWalkaround/pages/index/index.js` | ç»•æœºæ£€æŸ¥ä¸»é¡µé¢ | å¼•å¯¼ç³»ç»Ÿé›†æˆã€åŒºåŸŸç‚¹å‡»æ£€æŸ¥ |

### 8.2 é¢„åŠ è½½é¡µé¢æ–‡ä»¶ï¼ˆéœ€è¦æ·»åŠ æ ‡è®°ä»£ç ï¼‰

| æ–‡ä»¶è·¯å¾„ | è´Ÿè´£åŒºåŸŸ | æ ‡è®°é”® |
|---------|---------|--------|
| `packageO/sunrise-sunset/index.ts` | åŒºåŸŸ5-8 | `'5-8'` |
| `packageO/personal-checklist/index.ts` | åŒºåŸŸ9-12 | `'9-12'` |
| `packageO/flight-time-share/index.ts` | åŒºåŸŸ13-16 | `'13-16'` |
| `packageMedical/index.js` | åŒºåŸŸ17-20 | `'17-20'` |
| `pages/communication-rules/index.ts` | åŒºåŸŸ21-24 | `'21-24'` |

### 8.3 å›¾ç‰‡åˆ†åŒ…ç›®å½•ç»“æ„

```
packageWalkaroundImages1/
â”œâ”€â”€ images1/
â”‚   â”œâ”€â”€ component1.png
â”‚   â”œâ”€â”€ component2.png
â”‚   â””â”€â”€ ...
â””â”€â”€ pages/
    â””â”€â”€ placeholder/
        â”œâ”€â”€ index.js
        â”œâ”€â”€ index.json
        â”œâ”€â”€ index.wxml
        â””â”€â”€ index.wxss

packageWalkaroundImages2/
â”œâ”€â”€ images2/
â”‚   â””â”€â”€ ...
â””â”€â”€ pages/
    â””â”€â”€ placeholder/
        â””â”€â”€ ...

... (å…±6ä¸ªåˆ†åŒ…)
```

---

## 9. å¿«é€Ÿå‚è€ƒå‘½ä»¤

### 9.1 æ£€æŸ¥åˆ†åŒ…å¤§å°

```powershell
# PowerShell
Get-ChildItem "D:\FlightToolbox\miniprogram\packageWalkaroundImages*" -Directory | ForEach-Object {
    $size = (Get-ChildItem $_.FullName -Recurse | Measure-Object -Property Length -Sum).Sum / 1KB
    $color = if ($size -gt 2048) { "Red" } elseif ($size -gt 1840) { "Yellow" } else { "Green" }
    Write-Host "$($_.Name): $([math]::Round($size, 2)) KB" -ForegroundColor $color
}
```

### 9.2 æ£€æŸ¥å›¾ç‰‡æ–‡ä»¶æ•°é‡

```powershell
# PowerShell
Get-ChildItem "D:\FlightToolbox\miniprogram\packageWalkaroundImages*\images*" -Directory | ForEach-Object {
    $count = (Get-ChildItem $_.FullName -Filter *.png).Count
    Write-Host "$($_.Parent.Name)/$($_.Name): $count å¼ PNG"
}
```

### 9.3 éªŒè¯é¢„åŠ è½½é…ç½®

```powershell
# PowerShell - æ£€æŸ¥app.jsonçš„preloadRule
Get-Content "D:\FlightToolbox\miniprogram\app.json" |
    Select-String -Pattern '"preloadRule"' -Context 0,30
```

### 9.4 æ¸…ç†é¢„åŠ è½½çŠ¶æ€ï¼ˆå¼€å‘è°ƒè¯•ï¼‰

```javascript
// å¾®ä¿¡å¼€å‘è€…å·¥å…·æ§åˆ¶å°
wx.setStorageSync('flight_toolbox_walkaround_preload_status', {})
console.log('âœ… é¢„åŠ è½½çŠ¶æ€å·²æ¸…ç†')
```

---

## 10. å¸¸è§é—®é¢˜FAQ

### Q1: ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨wx.loadSubpackageæ‰‹åŠ¨åŠ è½½ï¼Ÿ

**A**:
- wx.loadSubpackageéœ€è¦ç”¨æˆ·ä¸»åŠ¨è§¦å‘ï¼ˆå¦‚ç‚¹å‡»æŒ‰é’®ï¼‰
- ç”¨æˆ·ä½“éªŒå·®ï¼ˆéœ€è¦ç­‰å¾…åŠ è½½è¿›åº¦ï¼‰
- preloadRuleæ˜¯å¾®ä¿¡åå°è‡ªåŠ¨åŠ è½½ï¼Œç”¨æˆ·æ— æ„ŸçŸ¥
- æˆ‘ä»¬çš„å¼•å¯¼ç³»ç»Ÿåªéœ€è¦ç”¨æˆ·è®¿é—®ä¸€æ¬¡é¡µé¢ï¼Œä¹‹åæ°¸ä¹…æœ‰æ•ˆ

### Q2: ä¸ºä»€ä¹ˆä¸åœ¨TabBaré¡µé¢é…ç½®preloadRuleï¼Ÿ

**A**:
- TabBaré¡µé¢æ˜¯åº”ç”¨å¯åŠ¨æ—¶åŠ è½½çš„é¦–é¡µ
- å¦‚æœé…ç½®å¤§é‡é¢„åŠ è½½ï¼Œä¼šæ˜¾è‘—å»¶é•¿å¯åŠ¨æ—¶é—´
- å¾®ä¿¡å®˜æ–¹å»ºè®®ä¸åœ¨TabBaré¡µé¢é…ç½®é¢„åŠ è½½

### Q3: å•é¡µé¢é¢„åŠ è½½<2MBï¼Œæ˜¯æŒ‡åˆ†åŒ…å¤§å°è¿˜æ˜¯å›¾ç‰‡å¤§å°ï¼Ÿ

**A**:
- æŒ‡çš„æ˜¯**åˆ†åŒ…æ€»å¤§å°**ï¼ˆåŒ…å«å›¾ç‰‡ã€ä»£ç ã€é…ç½®æ–‡ä»¶ç­‰ï¼‰
- åœ¨"è¯¦æƒ… â†’ æœ¬åœ°ä»£ç  â†’ ä»£ç åŒ…å¤§å°è¯¦æƒ…"ä¸­æŸ¥çœ‹
- æ–‡ä»¶ç®¡ç†å™¨æ˜¾ç¤ºçš„å¤§å°å¯èƒ½åŒ…å«æ–‡ä»¶ç³»ç»Ÿå¼€é”€ï¼Œä»¥å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸ºå‡†

### Q4: å›¾ç‰‡å¯ä»¥è·¨åˆ†åŒ…å…±äº«å—ï¼Ÿ

**A**:
- ä¸èƒ½å…±äº«ï¼Œå¿…é¡»å¤åˆ¶åˆ°æ¯ä¸ªéœ€è¦çš„åˆ†åŒ…
- å…è®¸é‡å¤å­˜å‚¨ï¼ˆç‹¬ç«‹æ€§åŸåˆ™ï¼‰
- è™½ç„¶å¢åŠ äº†æ€»å¤§å°ï¼Œä½†ä¿è¯äº†åˆ†åŒ…ç‹¬ç«‹åŠ è½½çš„å¯é æ€§

### Q5: æ·»åŠ æ–°æœºå‹éœ€è¦ä¿®æ”¹å‡ ä¸ªæ–‡ä»¶ï¼Ÿ

**A**:
- **æ•°æ®æ–‡ä»¶**ï¼š3ä¸ªï¼ˆareas.js, checkitems.js, components.jsï¼‰
- **é…ç½®æ–‡ä»¶**ï¼š2ä¸ªï¼ˆapp.json, walkaround-preload-guide.jsï¼‰
- **é¢„åŠ è½½é¡µé¢**ï¼šNä¸ªï¼ˆå–å†³äºåˆ†åŒ…æ•°é‡ï¼Œæ¯ä¸ªåˆ†åŒ…ä¸€ä¸ªé¡µé¢ï¼‰
- **ä¸»é¡µé¢**ï¼š1ä¸ªï¼ˆindex.jsï¼Œæ·»åŠ æœºå‹åˆ‡æ¢é€»è¾‘ï¼‰

### Q6: å¦‚ä½•åˆ¤æ–­éœ€è¦å‡ ä¸ªå›¾ç‰‡åˆ†åŒ…ï¼Ÿ

**A**:
```
å…¬å¼ï¼šåˆ†åŒ…æ•° = ceil(æ€»å›¾ç‰‡å¤§å° / 1.8MB)

ç¤ºä¾‹1ï¼š
- A330: 4.3MB Ã· 1.8MB = 2.4 â†’ éœ€è¦3ä¸ªåˆ†åŒ…
- å®é™…ä½¿ç”¨6ä¸ªåˆ†åŒ…ï¼ˆæ›´å‡è¡¡ï¼‰

ç¤ºä¾‹2ï¼š
- B737: 3.5MB Ã· 1.8MB = 1.9 â†’ éœ€è¦2ä¸ªåˆ†åŒ…
- å»ºè®®ä½¿ç”¨4-5ä¸ªåˆ†åŒ…ï¼ˆæ–¹ä¾¿æŒ‰åŒºåŸŸåˆ’åˆ†ï¼‰
```

**å»ºè®®**ï¼šä¼˜å…ˆæŒ‰åŒºåŸŸèŒƒå›´å‡åˆ†ï¼Œè€Œä¸æ˜¯å®Œå…¨æŒ‰å¤§å°è®¡ç®—

### Q7: é¢„åŠ è½½é¡µé¢çš„é€‰æ‹©æœ‰ä»€ä¹ˆè¦æ±‚ï¼Ÿ

**A**:
1. ä¸èƒ½æ˜¯TabBaré¡µé¢
2. ç”¨æˆ·è®¿é—®é¢‘ç‡è¾ƒé«˜ï¼ˆå®¹æ˜“è®¿é—®åˆ°ï¼‰
3. åŠŸèƒ½ç›¸å…³æ€§ï¼ˆå¦‚ç‡ƒæ²¹è®¡ç®—å™¨ â†’ B737ç‡ƒæ²¹ç›¸å…³åŒºåŸŸï¼‰
4. å•é¡µé¢é¢„åŠ è½½æ€»å¤§å°<2MB

**æ¨èé€‰æ‹©**ï¼š
- packageOä¸‹çš„å·¥å…·é¡µé¢ï¼ˆæ—¥å‡ºæ—¥è½ã€ä¸ªäººæ£€æŸ¥å•ç­‰ï¼‰
- ä¸“ä¸šåŠŸèƒ½é¡µé¢ï¼ˆä½“æ£€æ ‡å‡†ã€é€šä¿¡è§„èŒƒç­‰ï¼‰
- é¿å…é€‰æ‹©å¤æ‚é¡µé¢ï¼ˆå¦‚é©¾é©¶èˆ±æ¨¡å—ï¼‰

### Q8: å¼€å‘å·¥å…·å›¾ç‰‡404ï¼Œä½†çœŸæœºæ­£å¸¸ï¼Œæ˜¯å¦æœ‰é—®é¢˜ï¼Ÿ

**A**:
- **æ— é—®é¢˜**ï¼Œè¿™æ˜¯æ­£å¸¸ç°è±¡
- å¼€å‘å·¥å…·çš„åˆ†åŒ…åŠ è½½æœºåˆ¶ä¸çœŸæœºä¸åŒ
- ä»¥çœŸæœºæµ‹è¯•ä¸ºå‡†
- å¦‚æœçœŸæœºä¹Ÿ404ï¼Œæ‰éœ€è¦æ’æŸ¥é—®é¢˜

### Q9: å¦‚ä½•éªŒè¯åˆ†åŒ…æ˜¯å¦çœŸçš„é¢„åŠ è½½äº†ï¼Ÿ

**A**:
1. æ¸…ç†é¢„åŠ è½½çŠ¶æ€
2. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·Networké¢æ¿
3. è®¿é—®é¢„åŠ è½½é¡µé¢ï¼ˆå¦‚æ—¥å‡ºæ—¥è½ï¼‰
4. è§‚å¯ŸNetworké¢æ¿ï¼Œåº”è¯¥çœ‹åˆ°åˆ†åŒ…ä¸‹è½½è¯·æ±‚
5. è¿”å›ç»•æœºæ£€æŸ¥é¡µé¢ï¼Œç‚¹å‡»å¯¹åº”åŒºåŸŸ
6. å›¾ç‰‡è¯·æ±‚åº”è¯¥æ˜¾ç¤º"from cache"

### Q10: æ¸…ç†é¢„åŠ è½½çŠ¶æ€åï¼Œéœ€è¦é‡æ–°è®¿é—®æ‰€æœ‰é¢„åŠ è½½é¡µé¢å—ï¼Ÿ

**A**:
- **ä»…å¼€å‘è°ƒè¯•æ—¶éœ€è¦**
- çœŸæœºç”¨æˆ·ä½¿ç”¨æ—¶ï¼Œé¢„åŠ è½½çŠ¶æ€ä¼šæ°¸ä¹…ä¿å­˜ï¼ˆé™¤éæ¸…é™¤å°ç¨‹åºç¼“å­˜ï¼‰
- æ¸…ç†åŠŸèƒ½ä»…ç”¨äºå¼€å‘æµ‹è¯•å¼•å¯¼å¯¹è¯æ¡†

---

## 11. æ€»ç»“

### 11.1 æ ¸å¿ƒè¦ç‚¹

1. âœ… **åˆ†åŒ…å¤§å°**ï¼šå•ä¸ªåˆ†åŒ… < 2MBï¼Œå®é™…æ§åˆ¶åœ¨1.8MBä»¥å†…
2. âœ… **é¢„åŠ è½½é™åˆ¶**ï¼šå•é¡µé¢é¢„åŠ è½½æ€»å¤§å° < 2MB
3. âœ… **8æ­¥é…ç½®æ³•**ï¼šå¿…é¡»å…¨éƒ¨å®Œæˆï¼Œç¼ºä¸€ä¸å¯
4. âœ… **å ä½é¡µé¢**ï¼šæ¯ä¸ªåˆ†åŒ…å¿…é¡»æœ‰pages/placeholder/
5. âœ… **è·¯å¾„è§„èŒƒ**ï¼šç»å¯¹è·¯å¾„ï¼Œå‰åéƒ½è¦æ–œæ 
6. âœ… **çœŸæœºæµ‹è¯•**ï¼šä»¥çœŸæœºä¸ºå‡†ï¼Œå¼€å‘å·¥å…·ä»…ä¾›å‚è€ƒ

### 11.2 æ·»åŠ æ–°æœºå‹çš„æœ€å°æ­¥éª¤

```
1. å‡†å¤‡æ•°æ®ï¼ˆ3ä¸ªæ•°æ®æ–‡ä»¶ + Canvaså›¾ç‰‡ï¼‰
2. åˆ›å»ºåˆ†åŒ…ï¼ˆNä¸ªå›¾ç‰‡åˆ†åŒ…ç›®å½• + å ä½é¡µé¢ï¼‰
3. é…ç½®app.jsonï¼ˆsubPackages + preloadRuleï¼‰
4. é…ç½®å¼•å¯¼ç³»ç»Ÿï¼ˆwalkaround-preload-guide.jsï¼‰
5. æ›´æ–°é¢„åŠ è½½é¡µé¢ï¼ˆNä¸ªé¡µé¢æ·»åŠ æ ‡è®°ä»£ç ï¼‰
6. æ›´æ–°ä¸»é¡µé¢ï¼ˆæœºå‹åˆ‡æ¢é€»è¾‘ + å›¾ç‰‡è·¯å¾„ï¼‰
7. ç¼–è¯‘éªŒè¯ï¼ˆåˆ†åŒ…å¤§å° + åŠŸèƒ½æµ‹è¯•ï¼‰
8. çœŸæœºæµ‹è¯•ï¼ˆAndroid + iOS + ç¦»çº¿æ¨¡å¼ï¼‰
```

### 11.3 ä¸‹æ¬¡æ·»åŠ B737ç›´æ¥ä½¿ç”¨

**å‡†å¤‡é˜¶æ®µ**ï¼š
- [ ] æ”¶é›†B737æ£€æŸ¥åŒºåŸŸæ•°æ®ï¼ˆ20ä¸ªåŒºåŸŸï¼‰
- [ ] æ”¶é›†æ£€æŸ¥é¡¹æ•°æ®ï¼ˆ~100ä¸ªæ£€æŸ¥é¡¹ï¼‰
- [ ] æ”¶é›†éƒ¨ä»¶å®šä¹‰æ•°æ®ï¼ˆ~60ä¸ªéƒ¨ä»¶ï¼‰
- [ ] æ”¶é›†ç»„ä»¶å›¾ç‰‡ï¼ˆ~100å¼ PNGï¼‰
- [ ] å‡†å¤‡B737 Canvasé£æœºå›¾

**æ‰§è¡Œé˜¶æ®µ**ï¼ˆç›´æ¥æŒ‰ç¬¬4ç« æ­¥éª¤æ“ä½œï¼‰ï¼š
- [ ] åˆ›å»ºdata/b737/æ•°æ®æ–‡ä»¶
- [ ] åˆ›å»º5ä¸ªå›¾ç‰‡åˆ†åŒ…
- [ ] æ›´æ–°app.jsonï¼ˆ5ä¸ªåˆ†åŒ…é…ç½® + 5ä¸ªpreloadRuleï¼‰
- [ ] æ›´æ–°walkaround-preload-guide.jsï¼ˆ5ä¸ªåŒºåŸŸæ˜ å°„ï¼‰
- [ ] æ›´æ–°5ä¸ªé¢„åŠ è½½é¡µé¢ï¼ˆæ·»åŠ æ ‡è®°ä»£ç ï¼‰
- [ ] æ›´æ–°ä¸»é¡µé¢ï¼ˆæœºå‹åˆ‡æ¢ + å›¾ç‰‡è·¯å¾„ï¼‰
- [ ] ç¼–è¯‘éªŒè¯
- [ ] çœŸæœºæµ‹è¯•

**é¢„è®¡è€—æ—¶**ï¼š
- æ•°æ®å‡†å¤‡ï¼š2-4å°æ—¶
- é…ç½®å®æ–½ï¼š1-2å°æ—¶
- æµ‹è¯•éªŒè¯ï¼š1å°æ—¶
- **æ€»è®¡ï¼š4-7å°æ—¶**ï¼ˆè€Œä¸æ˜¯ä»Šå¤©çš„æ‘¸ç´¢æ—¶é—´ï¼‰

---

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0.0
**æœ€åæ›´æ–°**: 2025-11-04
**ä½œè€…**: ç‹èˆª
**é€‚ç”¨é¡¹ç›®**: FlightToolboxï¼ˆé£è¡Œå·¥å…·ç®±ï¼‰

**ä¸‹æ¬¡æ·»åŠ æ–°æœºå‹æ—¶ï¼Œç›´æ¥æ‰“å¼€æœ¬æ–‡æ¡£ï¼ŒæŒ‰ç¬¬4ç« æ­¥éª¤æ“ä½œå³å¯ï¼**
