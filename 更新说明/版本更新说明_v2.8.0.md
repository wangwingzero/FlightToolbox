# FlightToolbox 版本更新说明 v2.8.0

**发布日期**: 2025-10-24

---

## 版本 2.8.0（2025-10-24）

### 新增功能

- **执勤期计算器**：新增P章飞行值勤期和飞行时间限制计算工具
- **智能法规查询**：支持非扩编/扩编机组快速查询，自动计算执勤期结束时间
- **高级参数配置**：支持已飞时间、预计飞行时间、中断休息等多种场景
- **法规表格内置**：完整内置CCAR-121表A/B/C，支持离线查询
- **倒计时提醒**：实时显示执勤期剩余时间，避免超时风险

---

## 功能详解

### 📋 执勤期计算器

新增的执勤期计算器是基于《CCAR-121-R8 大型飞机公共航空运输承运人运行合格审定规则》P章（机组成员值勤期限制、飞行时间限制和休息要求）开发的专业工具，帮助飞行员快速查询和计算飞行值勤期限制。

#### 核心功能

1. **非扩编机组模式**
   - 输入报到时间和航段数
   - 自动查询表B获取最大飞行值勤期
   - 支持意外情况延长2小时
   - 支持执勤期中断休息扣减

2. **扩编机组模式**
   - 选择飞行员数量（3-5人）
   - 选择休息设施等级（1-3级）
   - 自动查询表C获取最大飞行值勤期
   - 同样支持意外情况和中断休息

3. **高级功能**
   - 已飞时间：输入当前已飞行时间，自动计算剩余可飞时间
   - 预计飞行时间：输入航班预计飞行时间，计算最晚起飞时间
   - 最后段关车时间：自动计算最早下次执勤期开始时间（+10小时休息期）
   - 中断休息：支持两种模式（快速输入时长 / 精确计算开始结束时间）

4. **法规表格**
   - 表A：非扩编飞行机组运行最大飞行时间限制
   - 表B：非扩编飞行机组运行最大飞行值勤期
   - 表C：扩编飞行机组运行最大飞行值勤期
   - 累积限制：连续日历日、连续日历周、连续日历月等限制查询

5. **历史记录**
   - 自动保存最近20次计算记录
   - 支持一键加载历史参数重新计算
   - 完整保存所有输入参数和计算结果

#### 使用场景

- ✈️ **航前准备**：在任务派遣时快速确认执勤期是否合规
- 🕐 **实时监控**：飞行中实时查看剩余执勤时间，避免超时
- 📊 **复杂场景**：处理意外延误、中断休息等特殊情况
- 📚 **法规学习**：查阅完整的P章法规表格，学习相关规定
- 🔄 **多次查询**：历史记录功能方便比较不同参数下的计算结果

---

## 技术特性

- ✅ **完全离线可用**：所有数据和法规表格内置，无需网络
- ✅ **性能优化**：法规表格按需加载，避免影响页面初始加载速度
- ✅ **智能提示**：实时验证输入参数，给出明确的错误提示
- ✅ **响应式布局**：适配各种屏幕尺寸，支持横屏显示

---

## 使用入口

在"我的首页"页面，点击"执勤期计算器"卡片即可进入。

---

## 反馈与支持

如您在使用过程中遇到任何问题或有改进建议，欢迎通过以下方式联系作者：

- 微信号：wwingzero
- 公众号：飞行播客

感谢您的支持！✈️

