# CPDLC电文数据转换指南

## 目标
将 `D:\FlightToolbox\图片\CPDLC电文.md` 文件中的表格数据转换为 JavaScript 格式。

## 数据模板位置
参考模板文件：`D:\FlightToolbox\miniprogram\packageO\cpdlc\data-template.js`

## 转换要求

### 1. 数据结构
转换后的 JavaScript 数据应该遵循以下结构：

```javascript
var cpdlcMessages = {
  uplink: [
    {
      id: '电文编号',
      category: '分类名称',
      purpose: '电文目的/用途',
      format_en: '英文格式',
      format_zh: '中文格式',
      urgent: '紧急级别',
      alert: '告警级别',
      response: '回答要求'
    }
  ],
  downlink: [ /* 同上结构 */ ]
};
```

### 2. 字段说明

- **id**: 电文编号(字符串,如 "0", "1", "235")
- **category**: 分类名称
  - 上行电文: "回答/认收", "垂直许可", "穿越限制", "横向偏离", "航路改变", "速度变化", "联络/监测/监视请求", "报告/证实请求", "询问请求", "空中交通咨询", "系统管理电文", "间距电文", "其他电文"
  - 下行电文: "回答", "垂直请求", "横向偏离请求", "速度请求", "话音联络请求", "航路改变请求", "报告", "询问请求", "紧急电文", "系统管理电文", "间距信息", "其他电文", "询问回答"
- **purpose**: 电文目的/用途的中文描述
- **format_en**: 电文规定格式的英文部分
- **format_zh**: 电文规定格式的中文部分
- **urgent**: 紧急级别 (N/U/D/M/L)
- **alert**: 告警级别 (N/L/M/H)
- **response**: 回答要求 (N/Y/R/W/U/A/N等)

### 3. 表格映射关系

MD文件中的表格对应关系：

**上行电文(Uplink):**
- 表 A5-1 → category: "回答/认收"
- 表 A5-2 → category: "垂直许可"
- 表 A5-3 → category: "穿越限制"
- 表 A5-4 → category: "横向偏离"
- 表 A5-5 → category: "航路改变"
- 表 A5-6 → category: "速度变化"
- 表 A5-7 → category: "联络/监测/监视请求"
- 表 A5-8 + 表A5-9的一部分 → category: "报告/证实请求"
- 表 A5-9(后半部分) → category: "询问请求"
- 表 A5-10 → category: "空中交通咨询"
- 表 A5-11 → category: "系统管理电文"
- 表 A5-12 → category: "间距电文"
- 表 A5-13 → category: "其他电文"

**下行电文(Downlink):**
- 表 A5-14 → category: "回答"
- 表 A5-15 → category: "垂直请求"
- 表 A5-16 → category: "横向偏离请求"
- 表 A5-17 → category: "速度请求"
- 表 A5-18 → category: "话音联络请求"
- 表 A5-19 → category: "航路改变请求"
- 表 A5-20 → category: "报告"
- 表 A5-21 → category: "询问请求"
- 表 A5-22 → category: "紧急电文"
- 表 A5-23 → category: "系统管理电文"
- 表 A5-24 → category: "间距信息"
- 表 A5-25 → category: "其他电文"
- 表 A5-26 → category: "询问回答"

### 4. 特殊处理说明

1. **电文格式拆分**: MD中"电文规定格式"列通常包含英文和中文,需要拆分为 `format_en` 和 `format_zh`
   - 示例: "UNABLE\n不能" → format_en: "UNABLE", format_zh: "不能"

2. **预留项处理**: 标记为"(预留)"的项目可以跳过或保留,保留时purpose设为"(预留)"

3. **特殊字符处理**:
   - 括号中的参数如 `(level)`, `(position)` 等保持原样
   - 多行格式用 `\n` 连接

4. **非固定格式电文**:
   - format_en: "(free text)"
   - format_zh: "(非固定格式电文)"

## 给其他AI的转换提示词

```
请将以下CPDLC电文MD文件转换为JavaScript数据格式:

输入文件: D:\FlightToolbox\图片\CPDLC电文.md
参考模板: D:\FlightToolbox\miniprogram\packageO\cpdlc\data-template.js

要求:
1. 完整提取所有上行电文和下行电文数据
2. 严格按照data-template.js中的数据结构
3. 正确拆分英文格式和中文格式
4. 根据表格标题设置正确的category分类
5. 输出完整的cpdlc-data.js文件,可直接用于小程序

注意事项:
- 保留所有特殊参数如(level)、(position)、(time)等
- 预留项可以保留或跳过
- 确保紧急、告警、回答字段的值准确
- 最后用 module.exports = cpdlcMessages; 导出数据

开始转换吧!
```

## 输出文件位置
转换完成后,将数据保存到：
`D:\FlightToolbox\miniprogram\packageO\cpdlc\cpdlc-data.js`
