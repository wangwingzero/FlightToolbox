<view class="container" data-theme="{{ isDarkMode ? 'dark' : 'light' }}">
  <view class="page-header">
    <view class="header-title">🌡️ ISA温度</view>
    <view class="header-subtitle">国际标准大气温度计算</view>
  </view>

  <view class="calculation-module">
    <view class="input-section">
      <view class="section-title">📊 基础参数</view>
      
      <view class="input-group">
        <view class="input-label">📏 高度</view>
        <van-field
          value="{{ isaAltitude }}"
          placeholder="请输入高度"
          type="digit"
          bind:change="onISAAltitudeChange"
          input-align="right"
        >
          <view slot="right-icon" class="unit-label">英尺</view>
        </van-field>
      </view>

      <view class="input-group">
        <view class="input-label">🌡️ 外界温度 (OAT)</view>
        <van-field
          value="{{ isaOAT }}"
          placeholder="请输入外界温度"
          type="text"
          bind:change="onISAOATChange"
          input-align="right"
        >
          <view slot="right-icon" class="unit-label">°C</view>
        </van-field>
      </view>
    </view>

    <view class="action-buttons">
      <van-button type="primary" bind:click="calculateISA" block>
        🚀 计算ISA
      </van-button>
      <van-button type="default" bind:click="clearISA" block>
        🗑️ 清空数据
      </van-button>
    </view>

    <!-- 计算结果 -->
    <view wx:if="{{ isaStandardTemp }}" class="result-section">
      <view class="section-title">📊 计算结果</view>
      <view class="result-grid">
        <view class="result-item">
          <view class="result-label">ISA标准温度</view>
          <view class="result-value">{{ isaStandardTemp }}°C</view>
        </view>
        <view class="result-item">
          <view class="result-label">温度偏差</view>
          <view class="result-value">{{ isaDeviation }}°C</view>
        </view>
      </view>
    </view>
  </view>

  <!-- 使用说明 -->
  <view class="instruction-section">
    <view class="instruction-title">💡 使用说明</view>
    <view class="instruction-content">
      <text class="instruction-text">• ISA标准：海平面15°C，每升高1000英尺温度降低2°C</text>
      <text class="instruction-text">• 计算公式：ISA温度 = 15 - (高度 ÷ 1000) × 2</text>
      <text class="instruction-text">• 温度偏差：实际温度与ISA标准温度的差值</text>
      <text class="instruction-text">• 正偏差表示比标准温度高，负偏差表示比标准温度低</text>
    </view>
  </view>
</view>