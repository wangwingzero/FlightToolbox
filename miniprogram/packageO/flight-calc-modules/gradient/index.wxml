<view class="container" data-theme="{{ isDarkMode ? 'dark' : 'light' }}">
  <view class="page-header">
    <view class="header-title">ğŸ“ æ¢¯åº¦è®¡ç®—</view>
    <view class="header-subtitle">é£è¡Œæ¢¯åº¦ã€å‡é™ç‡æ¢ç®—</view>
  </view>

  <view class="calculation-module">
    <view class="input-section">
      <view class="section-title">è¾“å…¥å‚æ•°</view>
      
      <view class="input-group">
        <view class="input-label">ğŸ“ æ¢¯åº¦</view>
        <van-field
          value="{{ gradient.gradientInput }}"
          placeholder="è¯·è¾“å…¥æ¢¯åº¦"
          type="digit"
          bind:change="onGradientInputChange"
          input-align="right"
        >
          <view slot="right-icon" class="unit-label">%</view>
        </van-field>
      </view>

      <view class="input-group">
        <view class="input-label">ğŸŒ¬ï¸ åœ°é€Ÿ</view>
        <van-field
          value="{{ gradient.groundSpeedInput }}"
          placeholder="è¯·è¾“å…¥åœ°é€Ÿ"
          type="digit"
          bind:change="onGroundSpeedInputChange"
          input-align="right"
        >
          <view slot="right-icon" class="unit-label">èŠ‚</view>
        </van-field>
      </view>

      <view class="input-group">
        <view class="input-label">â¬†ï¸ å‡é™ç‡</view>
        <van-field
          value="{{ gradient.verticalSpeedInput }}"
          placeholder="è¯·è¾“å…¥å‡é™ç‡"
          type="digit"
          bind:change="onVerticalSpeedInputChange"
          input-align="right"
        >
          <view slot="right-icon" class="unit-label">ft/min</view>
        </van-field>
      </view>

      <view class="input-group">
        <view class="input-label">ğŸ“ è§’åº¦</view>
        <van-field
          value="{{ gradient.angleInput }}"
          placeholder="è¯·è¾“å…¥è§’åº¦"
          type="digit"
          bind:change="onAngleInputChange"
          input-align="right"
        >
          <view slot="right-icon" class="unit-label">åº¦</view>
        </van-field>
      </view>
    </view>

    <view class="action-buttons">
      <van-button type="primary" bind:click="convertGradient" block>
        ğŸš€ å¼€å§‹æ¢ç®—
      </van-button>
      <van-button type="default" bind:click="clearGradient" block>
        ğŸ—‘ï¸ æ¸…ç©ºæ•°æ®
      </van-button>
    </view>

    <!-- è®¡ç®—ç»“æœ -->
    <view wx:if="{{ gradient.gradientResult || gradient.verticalSpeedResult || gradient.angleResult }}" class="result-section">
      <view class="result-title">ğŸ“Š è®¡ç®—ç»“æœ</view>
      <view class="result-grid">
        <view wx:if="{{ gradient.gradientResult }}" class="result-item">
          <view class="result-label">æ¢¯åº¦</view>
          <view class="result-value">{{ gradient.gradientResult }}%</view>
        </view>
        <view wx:if="{{ gradient.verticalSpeedResult }}" class="result-item">
          <view class="result-label">å‡é™ç‡</view>
          <view class="result-value">{{ gradient.verticalSpeedResult }} ft/min</view>
        </view>
        <view wx:if="{{ gradient.angleResult }}" class="result-item">
          <view class="result-label">è§’åº¦</view>
          <view class="result-value">{{ gradient.angleResult }}Â°</view>
        </view>
      </view>
    </view>
  </view>
</view>