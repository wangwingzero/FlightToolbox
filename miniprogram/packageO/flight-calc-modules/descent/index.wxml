<view class="container">
  <view class="calculation-module">
    <view class="input-section">
      <view class="input-group">
        <view class="input-label">ğŸ“ å½“å‰é«˜åº¦</view>
        <van-field
          value="{{ descent.currentAltitude }}"
          placeholder="è¯·è¾“å…¥å½“å‰é«˜åº¦"
          type="digit"
          bind:change="onCurrentAltitudeChange"
        >
          <view slot="right-icon" class="unit-label">è‹±å°º</view>
        </van-field>
      </view>

      <view class="input-group">
        <view class="input-label">ğŸ¯ ç›®æ ‡é«˜åº¦</view>
        <van-field
          value="{{ descent.targetAltitude }}"
          placeholder="è¯·è¾“å…¥ç›®æ ‡é«˜åº¦"
          type="digit"
          bind:change="onTargetAltitudeChange"
        >
          <view slot="right-icon" class="unit-label">è‹±å°º</view>
        </van-field>
      </view>

      <view class="input-group">
        <view class="input-label">ğŸ“ ç›¸è·è·ç¦»</view>
        <van-field
          value="{{ descent.distanceNM }}"
          placeholder="è¯·è¾“å…¥è·ç¦»"
          type="digit"
          bind:change="onDistanceNMChange"
        >
          <view slot="right-icon" class="unit-label">æµ·é‡Œ</view>
        </van-field>
      </view>

      <view class="input-group">
        <view class="input-label">âš¡ å½“å‰åœ°é€Ÿ</view>
        <van-field
          value="{{ descent.currentGroundSpeed }}"
          placeholder="è¯·è¾“å…¥åœ°é€Ÿ"
          type="digit"
          bind:change="onCurrentGroundSpeedChange"
        >
          <view slot="right-icon" class="unit-label">èŠ‚</view>
        </van-field>
      </view>
    </view>

    <view class="action-buttons">
      <van-button type="primary" bind:click="calculateDescentRate" block>
        ğŸš€ è®¡ç®—ä¸‹é™ç‡
      </van-button>
      <van-button type="default" bind:click="clearDescentRate" block>
        ğŸ—‘ï¸ æ¸…ç©ºæ•°æ®
      </van-button>
    </view>

    <view wx:if="{{ descent.descentRate }}" class="result-section" id="result-section">
      <view class="result-title">ğŸ“Š è®¡ç®—ç»“æœ</view>
      <view class="result-grid">
        <view class="result-item">
          <view class="result-label">æ‰€éœ€ä¸‹é™ç‡</view>
          <view class="result-value">{{ descent.descentRate }} è‹±å°º/åˆ†é’Ÿ</view>
        </view>
        <view class="result-item">
          <view class="result-label">ä¸‹é™è§’åº¦</view>
          <view class="result-value">{{ descent.descentAngle }}Â°</view>
        </view>
        <view class="result-item">
          <view class="result-label">ä¸‹é™æ—¶é—´</view>
          <view class="result-value">{{ descent.timeToDescend }} åˆ†é’Ÿ</view>
        </view>
        <view class="result-item">
          <view class="result-label">ä¸‹é™æ¢¯åº¦</view>
          <view class="result-value">{{ descent.descentGradient }}%</view>
        </view>
      </view>
    </view>
  </view>

  <!-- æ¨ªå¹…å¹¿å‘Š -->
  <view class="ad-banner-container">
    <ad unit-id="adunit-4e68875624a88762" ad-type="banner" ad-intervals="30"></ad>
  </view>

</view>