<view class="container">
  <!-- åˆ†ç±»èœå• -->
  <view class="category-tabs-container">
    <scroll-view class="category-tabs-scroll" scroll-x scroll-with-animation enhanced>
      <view class="category-tabs-wrapper">
        <view 
          wx:for="{{ categoryList }}" 
          wx:key="name"
          class="category-tab-item {{ activeTab === item.name ? 'active' : '' }}"
          bind:tap="onTabChange"
          data-name="{{ item.name }}"
        >
          <view class="category-badge">{{ item.count }}</view>
          <view class="category-title">{{ item.title }}</view>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- æœç´¢æ¡† -->
  <view class="search-section incident-search">
    <van-search
      value="{{ searchValue }}"
      placeholder="æœç´¢äº‹ä»¶ã€å¾å€™ã€æœ¯è¯­..."
      bind:change="onSearchChange"
      bind:clear="onSearchClear"
      shape="round"
    />
  </view>


  <!-- åˆ†ç±»å†…å®¹ -->
  <view wx:if="{{ activeTab === 'all' }}" class="tab-content">
    <!-- å…¨éƒ¨å†…å®¹ -->
      
      <view wx:if="{{ loading }}" class="loading-section">
        <van-loading size="24px" vertical>æ•°æ®åŠ è½½ä¸­...</van-loading>
      </view>
      
      <view wx:else class="all-section">
        <view wx:if="{{ displayedAll.length > 0 }}" class="results-section">
          <van-cell-group title="å…¨éƒ¨ç»“æœ ({{ filteredAll.length }}æ¡)">
            <block wx:for="{{ displayedAll }}" wx:key="index" wx:for-index="idx">
              <van-cell 
                title="{{ item.title }}"
                label="{{ item.content }}"
                is-link
                bind:click="viewAllItemDetail"
                data-item="{{ item }}"
                class="all-cell {{ item.type }}-cell"
              >
              <view slot="right-icon" class="all-category">
                <van-tag 
                  type="{{ item.type === 'accident' ? 'danger' : (item.type === 'incident' ? 'warning' : (item.type === 'emergency_event' ? 'danger' : 'success')) }}" 
                  size="mini"
                >
                  {{ item.type === 'accident' ? 'äº‹æ•…' : (item.type === 'incident' ? 'å¾å€™' : (item.type === 'emergency_event' ? 'äº‹ä»¶æ ·ä¾‹' : 'ä¸€èˆ¬äº‹ä»¶')) }}
                </van-tag>
              </view>
              </van-cell>
            </block>
          </van-cell-group>
          
          <!-- åŠ è½½æ›´å¤šæŒ‰é’® -->
          <view wx:if="{{ hasMoreAll && !isLoadingMore }}" class="load-more-section">
            <view class="load-more-btn" bind:tap="loadMore">
              <text class="load-more-text">åŠ è½½æ›´å¤š</text>
              <view class="load-more-icon">ğŸ“–</view>
            </view>
            <view class="load-more-tip">è¿˜æœ‰ {{ filteredAll.length - displayedAll.length }} æ¡æ•°æ®</view>
          </view>
          
          <!-- åŠ è½½ä¸­çŠ¶æ€ -->
          <view wx:if="{{ isLoadingMore }}" class="loading-section">
            <view class="loading-spinner"></view>
            <text class="loading-text">åŠ è½½ä¸­...</text>
          </view>
          
          <!-- æ²¡æœ‰æ›´å¤šæ•°æ® -->
          <view wx:if="{{ !hasMoreAll && displayedAll.length > 0 }}" class="no-more-section">
            <view class="no-more-icon">âœ…</view>
            <text class="no-more-text">å·²æ˜¾ç¤ºå…¨éƒ¨ {{ displayedAll.length }} æ¡æ•°æ®</text>
          </view>
        </view>

        <van-empty
          wx:if="{{ displayedAll.length === 0 && searchValue }}"
          description="æœªæ‰¾åˆ°ç›¸å…³ä¿¡æ¯"
        />
      </view>
  </view>

  <view wx:if="{{ activeTab === 'incidents' }}" class="tab-content">
    <!-- å¾å€™å†…å®¹ -->
      
      <view wx:if="{{ loading }}" class="loading-section">
        <van-loading size="24px" vertical>æ•°æ®åŠ è½½ä¸­...</van-loading>
      </view>
      
      <view wx:else class="incidents-section">
        <view wx:if="{{ displayedIncidents.length > 0 }}" class="results-section">
          <van-cell-group title="å¾å€™åˆ†ç±» ({{ filteredIncidents.length }}æ¡)">
            <block wx:for="{{ displayedIncidents }}" wx:key="code" wx:for-index="idx">
              <van-cell 
                title="{{ item.title }}"
                label="{{ item.content }}"
                is-link
                bind:click="viewIncidentDetail"
                data-item="{{ item }}"
                class="incident-cell"
              >
              <view slot="right-icon" class="incident-category">
                <van-tag type="warning" size="mini">{{ item.category || 'å¾å€™' }}</van-tag>
              </view>
              </van-cell>
            </block>
          </van-cell-group>
          
          <!-- åŠ è½½æ›´å¤šæŒ‰é’® -->
          <view wx:if="{{ hasMoreIncidents && !isLoadingMore }}" class="load-more-section">
            <view class="load-more-btn" bind:tap="loadMore">
              <text class="load-more-text">åŠ è½½æ›´å¤š</text>
              <view class="load-more-icon">ğŸ“–</view>
            </view>
            <view class="load-more-tip">è¿˜æœ‰ {{ filteredIncidents.length - displayedIncidents.length }} æ¡æ•°æ®</view>
          </view>
          
          <!-- åŠ è½½ä¸­çŠ¶æ€ -->
          <view wx:if="{{ isLoadingMore }}" class="loading-section">
            <view class="loading-spinner"></view>
            <text class="loading-text">åŠ è½½ä¸­...</text>
          </view>
          
          <!-- æ²¡æœ‰æ›´å¤šæ•°æ® -->
          <view wx:if="{{ !hasMoreIncidents && displayedIncidents.length > 0 }}" class="no-more-section">
            <view class="no-more-icon">âœ…</view>
            <text class="no-more-text">å·²æ˜¾ç¤ºå…¨éƒ¨ {{ displayedIncidents.length }} æ¡æ•°æ®</text>
          </view>
        </view>

        <van-empty
          wx:if="{{ displayedIncidents.length === 0 && searchValue }}"
          description="æœªæ‰¾åˆ°ç›¸å…³å¾å€™ä¿¡æ¯"
        />
      </view>
  </view>

  <view wx:if="{{ activeTab === 'general_events' }}" class="tab-content">
    <!-- ä¸€èˆ¬äº‹ä»¶å†…å®¹ -->
      
      <view wx:if="{{ loading }}" class="loading-section">
        <van-loading size="24px" vertical>æ•°æ®åŠ è½½ä¸­...</van-loading>
      </view>
      
      <view wx:else class="general-events-section">
        <view wx:if="{{ displayedGeneralEvents.length > 0 }}" class="results-section">
          <van-cell-group title="ä¸€èˆ¬äº‹ä»¶åˆ†ç±» ({{ filteredGeneralEvents.length }}æ¡)">
            <block wx:for="{{ displayedGeneralEvents }}" wx:key="code" wx:for-index="idx">
              <van-cell 
                title="{{ item.title }}"
                label="{{ item.content }}"
                is-link
                bind:click="viewGeneralEventDetail"
                data-item="{{ item }}"
                class="general-event-cell"
              >
              <view slot="right-icon" class="general-event-category">
                <van-tag type="success" size="mini">{{ item.category || 'ä¸€èˆ¬' }}</van-tag>
              </view>
              </van-cell>
            </block>
          </van-cell-group>
          
          <!-- åŠ è½½æ›´å¤šæŒ‰é’® -->
          <view wx:if="{{ hasMoreGeneralEvents && !isLoadingMore }}" class="load-more-section">
            <view class="load-more-btn" bind:tap="loadMore">
              <text class="load-more-text">åŠ è½½æ›´å¤š</text>
              <view class="load-more-icon">ğŸ“–</view>
            </view>
            <view class="load-more-tip">è¿˜æœ‰ {{ filteredGeneralEvents.length - displayedGeneralEvents.length }} æ¡æ•°æ®</view>
          </view>
          
          <!-- åŠ è½½ä¸­çŠ¶æ€ -->
          <view wx:if="{{ isLoadingMore }}" class="loading-section">
            <view class="loading-spinner"></view>
            <text class="loading-text">åŠ è½½ä¸­...</text>
          </view>
          
          <!-- æ²¡æœ‰æ›´å¤šæ•°æ® -->
          <view wx:if="{{ !hasMoreGeneralEvents && displayedGeneralEvents.length > 0 }}" class="no-more-section">
            <view class="no-more-icon">âœ…</view>
            <text class="no-more-text">å·²æ˜¾ç¤ºå…¨éƒ¨ {{ displayedGeneralEvents.length }} æ¡æ•°æ®</text>
          </view>
        </view>

        <van-empty
          wx:if="{{ displayedGeneralEvents.length === 0 && searchValue }}"
          description="æœªæ‰¾åˆ°ç›¸å…³ä¸€èˆ¬äº‹ä»¶ä¿¡æ¯"
        />
      </view>
  </view>

  <view wx:if="{{ activeTab === 'emergency_events' }}" class="tab-content">
    <!-- äº‹ä»¶æ ·ä¾‹å†…å®¹ -->
      
      <view wx:if="{{ loading }}" class="loading-section">
        <van-loading size="24px" vertical>æ•°æ®åŠ è½½ä¸­...</van-loading>
      </view>
      
      <view wx:else class="emergency-events-section">
        <view wx:if="{{ displayedEmergencyEvents.length > 0 }}" class="results-section">
          <van-cell-group title="äº‹ä»¶æ ·ä¾‹åˆ†ç±» ({{ filteredEmergencyEvents.length }}æ¡)">
            <block wx:for="{{ displayedEmergencyEvents }}" wx:key="code" wx:for-index="idx">
              <van-cell 
                title="{{ item.title }}"
                label="{{ item.content }}"
                is-link
                bind:click="viewEmergencyEventDetail"
                data-item="{{ item }}"
                class="emergency-event-cell"
              >
              <view slot="right-icon" class="emergency-event-category">
                <van-tag type="danger" size="mini">{{ item.category || 'äº‹ä»¶æ ·ä¾‹' }}</van-tag>
              </view>
              </van-cell>
            </block>
          </van-cell-group>
          
          <!-- åŠ è½½æ›´å¤šæŒ‰é’® -->
          <view wx:if="{{ hasMoreEmergencyEvents && !isLoadingMore }}" class="load-more-section">
            <view class="load-more-btn" bind:tap="loadMore">
              <text class="load-more-text">åŠ è½½æ›´å¤š</text>
              <view class="load-more-icon">ğŸ“–</view>
            </view>
            <view class="load-more-tip">è¿˜æœ‰ {{ filteredEmergencyEvents.length - displayedEmergencyEvents.length }} æ¡æ•°æ®</view>
          </view>
          
          <!-- åŠ è½½ä¸­çŠ¶æ€ -->
          <view wx:if="{{ isLoadingMore }}" class="loading-section">
            <view class="loading-spinner"></view>
            <text class="loading-text">åŠ è½½ä¸­...</text>
          </view>
          
          <!-- æ²¡æœ‰æ›´å¤šæ•°æ® -->
          <view wx:if="{{ !hasMoreEmergencyEvents && displayedEmergencyEvents.length > 0 }}" class="no-more-section">
            <view class="no-more-icon">âœ…</view>
            <text class="no-more-text">å·²æ˜¾ç¤ºå…¨éƒ¨ {{ displayedEmergencyEvents.length }} æ¡æ•°æ®</text>
          </view>
        </view>

        <van-empty
          wx:if="{{ displayedEmergencyEvents.length === 0 && searchValue }}"
          description="æœªæ‰¾åˆ°ç›¸å…³äº‹ä»¶æ ·ä¾‹ä¿¡æ¯"
        />
        
        <van-empty
          wx:if="{{ displayedEmergencyEvents.length === 0 && !searchValue }}"
          description="æš‚æ— äº‹ä»¶æ ·ä¾‹æ•°æ®"
          image="search"
        />
      </view>
  </view>

  <view wx:if="{{ activeTab === 'definitions' }}" class="tab-content">
    <!-- æœ¯è¯­å®šä¹‰å†…å®¹ -->
      
      <view wx:if="{{ loading }}" class="loading-section">
        <van-loading size="24px" vertical>æ•°æ®åŠ è½½ä¸­...</van-loading>
      </view>
      
      <view wx:else class="definitions-section">
        <view wx:if="{{ displayedDefinitions.length > 0 }}" class="results-section">
          <van-cell-group title="æœ¯è¯­å®šä¹‰ ({{ filteredDefinitions.length }}æ¡)">
            <block wx:for="{{ displayedDefinitions }}" wx:key="term" wx:for-index="idx">
              <van-cell 
                title="{{ item.title }}"
                label="{{ item.shortDefinition }}"
                is-link
                bind:click="viewDefinitionDetail"
                data-item="{{ item }}"
                class="definition-cell"
              >
              <view slot="right-icon" class="definition-category">
                <van-tag type="primary" size="mini">æœ¯è¯­</van-tag>
              </view>
              </van-cell>
            </block>
          </van-cell-group>
          
          <!-- åŠ è½½æ›´å¤šæŒ‰é’® -->
          <view wx:if="{{ hasMoreDefinitions && !isLoadingMore }}" class="load-more-section">
            <view class="load-more-btn" bind:tap="loadMore">
              <text class="load-more-text">åŠ è½½æ›´å¤š</text>
              <view class="load-more-icon">ğŸ“–</view>
            </view>
            <view class="load-more-tip">è¿˜æœ‰ {{ filteredDefinitions.length - displayedDefinitions.length }} æ¡æ•°æ®</view>
          </view>
          
          <!-- åŠ è½½ä¸­çŠ¶æ€ -->
          <view wx:if="{{ isLoadingMore }}" class="loading-section">
            <view class="loading-spinner"></view>
            <text class="loading-text">åŠ è½½ä¸­...</text>
          </view>
          
          <!-- æ²¡æœ‰æ›´å¤šæ•°æ® -->
          <view wx:if="{{ !hasMoreDefinitions && displayedDefinitions.length > 0 }}" class="no-more-section">
            <view class="no-more-icon">âœ…</view>
            <text class="no-more-text">å·²æ˜¾ç¤ºå…¨éƒ¨ {{ displayedDefinitions.length }} æ¡æ•°æ®</text>
          </view>
        </view>

        <van-empty
          wx:if="{{ displayedDefinitions.length === 0 && searchValue }}"
          description="æœªæ‰¾åˆ°ç›¸å…³æœ¯è¯­å®šä¹‰"
        />
      </view>
  </view>

  <!-- è¯¦æƒ…å¼¹çª— -->
  <van-popup
    show="{{ showDetailPopup }}"
    bind:close="closeDetailPopup"
    position="bottom"
    round="{{ true }}"
    close-on-click-overlay="{{ true }}"
    custom-style="height: 85vh; overflow: hidden;"
  >
    <view class="detail-popup-container">
      <!-- å¼¹çª—æ ‡é¢˜æ  -->
      <view class="detail-header">
        <view class="header-left">
          <view wx:if="{{ canGoBack }}" class="back-btn" bind:tap="goBackInHistory" catchtap="goBackInHistory">
            <van-icon name="arrow-left" class="back-icon" />
          </view>
        </view>
        <view class="detail-title">{{ detailData.title }}</view>
        <view class="header-right">
          <view class="close-btn" bind:tap="closeDetailPopup" catchtap="closeDetailPopup">
            <van-icon name="cross" class="close-icon" />
          </view>
        </view>
      </view>

      <!-- æ»šåŠ¨å†…å®¹åŒºåŸŸ -->
      <scroll-view scroll-y class="detail-content" enable-flex enhanced show-scrollbar="{{ false }}">
        <!-- äº‹æ•…è¯¦æƒ… -->
        <view wx:if="{{ detailType === 'accident' }}" class="accident-detail">
          <van-cell-group title="åŸºæœ¬ä¿¡æ¯" class="detail-section">
            <van-cell title="äº‹æ•…ç±»å‹" value="{{ detailData.title }}" />
            <van-cell title="ä¸¥é‡ç¨‹åº¦" value="{{ detailData.level || 'äº‹æ•…' }}" />
            <van-cell title="åˆ†ç±»" value="{{ detailData.category }}" />
          </van-cell-group>

          <van-cell-group title="è¯¦ç»†å†…å®¹" class="detail-section">
            <view class="description-content">
              <view class="description-text">
                <block wx:if="{{ detailData.termData && detailData.termData.hasTerms }}">
                  <block wx:for="{{ detailData.contentParts }}" wx:key="index">
                    <text wx:if="{{ item.type === 'text' }}">{{ item.text }}</text>
                    <text wx:elif="{{ item.type === 'term' }}" 
                          class="term-highlight clickable-term" 
                          bind:tap="onTermClick"
                          data-term="{{ item.termKey }}">{{ item.text }}</text>
                  </block>
                </block>
                <text wx:else>{{ detailData.content }}</text>
              </view>
            </view>
          </van-cell-group>

          <van-cell-group wx:if="{{ detailData.examples && detailData.examples.length > 0 }}" title="å…¸å‹ç¤ºä¾‹" class="detail-section">
            <view class="examples-content">
              <view wx:for="{{ detailData.examples }}" wx:key="index" class="example-item">
                <text class="example-text">{{ index + 1 }}. {{ item }}</text>
              </view>
            </view>
          </van-cell-group>
        </view>

        <!-- å¾å€™è¯¦æƒ… -->
        <view wx:if="{{ detailType === 'incident' }}" class="incident-detail">
          <van-cell-group title="åŸºæœ¬ä¿¡æ¯" class="detail-section">
            <van-cell title="å¾å€™ç±»å‹" value="{{ detailData.title }}" />
            <van-cell title="åˆ†ç±»" value="{{ detailData.category || 'å¾å€™' }}" />
          </van-cell-group>

          <van-cell-group title="è¯¦ç»†å†…å®¹" class="detail-section">
            <view class="description-content">
              <view class="description-text">
                <block wx:if="{{ detailData.termData && detailData.termData.hasTerms }}">
                  <block wx:for="{{ detailData.contentParts }}" wx:key="index">
                    <text wx:if="{{ item.type === 'text' }}">{{ item.text }}</text>
                    <text wx:elif="{{ item.type === 'term' }}" 
                          class="term-highlight clickable-term" 
                          bind:tap="onTermClick"
                          data-term="{{ item.termKey }}">{{ item.text }}</text>
                  </block>
                </block>
                <text wx:else>{{ detailData.content }}</text>
              </view>
            </view>
          </van-cell-group>

          <van-cell-group wx:if="{{ detailData.examples && detailData.examples.length > 0 }}" title="å…¸å‹ç¤ºä¾‹" class="detail-section">
            <view class="examples-content">
              <view wx:for="{{ detailData.examples }}" wx:key="index" class="example-item">
                <text class="example-text">{{ index + 1 }}. {{ item }}</text>
              </view>
            </view>
          </van-cell-group>
        </view>

        <!-- ä¸€èˆ¬äº‹ä»¶è¯¦æƒ… -->
        <view wx:if="{{ detailType === 'general_event' }}" class="general-event-detail">
          <van-cell-group title="åŸºæœ¬ä¿¡æ¯" class="detail-section">
            <van-cell title="äº‹ä»¶ç±»å‹" value="{{ detailData.title }}" />
            <van-cell title="åˆ†ç±»" value="{{ detailData.category || 'ä¸€èˆ¬äº‹ä»¶' }}" />
          </van-cell-group>

          <van-cell-group title="è¯¦ç»†å†…å®¹" class="detail-section">
            <view class="description-content">
              <view class="description-text">
                <block wx:if="{{ detailData.termData && detailData.termData.hasTerms }}">
                  <block wx:for="{{ detailData.contentParts }}" wx:key="index">
                    <text wx:if="{{ item.type === 'text' }}">{{ item.text }}</text>
                    <text wx:elif="{{ item.type === 'term' }}" 
                          class="term-highlight clickable-term" 
                          bind:tap="onTermClick"
                          data-term="{{ item.termKey }}">{{ item.text }}</text>
                  </block>
                </block>
                <text wx:else>{{ detailData.content }}</text>
              </view>
            </view>
          </van-cell-group>

          <van-cell-group wx:if="{{ detailData.examples && detailData.examples.length > 0 }}" title="å…¸å‹ç¤ºä¾‹" class="detail-section">
            <view class="examples-content">
              <view wx:for="{{ detailData.examples }}" wx:key="index" class="example-item">
                <text class="example-text">{{ index + 1 }}. {{ item }}</text>
              </view>
            </view>
          </van-cell-group>
        </view>

        <!-- äº‹ä»¶æ ·ä¾‹è¯¦æƒ… -->
        <view wx:if="{{ detailType === 'emergency_event' }}" class="emergency-event-detail">
          <van-cell-group title="åŸºæœ¬ä¿¡æ¯" class="detail-section">
            <van-cell title="äº‹ä»¶ç±»å‹" value="{{ detailData.title }}" />
            <van-cell title="ç´§æ€¥çº§åˆ«" value="{{ detailData.urgencyLevel || 'æœªçŸ¥' }}" />
            <van-cell title="åˆ†ç±»" value="{{ detailData.category || 'äº‹ä»¶æ ·ä¾‹' }}" />
            <van-cell wx:if="{{ detailData.code }}" title="ç¼–å·" value="{{ detailData.code }}" />
          </van-cell-group>

          <van-cell-group title="è¯¦ç»†å†…å®¹" class="detail-section">
            <view class="description-content">
              <view class="description-text">
                <block wx:if="{{ detailData.termData && detailData.termData.hasTerms }}">
                  <block wx:for="{{ detailData.contentParts }}" wx:key="index">
                    <text wx:if="{{ item.type === 'text' }}">{{ item.text }}</text>
                    <text wx:elif="{{ item.type === 'term' }}" 
                          class="term-highlight clickable-term" 
                          bind:tap="onTermClick"
                          data-term="{{ item.termKey }}">{{ item.text }}</text>
                  </block>
                </block>
                <text wx:else>{{ detailData.content }}</text>
              </view>
            </view>
          </van-cell-group>

          <van-cell-group wx:if="{{ detailData.examples && detailData.examples.length > 0 }}" title="å…¸å‹ç¤ºä¾‹" class="detail-section">
            <view class="examples-content">
              <view wx:for="{{ detailData.examples }}" wx:key="index" class="example-item">
                <text class="example-text">{{ index + 1 }}. {{ item }}</text>
              </view>
            </view>
          </van-cell-group>


          <van-cell-group wx:if="{{ detailData.note }}" title="å¤‡æ³¨è¯´æ˜" class="detail-section">
            <view class="description-content">
              <view class="description-text">{{ detailData.note }}</view>
            </view>
          </van-cell-group>
        </view>

        <!-- æœ¯è¯­å®šä¹‰è¯¦æƒ… -->
        <view wx:if="{{ detailType === 'definition' }}" class="definition-detail">
          <van-cell-group title="æœ¯è¯­ä¿¡æ¯" class="detail-section">
            <van-cell title="æœ¯è¯­" value="{{ detailData.title }}" />
          </van-cell-group>

          <van-cell-group title="å®šä¹‰å†…å®¹" class="detail-section">
            <view class="description-content">
              <view class="description-text">
                <block wx:if="{{ detailData.definitionTermData && detailData.definitionTermData.hasTerms }}">
                  <block wx:for="{{ detailData.definitionParts }}" wx:key="index">
                    <text wx:if="{{ item.type === 'text' }}">{{ item.text }}</text>
                    <text wx:elif="{{ item.type === 'term' }}" 
                          class="term-highlight clickable-term" 
                          bind:tap="onTermClick"
                          data-term="{{ item.termKey }}">{{ item.text }}</text>
                  </block>
                </block>
                <text wx:else>{{ detailData.definition }}</text>
              </view>
            </view>
          </van-cell-group>

        </view>
      </scroll-view>

      <!-- åº•éƒ¨æ“ä½œæ  -->
      <view class="detail-footer">
        <view wx:if="{{ canGoBack }}" class="footer-buttons">
          <van-button type="default" bind:click="goBackInHistory" class="back-button">
            <van-icon name="arrow-left" class="button-icon" />
            è¿”å›
          </van-button>
          <van-button type="primary" bind:click="closeDetailPopup" class="close-button">
            <van-icon name="cross" class="button-icon" />
            å…³é—­
          </van-button>
        </view>
        <van-button wx:else type="primary" block bind:click="closeDetailPopup" class="close-button">
          <van-icon name="success" class="button-icon" />
          çŸ¥é“äº†
        </van-button>
      </view>
    </view>
  </van-popup>

  <!-- ç»Ÿè®¡ä¿¡æ¯ -->
  <view wx:if="{{ !loading && !searchValue }}" class="stats-section">
    <view class="stats-grid">
      <view class="stats-item">
        <text class="stats-number">{{ incidentsData.length || 0 }}</text>
        <text class="stats-label">å¾å€™ç±»å‹</text>
      </view>
      <view class="stats-item">
        <text class="stats-number">{{ emergencyEventsData.length || 0 }}</text>
        <text class="stats-label">äº‹ä»¶æ ·ä¾‹</text>
      </view>
      <view class="stats-item">
        <text class="stats-number">{{ generalEventsData.length || 0 }}</text>
        <text class="stats-label">ä¸€èˆ¬äº‹ä»¶</text>
      </view>
      <view class="stats-item">
        <text class="stats-number">{{ definitionsData.length || 0 }}</text>
        <text class="stats-label">æœ¯è¯­å®šä¹‰</text>
      </view>
    </view>
  </view>

</view>