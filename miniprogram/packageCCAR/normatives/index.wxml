<view class="page-container">
  <view class="header-bg"></view>

  <!-- 头部信息 -->
  <view class="page-header">
    <view class="header-content">
      <view class="header-title">{{ title || docNumber || '规范性文件' }}</view>
      <view class="header-subtitle" wx:if="{{ title && docNumber }}">{{ docNumber }}</view>
    </view>
  </view>

  <!-- 列表 -->
  <view class="list-container">
    <block wx:for="{{ displayedNormatives }}" wx:key="index">
      <view class="normative-card" bindtap="onNormativeClick" data-normative="{{ item }}">
         <view class="validity-tag {{ item.validity === '有效' ? 'valid' : (item.validity === '废止' ? 'abolished' : 'invalid') }}">{{ item.validity }}</view>
         
         <view class="card-content">
           <view class="card-header">
             <text class="doc-number">{{ item.doc_number }}</text>
           </view>
           <view class="card-title">{{ item.title }}</view>
           <view class="card-footer">
             <view class="meta-item">
               <van-icon name="calendar-o" size="12px" style="margin-right: 4px;" />
               <text>{{ item.publish_date }}</text>
             </view>
             <view class="meta-item">{{ item.office_unit }}</view>
           </view>
         </view>
         
         <view class="card-action">
            <van-icon name="arrow" size="16px" color="#c8c9cc" />
         </view>
      </view>
    </block>

    <!-- 空状态 -->
    <view wx:if="{{ normatives.length === 0 && !loading }}" class="empty-state">
      <van-icon name="description" size="64px" color="#e0e0e0" />
      <text class="empty-text">暂无规范性文件</text>
    </view>
  </view>
</view>

<van-toast id="van-toast" />