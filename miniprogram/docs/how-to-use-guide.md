# 如何使用新用户引导功能

## 🎯 用户视角 - 如何体验引导

### 自动触发引导
1. **首次使用**：当您第一次打开飞行工具箱时，系统会自动检测并显示新用户引导
2. **积分为0**：如果您的积分为0，系统也会提示是否需要查看引导

### 引导体验流程

#### 步骤1：了解积分系统 💎
- **看到什么**：积分显示区域会被高亮，箭头指向积分数字
- **学到什么**：积分是使用高级功能的通行证
- **可以做什么**：点击"立即体验"查看积分详情

#### 步骤2：学会每日签到 ⭐
- **看到什么**：签到按钮会被高亮显示
- **学到什么**：每天签到可获得15-50积分，连续签到有额外奖励
- **可以做什么**：点击"立即体验"进行签到操作

#### 步骤3：了解广告机制 📺
- **看到什么**：观看广告按钮会被高亮
- **学到什么**：观看视频广告可获得40积分，每天最多15次
- **可以做什么**：点击"立即体验"观看广告

#### 步骤4：查看积分规则 ❓
- **看到什么**：积分规则按钮会被高亮
- **学到什么**：详细的积分获取和使用规则
- **可以做什么**：点击"立即体验"查看完整规则

### 引导控制
- **下一步**：点击"下一步"按钮继续
- **上一步**：点击"上一步"按钮返回
- **跳过**：点击右上角"跳过引导"或"✕"按钮
- **立即体验**：点击绿色"立即体验"按钮直接使用功能

### 完成奖励
- 完成所有引导步骤后，您将获得**100积分**奖励
- 奖励只有首次完成引导时才能获得

## 🛠️ 开发者视角 - 如何集成引导

### 快速集成
引导功能已经完全集成到主页面中，无需额外配置即可使用。

### 测试引导功能
1. 在微信开发者工具中打开项目
2. 进入"我的首页"页面
3. 点击页面底部版本号
4. 输入以下测试指令：
   - `reset_guide` - 重置引导状态，模拟新用户
   - `show_guide` - 手动显示引导

### 自定义引导内容
如需修改引导内容，编辑 `components/user-guide/index.js` 文件中的 `guideSteps` 数组：

```javascript
guideSteps: [
  {
    id: 'points',           // 步骤ID
    title: '积分系统',       // 标题
    description: '积分是使用高级功能的通行证',  // 描述
    icon: '💎',             // 图标
    targetSelector: '.points-display',  // 目标元素选择器
    position: 'bottom',     // 引导框位置：'top' 或 'bottom'
    content: '这里显示您的当前积分...'  // 详细说明
  }
]
```

### 修改奖励积分
在 `pages/others/index.ts` 的 `giveNewUserReward` 方法中修改：

```javascript
// 修改奖励数量（默认100积分）
const result = await pointsManager.addPoints(100, 'new_user_guide', '完成新手引导奖励');
```

## 🎨 界面说明

### 引导界面元素
- **遮罩层**：半透明黑色背景，突出引导内容
- **高亮区域**：目标功能区域的发光边框
- **引导卡片**：包含说明内容的白色卡片
- **箭头指示**：指向目标位置的三角形箭头
- **进度指示器**：显示当前步骤和总步骤数

### 交互元素
- **立即体验按钮**：绿色按钮，点击体验当前功能
- **下一步按钮**：蓝色按钮，进入下一个引导步骤
- **上一步按钮**：灰色按钮，返回上一个步骤
- **跳过按钮**：右上角半透明按钮，跳过整个引导

### 动画效果
- **高亮脉冲**：目标区域的呼吸灯效果
- **卡片出现**：引导卡片的淡入动画
- **按钮反馈**：点击按钮的缩放反馈

## 📱 适配说明

### 屏幕适配
- **大屏设备**：引导卡片居中显示，最大宽度600rpx
- **小屏设备**：引导卡片占屏幕90%宽度，按钮垂直排列
- **横屏模式**：自动调整引导框位置，避免超出屏幕

### 主题适配
- **浅色模式**：白色卡片背景，深色文字
- **深色模式**：深灰色卡片背景，浅色文字
- **自动切换**：跟随系统主题自动切换

## 🔧 故障排除

### 常见问题

**Q: 引导不显示怎么办？**
A: 检查是否已完成引导，使用 `reset_guide` 指令重置状态

**Q: 目标元素定位不准确？**
A: 确保目标元素已渲染完成，检查选择器是否正确

**Q: 样式显示异常？**
A: 检查是否有样式冲突，确认深色模式适配

**Q: 功能体验无响应？**
A: 检查页面事件绑定，确认功能函数正常工作

### 调试方法
1. 打开开发者工具控制台
2. 查看引导相关的日志输出
3. 检查本地存储中的引导状态
4. 使用测试指令进行调试

## 📈 使用建议

### 用户体验优化
1. **首次使用必看**：建议新用户完整体验引导流程
2. **功能探索**：通过引导了解核心功能后再探索其他功能
3. **积分管理**：学会通过签到和广告获取积分，合理使用高级功能

### 开发建议
1. **定期测试**：定期测试引导功能确保正常工作
2. **用户反馈**：收集用户对引导的反馈，持续优化
3. **内容更新**：根据功能更新及时调整引导内容

---

通过这个新用户引导功能，新用户可以快速了解飞行工具箱的核心功能，提升用户体验和功能使用率。