<view class="container">
  <van-tabs active="{{ activeTab }}" bind:change="onTabChange">

    <!-- PAPIè®¡ç®— -->
    <van-tab title="PAPI">
      <van-cell-group title="è¾“å…¥å‚æ•°">

        
        <van-field
          value="{{ papiDistToThreshold }}"
          label="åˆ°è·‘é“å¤´çš„è·ç¦»"
          placeholder="è¯·è¾“å…¥è·ç¦»"
          type="digit"
          bind:change="onPapiDistToThresholdChange"
        >
          <view slot="right-icon">æµ·é‡Œ</view>
        </van-field>
        
        <van-field
          value="{{ papiDistanceToRunway }}"
          label="PAPIè·è·‘é“å¤´"
          placeholder="è¯·è¾“å…¥è·ç¦»"
          type="digit"
          bind:change="onPapiDistanceToRunwayChange"
        >
          <view slot="right-icon">ç±³</view>
        </van-field>
        
        <van-field
          value="{{ papiAirportElevation }}"
          label="æœºåœºæ ‡é«˜"
          placeholder="è¯·è¾“å…¥æ ‡é«˜"
          type="digit"
          bind:change="onPapiAirportElevationChange"
        >
          <view slot="right-icon">ç±³</view>
        </van-field>
        
        <van-cell>
          <van-button type="primary" bind:click="calculatePAPI" block>
            è®¡ç®—PAPIæŒ‡ç¤ºé«˜åº¦
          </van-button>
        </van-cell>
      </van-cell-group>
      
      <van-cell-group wx:if="{{ papiResults }}" title="PAPIæŒ‡ç¤ºåŠå¯¹åº”é£žæœºçœ¼é«˜ (MSL, è‹±å°º)">
        <van-cell title="è¿‡é«˜ (âšªâšªâšªâšª)" value="{{ papiResults.TOO_HIGH }}" />
        <van-cell title="ç•¥é«˜ (âšªâšªâšªðŸ”´)" value="{{ papiResults.SLIGHTLY_HIGH }}" />
        <van-cell title="æ­£å¸¸ (âšªâšªðŸ”´ðŸ”´)" value="{{ papiResults.ON_PATH }}" />
        <van-cell title="ç•¥ä½Ž (âšªðŸ”´ðŸ”´ðŸ”´)" value="{{ papiResults.SLIGHTLY_LOW }}" />
        <van-cell title="è¿‡ä½Ž (ðŸ”´ðŸ”´ðŸ”´ðŸ”´)" value="{{ papiResults.TOO_LOW }}" />
      </van-cell-group>
      
      <van-cell-group wx:if="{{ papiStatusText }}" title="è®¡ç®—è¯¦æƒ…">
        <van-cell title="è¯¦ç»†ä¿¡æ¯" label="{{ papiStatusText }}" />
      </van-cell-group>
    </van-tab>

    <!-- æ¸©åº¦ä¿®æ­£è®¡ç®— -->
    <van-tab title="æ¸©åº¦ä¿®æ­£">
      <van-cell-group title="åŸºç¡€å‚æ•°">
        <van-field
          value="{{ coldTempAirportElevation }}"
          label="æœºåœºæ ‡é«˜"
          placeholder="ä¾‹å¦‚: 500"
          type="digit"
          bind:change="onColdTempAirportElevationChange"
        >
          <view slot="right-icon">è‹±å°º</view>
        </van-field>
        
        <van-field
          value="{{ coldTempAirportTemperature }}"
          label="æœºåœºæ¸©åº¦"
          placeholder="ä¾‹å¦‚: -20"
          type="digit"
          bind:change="onColdTempAirportTemperatureChange"
        >
          <view slot="right-icon">Â°C</view>
        </van-field>
        

        
        <van-field
          value="{{ coldTempIfAltitude }}"
          label="IFé«˜åº¦"
          placeholder="å¯ä»¥ä¸è¾“å…¥"
          type="digit"
          bind:change="onColdTempIfAltitudeChange"
        >
          <view slot="right-icon">è‹±å°º</view>
        </van-field>
        
        <van-field
          value="{{ coldTempFafAltitude }}"
          label="FAFé«˜åº¦"
          placeholder="å¯ä»¥ä¸è¾“å…¥"
          type="digit"
          bind:change="onColdTempFafAltitudeChange"
        >
          <view slot="right-icon">è‹±å°º</view>
        </van-field>
        
        <van-field
          value="{{ coldTempDaAltitude }}"
          label="DAé«˜åº¦"
          placeholder="å¯ä»¥ä¸è¾“å…¥"
          type="digit"
          bind:change="onColdTempDaAltitudeChange"
        >
          <view slot="right-icon">è‹±å°º</view>
        </van-field>
        
        <van-field
          value="{{ coldTempMissedAltitude }}"
          label="å¤é£žé«˜åº¦"
          placeholder="å¯ä»¥ä¸è¾“å…¥"
          type="digit"
          bind:change="onColdTempMissedAltitudeChange"
        >
          <view slot="right-icon">è‹±å°º</view>
        </van-field>
        
        <van-field
          value="{{ coldTempOtherAltitude }}"
          label="å…¶ä»–é«˜åº¦"
          placeholder="å¯ä»¥ä¸è¾“å…¥"
          type="digit"
          bind:change="onColdTempOtherAltitudeChange"
        >
          <view slot="right-icon">è‹±å°º</view>
        </van-field>
      </van-cell-group>

      <van-cell-group title="FPAå½±å“åˆ†æž (å¯é€‰)">
        <van-cell 
          title="è®¡ç®—FPAå½±å“ (é’ˆå¯¹FAF)" 
          is-link 
          bind:click="toggleColdTempFafPoint"
          value="{{ coldTempIsFafPoint ? 'æ˜¯' : 'å¦' }}"
        />
        
        <block wx:if="{{ coldTempIsFafPoint }}">
          <van-field
            value="{{ coldTempFafDistance }}"
            label="FAFåˆ°è·‘é“å¤´è·ç¦»"
            placeholder="ä¾‹å¦‚: 8.0"
            type="digit"
            bind:change="onColdTempFafDistanceChange"
          >
            <view slot="right-icon">æµ·é‡Œ</view>
          </van-field>
        </block>
      </van-cell-group>

      <van-cell-group title="è®¡ç®—æ“ä½œ">
        <van-cell>
          <van-button type="primary" bind:click="calculateColdTemp" block>
            è®¡ç®—æ¸©åº¦ä¿®æ­£
          </van-button>
        </van-cell>
      </van-cell-group>

      <van-cell-group wx:if="{{ coldTempResult && coldTempResult.results }}" title="è®¡ç®—ç»“æžœ">
        <block wx:for="{{ coldTempResult.results }}" wx:key="name">
          <van-cell 
            title="{{ item.name }}" 
            label="åŽŸé«˜åº¦: {{ item.originalAltitude }} è‹±å°º â†’ ä¿®æ­£å€¼: {{ item.correctionFeet >= 0 ? '+' : '' }}{{ item.correctionFeet }} è‹±å°º"
            value="{{ item.correctedAltitudeFeet }} è‹±å°º" 
            custom-class="temp-result-cell"
          />
          
          <block wx:if="{{ item.vpaInfo }}">
            <van-cell 
              title="  â”” FPAåˆ†æž" 
              label="{{ item.vpaInfo.warningMessage }}"
              custom-class="temp-warning-cell"
            />
          </block>
        </block>
      </van-cell-group>

      <van-cell-group wx:if="{{ coldTempError }}" title="é”™è¯¯ä¿¡æ¯">
        <van-cell 
          title="è®¡ç®—é”™è¯¯" 
          value="{{ coldTempError }}" 
          custom-class="temp-error-cell"
        />
      </van-cell-group>
    </van-tab>

    <!-- QFEè®¡ç®— -->
    <van-tab title="QFE">
      <van-cell-group title="åŸºç¡€å‚æ•°">
        <van-field
          value="{{ elevationInput }}"
          label="æœºåœºæ ‡é«˜"
          placeholder="è¯·è¾“å…¥æœºåœºæ ‡é«˜"
          type="digit"
          bind:change="onElevationInputChange"
        >
          <view slot="right-icon">è‹±å°º</view>
        </van-field>
      </van-cell-group>

      <van-cell-group title="QNH â†’ QFE">
        <van-field
          value="{{ qnhInput }}"
          label="QNH"
          placeholder="è¯·è¾“å…¥QNH"
          type="digit"
          bind:change="onQNHInputChange"
        >
          <view slot="right-icon">hPa</view>
        </van-field>
        
        <van-cell>
          <van-button type="primary" bind:click="convertQNHtoQFE" block>
            è®¡ç®—QFE
          </van-button>
        </van-cell>
        
        <van-cell wx:if="{{ qfeResult }}" title="QFE" value="{{ qfeResult }} hPa" />
      </van-cell-group>
      
      <van-cell-group title="QFE â†’ QNH">
        <van-field
          value="{{ qfeInput }}"
          label="QFE"
          placeholder="è¯·è¾“å…¥QFE"
          type="digit"
          bind:change="onQFEInputChange"
        >
          <view slot="right-icon">hPa</view>
        </van-field>
        
        <van-cell>
          <van-button type="primary" bind:click="convertQFEtoQNH" block>
            è®¡ç®—QNH
          </van-button>
        </van-cell>
        
        <van-cell wx:if="{{ qnhResult }}" title="QNH" value="{{ qnhResult }} hPa" />
      </van-cell-group>
    </van-tab>

    <!-- PITCH PITCH è­¦å‘Šè®¡ç®— -->
    <van-tab title="PITCH">
      <van-cell-group title="é£žæœºåž‹å·é€‰æ‹©">
        <van-cell 
          title="é£žæœºåž‹å·" 
          is-link 
          bind:click="showAircraftPicker"
          value="{{ pitchAircraftModelDisplay }}"
        />
      </van-cell-group>

      <van-cell-group title="é£žè¡Œå‚æ•°">
        <van-field
          value="{{ pitchRadioHeight }}"
          label="æ— çº¿ç”µé«˜åº¦ (RA)"
          placeholder="ä¾‹å¦‚: 15"
          type="digit"
          bind:change="onPitchRadioHeightChange"
        >
          <view slot="right-icon">è‹±å°º</view>
        </van-field>
        
        <van-field
          value="{{ pitchCurrentPitch }}"
          label="å½“å‰ä¿¯ä»°è§’"
          placeholder="ä¾‹å¦‚: 8.0"
          type="digit"
          bind:change="onPitchCurrentPitchChange"
        >
          <view slot="right-icon">åº¦</view>
        </van-field>
        
        <van-field
          value="{{ pitchPitchRate }}"
          label="ä¿¯ä»°å˜åŒ–çŽ‡"
          placeholder="ä¾‹å¦‚: 1.5"
          type="digit"
          bind:change="onPitchPitchRateChange"
        >
          <view slot="right-icon">åº¦/ç§’</view>
        </van-field>


      </van-cell-group>
      
      <van-cell-group title="è®¡ç®—æ“ä½œ">
        <van-cell>
          <van-button type="primary" bind:click="calculatePitchPitch" block>
            è®¡ç®— PITCH PITCH è­¦å‘Š
          </van-button>
        </van-cell>
      </van-cell-group>
      
      <van-cell-group wx:if="{{ pitchResult }}" title="è®¡ç®—ç»“æžœ">
        <van-cell 
          title="é¢„æµ‹ä¿¯ä»°è§’" 
          value="{{ pitchPredictivePitch }}Â°" 
        />
        <van-cell 
          title="è§¦å‘é˜ˆå€¼" 
          value="{{ pitchThreshold }}Â°" 
        />
        <van-cell 
          title="è­¦å‘ŠçŠ¶æ€" 
          value="{{ pitchWarningStatus }}" 
          custom-class="{{ pitchShouldTrigger ? 'pitch-warning-cell' : 'pitch-normal-cell' }}"
        />
      </van-cell-group>

      <van-cell-group wx:if="{{ pitchResult }}" title="é»˜è®¤å‰ææ¡ä»¶">
        <van-cell title="é£žè¡Œé˜¶æ®µ" value="ç€é™†é˜¶æ®µ" />
        <van-cell title="è‡ªåŠ¨é©¾é©¶ä»ª" value="æœªæŽ¥é€š" />
        <van-cell title="æ— çº¿ç”µé«˜åº¦" value="æœ‰æ•ˆ" />
        <van-cell wx:if="{{ pitchAircraftModel !== 'A330-200' && pitchAircraftModel !== 'A330-300' }}" title="æ“¦å°¾ä¿æŠ¤å¼•è„š" value="å·²æ¿€æ´»" />
        <van-cell wx:if="{{ pitchAircraftModel !== 'A330-200' && pitchAircraftModel !== 'A330-300' }}" title="æŽ¨åŠ›æ‰‹æŸ„ä½ç½®" value="éžèµ·é£žä½" />
        <van-cell wx:if="{{ pitchAircraftModel !== 'A330-200' && pitchAircraftModel !== 'A330-300' }}" title="ä½Žé«˜åº¦æ¡ä»¶" value="RA < 20è‹±å°º" />
        <van-cell wx:if="{{ pitchAircraftModel === 'A330-200' || pitchAircraftModel === 'A330-300' }}" title="ä½Žé«˜åº¦æ¡ä»¶" value="RA < 25è‹±å°º" />
      </van-cell-group>
    </van-tab>

    <!-- ACR-PCRè®¡ç®— -->
    <van-tab title="ACR-PCR">
      <van-cell-group title="é£žæœºé€‰æ‹©">
        <van-cell 
          title="åˆ¶é€ å•†" 
          is-link 
          bind:click="showManufacturerPicker"
          value="{{ acrSelectedManufacturer }}"
        />
        
        <van-cell 
          wx:if="{{ acrSelectedManufacturer }}"
          title="é£žæœºåž‹å·" 
          is-link 
          bind:click="showModelPicker"
          value="{{ acrSelectedModel }}"
        />
        
        <van-cell 
          wx:if="{{ acrSelectedModel }}"
          title="å…·ä½“æ”¹åž‹" 
          is-link 
          bind:click="showVariantPicker"
          value="{{ acrSelectedVariantDisplay }}"
        />
      </van-cell-group>

      <van-cell-group title="é£žæœºå‚æ•°">
        <!-- æ³¢éŸ³æœºåž‹ï¼šå¯è¾“å…¥é‡é‡èŒƒå›´ -->
        <van-field
          wx:if="{{ acrMassInputEnabled }}"
          value="{{ acrAircraftMass }}"
          label="{{ acrMassDisplayLabel }}"
          placeholder="è¯·è¾“å…¥é£žæœºé‡é‡"
          type="digit"
          bind:change="onAcrAircraftMassChange"
        >
          <view slot="right-icon">kg</view>
        </van-field>
        
        <!-- ç©ºå®¢æœºåž‹ï¼šæ˜¾ç¤ºå›ºå®šé‡é‡ -->
        <van-cell
          wx:if="{{ !acrMassInputEnabled }}"
          title="{{ acrMassDisplayLabel }}"
          value="{{ acrAircraftMass }} kg"
        />
      </van-cell-group>

      <van-cell-group title="æœºåœºé“é¢å‚æ•°">
                  <van-cell title="è¾“å…¥è¯´æ˜Ž" label="å¯¹æ¯”èˆªå›¾ä¸Šçš„PCRä¿¡æ¯ï¼ˆæ ¼å¼ç¤ºä¾‹ï¼šPCR560/F/B/W/Tï¼‰ï¼Œå¯¹åº”è¾“å…¥åˆ°ä¸‹æ–¹ï¼š" />
        
        <van-field
          label="PCRæ•°å€¼"
          placeholder="ä¾‹å¦‚: 560, 1090"
          value="{{ acrPcrNumber }}"
          bind:change="onAcrPcrNumberChange"
          type="number"
        />
        
        <van-cell 
          title="é“é¢ç±»åž‹" 
          is-link 
          bind:click="showPavementTypePicker"
          value="{{ acrPavementTypeDisplay }}"
        />
        
        <van-cell 
          title="é“åŸºå¼ºåº¦ç±»åˆ«" 
          is-link 
          bind:click="showSubgradeStrengthPicker"
          value="{{ acrSubgradeStrengthDisplay }}"
        />
        
        <van-cell 
          title="æœ€å¤§å…è®¸èƒŽåŽ‹" 
          is-link 
          bind:click="showTirePressurePicker"
          value="{{ acrTirePressureDisplay }}"
        />
        
        <van-cell 
          title="è¯„ä¼°æ–¹æ³•" 
          is-link 
          bind:click="showEvaluationMethodPicker"
          value="{{ acrEvaluationMethodDisplay }}"
        />
      </van-cell-group>

      <van-cell-group title="æ“ä½œ">
        <van-cell>
          <van-button type="primary" bind:click="calculateACR" block>
            å¼€å§‹å¯¹æ¯”
          </van-button>
        </van-cell>
      </van-cell-group>

      <!-- ACR-PCRåˆ†æžç»“æžœ -->
      <view wx:if="{{ acrResult }}" class="acr-result-section">
        <van-cell-group title="é£žæœºä¿¡æ¯">
          <van-cell title="é£žæœºåž‹å·" value="{{ acrResult.aircraftInfo }}" />
          <van-cell title="è¾“å…¥è´¨é‡" value="{{ acrResult.inputMass }} kg" />
          <van-cell title="å…·ä½“æ”¹åž‹" value="{{ acrResult.variantName }}" />
          <van-cell 
            title="{{ acrResult.isInterpolated ? 'è®¡ç®—è´¨é‡' : 'æ ‡å‡†è´¨é‡' }}" 
            value="{{ acrResult.actualMass }} kg" 
            custom-class="{{ acrResult.isInterpolated ? 'interpolated-mass-cell' : '' }}"
          />
          <van-cell 
            title="è®¡ç®—æ–¹å¼" 
            value="{{ acrResult.calculationMethod }}" 
            custom-class="{{ acrResult.isInterpolated ? 'interpolated-method-cell' : 'fixed-method-cell' }}"
          />
        </van-cell-group>

        <van-cell-group title="é£žæœºå‚æ•°ï¼ˆå‚è€ƒï¼‰">
          <van-cell title="æ¯ä¸ªä¸»èµ·è½æž¶ä¸Šåˆ†æ‹…çš„è·è½½ç™¾åˆ†æ¯”" value="{{ acrResult.loadPercentageMLG }}%" />
        </van-cell-group>

        <van-cell-group title="é“é¢æ¡ä»¶">
          <van-cell title="PCRä»£ç " value="{{ acrResult.pcrCode }}" />
          <van-cell title="é“é¢ç±»åž‹" value="{{ acrResult.pavementTypeName }}" />
          <van-cell title="é“åŸºå¼ºåº¦" value="{{ acrResult.subgradeName }}" />
          <van-cell title="èƒŽåŽ‹æ£€æŸ¥" value="{{ acrResult.tirePressureCheck }}" custom-class="{{ acrResult.tirePressureCheckPassed ? 'pressure-check-pass' : 'pressure-check-fail' }}" />
          <van-cell title="è¯„ä¼°æ–¹æ³•" value="{{ acrResult.evaluationMethod }}" />
        </van-cell-group>

        <van-cell-group title="ACR-PCRå¯¹æ¯”ç»“æžœ">
          <van-cell title="é£žæœºACRå€¼" value="{{ acrResult.acr }}" custom-class="acr-value-cell" label="Aircraft Classification Rating - é£žæœºåˆ†çº§è¯„å®š" />
          <van-cell title="æœºåœºPCRå€¼" value="{{ acrResult.pcr }}" custom-class="pcr-value-cell" label="Pavement Classification Rating - é“é¢åˆ†çº§è¯„å®š" />
          <van-cell title="å®‰å…¨ä½™é‡" value="{{ acrResult.safetyMargin >= 0 ? '+' : '' }}{{ acrResult.safetyMargin }}" label="PCR - ACR = ä½™é‡" />
        </van-cell-group>

        <van-cell-group title="è¿è¡Œç»“è®º">
          <view class="acr-conclusion {{ acrResult.canOperate ? 'acr-go' : 'acr-no-go' }}">
            <view class="acr-text">{{ acrResult.operationStatus }}</view>
            <view class="acr-detail">{{ acrResult.operationReason }}</view>
          </view>
        </van-cell-group>

        <van-cell-group title="è¯´æ˜Ž" wx:if="{{ !acrResult.canOperate }}">
          <van-cell 
            wx:if="{{ !acrResult.tirePressureCheckPassed }}"
            title="èƒŽåŽ‹å®‰å…¨æé†’" 
            label="é£žæœºè½®èƒŽåŽ‹åŠ›è¶…è¿‡äº†é“é¢å…è®¸çš„é™åˆ¶ï¼Œå¯èƒ½å¯¹é“é¢é€ æˆæŸåã€‚" 
            custom-class="acr-warning-cell"
          />
          <van-cell 
            wx:elif="{{ acrResult.safetyMargin < 0 }}"
            title="ACRå®‰å…¨æé†’" 
            label="é£žæœºçš„ACRå€¼è¶…è¿‡äº†é“é¢çš„PCRå€¼ï¼Œå¯èƒ½å¯¹é“é¢é€ æˆæŸåã€‚" 
            custom-class="acr-warning-cell"
          />
        </van-cell-group>
      </view>

      <van-cell-group wx:if="{{ acrError }}" title="é”™è¯¯ä¿¡æ¯" class="acr-error-section">
        <van-cell title="é”™è¯¯" value="{{ acrError }}" />
      </van-cell-group>
    </van-tab>

    <!-- GPWSå‘Šè­¦æ¨¡æ‹Ÿ -->
    <van-tab title="GPWS">
      <van-cell-group title="é£žè¡Œå‚æ•°">
        <van-field
          value="{{ gpwsRA }}"
          label="æ— çº¿ç”µé«˜åº¦ (RA)"
          placeholder="ä¾‹å¦‚: 1000"
          type="digit"
          bind:change="onGpwsRAChange"
        >
          <view slot="right-icon">è‹±å°º</view>
        </van-field>
        
        <van-field
          value="{{ gpwsDescentRate }}"
          label="ä¸‹é™çŽ‡ (æ­£å€¼)"
          placeholder="ä¾‹å¦‚: 1500"
          type="digit"
          bind:change="onGpwsDescentRateChange"
        >
          <view slot="right-icon">è‹±å°º/åˆ†</view>
        </van-field>
        
        <van-field
          value="{{ gpwsAirspeed }}"
          label="ç©ºé€Ÿ"
          placeholder="ä¾‹å¦‚: 180"
          type="digit"
          bind:change="onGpwsAirspeedChange"
        >
          <view slot="right-icon">èŠ‚</view>
        </van-field>
      </van-cell-group>

      <van-cell-group title="èµ·é£žåŽå‚æ•°">
        <van-field
          value="{{ gpwsAltitudeLoss }}"
          label="èµ·é£žåŽé«˜åº¦æŸå¤±"
          placeholder="ä¾‹å¦‚: 50"
          type="digit"
          bind:change="onGpwsAltitudeLossChange"
        >
          <view slot="right-icon">è‹±å°º</view>
        </van-field>
        
        <van-field
          value="{{ gpwsMaxRaGained }}"
          label="èµ·é£žåŽçˆ¬å‡èŽ·å¾—çš„æœ€å¤§RA"
          placeholder="ä¾‹å¦‚: 1000"
          type="digit"
          bind:change="onGpwsMaxRaGainedChange"
        >
          <view slot="right-icon">è‹±å°º</view>
        </van-field>
      </van-cell-group>

      <van-cell-group title="è¿›è¿‘å‚æ•°">
        <van-field
          value="{{ gpwsGSDeviation }}"
          label="ä½ŽäºŽä¸‹æ»‘é“ç‚¹æ•°"
          placeholder="ä¾‹å¦‚: 1.5"
          type="digit"
          bind:change="onGpwsGSDeviationChange"
        >
          <view slot="right-icon">ç‚¹</view>
        </van-field>
        
        <van-field
          value="{{ gpwsRollAngle }}"
          label="å¡åº¦ (+/-)"
          placeholder="ä¾‹å¦‚: 30"
          type="digit"
          bind:change="onGpwsRollAngleChange"
        >
          <view slot="right-icon">åº¦</view>
        </van-field>
      </van-cell-group>

      <van-cell-group title="é£žæœºé…ç½®">
        <van-cell 
          title="è¥Ÿç¿¼åœ¨ç€é™†å½¢æ€" 
          is-link 
          bind:click="toggleFlaps"
          value="{{gpwsFlapsInLanding ? 'æ˜¯' : 'å¦'}}"
          custom-class="{{gpwsFlapsInLanding ? 'config-cell-active' : 'config-cell-inactive'}}"
        />
        
        <van-cell 
          title="èµ·è½æž¶æ”¶ä¸Š" 
          is-link 
          bind:click="toggleGear"
          value="{{gpwsGearUp ? 'æ˜¯' : 'å¦'}}"
          custom-class="{{gpwsGearUp ? 'config-cell-active' : 'config-cell-inactive'}}"
        />
      </van-cell-group>

      <van-cell-group title="è®¡ç®—æ“ä½œ">
        <van-cell>
          <van-button type="primary" bind:click="calculateGPWS" block>
            è®¡ç®—GPWSå‘Šè­¦
          </van-button>
        </van-cell>
      </van-cell-group>

      <van-cell-group wx:if="{{ gpwsAlertResult }}" title="å‘Šè­¦çŠ¶æ€">
        <van-cell 
          title="å‘Šè­¦ç»“æžœ" 
          value="{{ gpwsAlertResult }}" 
          label="{{ gpwsThresholdInfo }}"
          custom-class="{{ gpwsAlertType === 'alert' ? 'gpws-alert-cell' : 'gpws-normal-cell' }}"
        />
      </van-cell-group>
    </van-tab>

    <!-- GRFé›ªæƒ…é€šå‘Šè§£ç  -->
    <van-tab title="GRFè§£ç ">
      <!-- SNOWTAMè¾“å…¥ -->
      <van-cell-group title="SNOWTAMè¾“å…¥">
        <van-field
          value="{{ grfSnowTamInput }}"
          label="SNOWTAM"
          type="textarea"
          placeholder="è¯·ç²˜è´´å®Œæ•´çš„SNOWTAMæŠ¥æ–‡ï¼Œä¾‹å¦‚ï¼š&#10;SWZB0151 ZBAA 02170230&#10;(SNOWTAM 0151&#10;ZBAA&#10;02170155 16L 2/5/3 100/50/75 04/03/04 SLUSH/DRY SNOW/WET SNOW&#10;02170230 16R 2/5/5 75/100/100 04/03/NR SLUSH/SLUSH/SLUSH 50&#10;RWY 16L REDUCED TO 3000.)"
          autosize="{{ { minHeight: 100, maxHeight: 200 } }}"
          bind:change="onGrfSnowTamInputChange"
        />
      </van-cell-group>



      <!-- æ ‡å‡†ç¿»è¯‘ -->
      <van-cell-group wx:if="{{ grfDecodedResult }}" title="{{ grfDecodedResult.isPartial ? 'å®žæ—¶è§£æžç»“æžœ' : 'æ ‡å‡†ç¿»è¯‘' }}">
        <!-- éƒ¨åˆ†è§£æžæç¤º -->
        <van-cell wx:if="{{ grfDecodedResult.isPartial }}" 
                  custom-class="grf-partial-tip" 
                  title="ðŸ’¡ å®žæ—¶è§£æž" 
                  label="ç»§ç»­è¾“å…¥å°†æ˜¾ç¤ºæ›´å®Œæ•´çš„è§£æžç»“æžœ" />
        
        <view class="grf-translation-content">
          <view wx:for="{{ grfDecodedResult.translationLines }}" wx:key="index" class="grf-translation-line">
            <text wx:for="{{ item.parts }}" wx:key="partIndex" 
                  class="grf-text-part {{ item.isTitle ? 'grf-title-text' : (item.isHighlight ? 'grf-highlight-text' : 'grf-normal-text') }}">{{ item.text }}</text>
          </view>
        </view>
      </van-cell-group>

      <!-- é”™è¯¯ä¿¡æ¯ -->
      <van-cell-group wx:if="{{ grfError }}" title="é”™è¯¯ä¿¡æ¯">
        <van-cell 
          title="è§£æžé”™è¯¯" 
          value="{{ grfError }}" 
          custom-class="grf-error-cell"
        />
      </van-cell-group>




    </van-tab>

  </van-tabs>

  <!-- é£žæœºåž‹å·é€‰æ‹©å™¨ -->
  <van-action-sheet
    show="{{ showAircraftModelPicker }}"
    title="é€‰æ‹©é£žæœºåž‹å·"
    bind:close="onAircraftPickerClose"
    bind:select="onAircraftModelSelect"
    actions="{{ aircraftModelActions }}"
  />

  <!-- ACRåˆ¶é€ å•†é€‰æ‹©å™¨ -->
  <van-action-sheet
    show="{{ showAcrManufacturerPicker }}"
    title="é€‰æ‹©åˆ¶é€ å•†"
    bind:close="onAcrManufacturerPickerClose"
    bind:select="onAcrManufacturerSelect"
    actions="{{ acrManufacturerActions }}"
  />

  <!-- ACRåž‹å·é€‰æ‹©å™¨ -->
  <van-action-sheet
    show="{{ showAcrModelPicker }}"
    title="é€‰æ‹©é£žæœºåž‹å·"
    bind:close="onAcrModelPickerClose"
    bind:select="onAcrModelSelect"
    actions="{{ acrModelActions }}"
  />

  <!-- ACRå˜åž‹é€‰æ‹©å™¨ -->
  <van-action-sheet
    show="{{ showAcrVariantPicker }}"
    title="é€‰æ‹©å…·ä½“æ”¹åž‹"
    bind:close="onAcrVariantPickerClose"
    bind:select="onAcrVariantSelect"
    actions="{{ acrVariantActions }}"
  />

  <!-- é“é¢ç±»åž‹é€‰æ‹©å™¨ -->
  <van-action-sheet
    show="{{ showPavementTypePicker }}"
    title="é€‰æ‹©é“é¢ç±»åž‹"
    bind:close="onPavementTypePickerClose"
    bind:select="onPavementTypeSelect"
    actions="{{ pavementTypeActions }}"
  />

  <!-- é“åŸºå¼ºåº¦ç±»åˆ«é€‰æ‹©å™¨ -->
  <van-action-sheet
    show="{{ showSubgradeStrengthPicker }}"
    title="é€‰æ‹©é“åŸºå¼ºåº¦ç±»åˆ«"
    bind:close="onSubgradeStrengthPickerClose"
    bind:select="onSubgradeStrengthSelect"
    actions="{{ subgradeStrengthActions }}"
  />

  <!-- æœ€å¤§å…è®¸èƒŽåŽ‹é€‰æ‹©å™¨ -->
  <van-action-sheet
    show="{{ showTirePressurePicker }}"
    title="é€‰æ‹©æœ€å¤§å…è®¸èƒŽåŽ‹"
    bind:close="onTirePressurePickerClose"
    bind:select="onTirePressureSelect"
    actions="{{ tirePressureActions }}"
  />

  <!-- è¯„ä¼°æ–¹æ³•é€‰æ‹©å™¨ -->
  <van-action-sheet
    show="{{ showEvaluationMethodPicker }}"
    title="é€‰æ‹©è¯„ä¼°æ–¹æ³•"
    bind:close="onEvaluationMethodPickerClose"
    bind:select="onEvaluationMethodSelect"
    actions="{{ evaluationMethodActions }}"
  />

</view> 