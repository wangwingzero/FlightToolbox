<view class="container">
  <van-tabs active="{{ activeTab }}" bind:change="onTabChange" swipeable scrollable>

    <!-- Ê∏©Â∫¶‰øÆÊ≠£ËÆ°ÁÆó -->
    <van-tab title="Ê∏©‰øÆ">
      <van-cell-group title="Âü∫Á°ÄÂèÇÊï∞">
        <van-field
          value="{{ coldTempAirportElevation }}"
          label="Êú∫Âú∫Ê†áÈ´ò"
          placeholder="‰æãÂ¶Ç: 500"
          type="digit"
          bind:change="onColdTempAirportElevationChange"
        >
          <view slot="right-icon">Ëã±Â∞∫</view>
        </van-field>
        
        <van-field
          value="{{ coldTempAirportTemperature }}"
          label="Êú∫Âú∫Ê∏©Â∫¶"
          placeholder="ÊîØÊåÅË¥üÊï∞ÔºåÂ¶Ç: -20 Êàñ 15.5"
          type="text"
          bind:input="onColdTempAirportTemperatureInput"
          bind:change="onColdTempAirportTemperatureChange"
        >
          <view slot="right-icon">¬∞C</view>
        </van-field>
        

        
        <van-field
          value="{{ coldTempIfAltitude }}"
          label="IFÈ´òÂ∫¶"
          placeholder="ÂèØ‰ª•‰∏çËæìÂÖ•"
          type="digit"
          bind:change="onColdTempIfAltitudeChange"
        >
          <view slot="right-icon">Ëã±Â∞∫</view>
        </van-field>
        
        <van-field
          value="{{ coldTempFafAltitude }}"
          label="FAFÈ´òÂ∫¶"
          placeholder="ÂèØ‰ª•‰∏çËæìÂÖ•"
          type="digit"
          bind:change="onColdTempFafAltitudeChange"
        >
          <view slot="right-icon">Ëã±Â∞∫</view>
        </van-field>
        
        <van-field
          value="{{ coldTempDaAltitude }}"
          label="DAÈ´òÂ∫¶"
          placeholder="ÂèØ‰ª•‰∏çËæìÂÖ•"
          type="digit"
          bind:change="onColdTempDaAltitudeChange"
        >
          <view slot="right-icon">Ëã±Â∞∫</view>
        </van-field>
        
        <van-field
          value="{{ coldTempMissedAltitude }}"
          label="Â§çÈ£ûÈ´òÂ∫¶"
          placeholder="ÂèØ‰ª•‰∏çËæìÂÖ•"
          type="digit"
          bind:change="onColdTempMissedAltitudeChange"
        >
          <view slot="right-icon">Ëã±Â∞∫</view>
        </van-field>
        
        <van-field
          value="{{ coldTempOtherAltitude }}"
          label="ÂÖ∂‰ªñÈ´òÂ∫¶"
          placeholder="ÂèØ‰ª•‰∏çËæìÂÖ•"
          type="digit"
          bind:change="onColdTempOtherAltitudeChange"
        >
          <view slot="right-icon">Ëã±Â∞∫</view>
        </van-field>
      </van-cell-group>

      <van-cell-group title="FPAÂΩ±ÂìçÂàÜÊûê (ÂèØÈÄâ)">
        <van-cell 
          title="ËÆ°ÁÆóFPAÂΩ±Âìç (ÈíàÂØπFAF)" 
          is-link 
          bind:click="toggleColdTempFafPoint"
          value="{{ coldTempIsFafPoint ? 'ÊòØ' : 'Âê¶' }}"
        />
        
        <block wx:if="{{ coldTempIsFafPoint }}">
          <van-field
            value="{{ coldTempFafDistance }}"
            label="FAFÂà∞Ë∑ëÈÅìÂ§¥Ë∑ùÁ¶ª"
            placeholder="‰æãÂ¶Ç: 8.0"
            type="digit"
            bind:change="onColdTempFafDistanceChange"
          >
            <view slot="right-icon">Êµ∑Èáå</view>
          </van-field>
        </block>
      </van-cell-group>

      <van-cell-group title="ËÆ°ÁÆóÊìç‰Ωú">
        <van-cell class="button-cell">
          <van-button type="primary" bind:click="calculateColdTemp" block>
            ËÆ°ÁÆóÊ∏©Â∫¶‰øÆÊ≠£
          </van-button>
        </van-cell>
      </van-cell-group>

      <van-cell-group wx:if="{{ coldTempResult && coldTempResult.results }}" title="ËÆ°ÁÆóÁªìÊûú">
        <block wx:for="{{ coldTempResult.results }}" wx:key="name">
          <van-cell 
            title="{{ item.name }}" 
            label="ÂéüÈ´òÂ∫¶: {{ item.originalAltitude }} Ëã±Â∞∫ ‚Üí ‰øÆÊ≠£ÂÄº: {{ item.correctionFeet >= 0 ? '+' : '' }}{{ item.correctionFeet }} Ëã±Â∞∫"
            value="{{ item.correctedAltitudeFeet }} Ëã±Â∞∫" 
            custom-class="temp-result-cell"
          />
          
          <block wx:if="{{ item.vpaInfo }}">
            <van-cell 
              title="  ‚îî FPAÂàÜÊûê" 
              label="{{ item.vpaInfo.warningMessage }}"
              custom-class="temp-warning-cell"
            />
          </block>
        </block>
      </van-cell-group>

      <van-cell-group wx:if="{{ coldTempError }}" title="ÈîôËØØ‰ø°ÊÅØ">
        <van-cell 
          title="ËÆ°ÁÆóÈîôËØØ" 
          value="{{ coldTempError }}" 
          custom-class="temp-error-cell"
        />
      </van-cell-group>
    </van-tab>

    <!-- Ê¢ØÂ∫¶ËÆ°ÁÆó -->
    <van-tab title="Ê¢ØÂ∫¶">
      <!-- ËæìÂÖ•ÂèÇÊï∞Âå∫Âüü -->
      <van-cell-group title="ËæìÂÖ•ÂèÇÊï∞">
        <van-field
          value="{{ gradientInput }}"
          label="Ê¢ØÂ∫¶"
          placeholder="ËØ∑ËæìÂÖ•Ê¢ØÂ∫¶"
          type="digit"
          bind:change="onGradientInputChange"
        >
          <view slot="right-icon">%</view>
        </van-field>
        
        <van-field
          value="{{ groundSpeedInput }}"
          label="Âú∞ÈÄü"
          placeholder="ËØ∑ËæìÂÖ•Âú∞ÈÄü"
          type="digit"
          bind:change="onGroundSpeedInputChange"
        >
          <view slot="right-icon">ËäÇ</view>
        </van-field>
        
        <van-field
          value="{{ verticalSpeedInput }}"
          label="ÂçáÈôçÁéá"
          placeholder="ËØ∑ËæìÂÖ•ÂçáÈôçÁéá"
          type="digit"
          bind:change="onVerticalSpeedInputChange"
        >
          <view slot="right-icon">ft/min</view>
        </van-field>
        
        <van-field
          value="{{ angleInput }}"
          label="ËßíÂ∫¶"
          placeholder="ËØ∑ËæìÂÖ•ËßíÂ∫¶"
          type="digit"
          bind:change="onAngleInputChange"
        >
          <view slot="right-icon">Â∫¶</view>
        </van-field>
      </van-cell-group>
      
      <!-- Êìç‰ΩúÂå∫Âüü -->
      <van-cell-group title="Êìç‰Ωú">
        <van-cell class="button-cell">
          <van-button type="primary" block bind:click="convertGradient">
            Êç¢ÁÆó
          </van-button>
        </van-cell>
        <van-cell class="button-cell">
          <van-button type="default" block bind:click="clearGradient">
            Ê∏ÖÁ©∫
          </van-button>
        </van-cell>
      </van-cell-group>
      
      <!-- ËÆ°ÁÆóÁªìÊûúÂå∫Âüü -->
      <van-cell-group title="ËÆ°ÁÆóÁªìÊûú" wx:if="{{ gradientResult || verticalSpeedResult || angleResult }}">
        <van-cell wx:if="{{ gradientResult }}" title="Ê¢ØÂ∫¶" value="{{ gradientResult }}%" />
        <van-cell wx:if="{{ verticalSpeedResult }}" title="ÂçáÈôçÁéá" value="{{ verticalSpeedResult }} ft/min" />
        <van-cell wx:if="{{ angleResult }}" title="ËßíÂ∫¶" value="{{ angleResult }}¬∞" />
      </van-cell-group>
    </van-tab>

    <!-- PITCH PITCH Ë≠¶ÂëäËÆ°ÁÆó -->
    <van-tab title="PITCH">
      <van-cell-group title="È£ûÊú∫ÂûãÂè∑ÈÄâÊã©">
        <van-cell 
          title="È£ûÊú∫ÂûãÂè∑" 
          is-link 
          bind:click="showAircraftPicker"
          value="{{ pitchAircraftModelDisplay }}"
        />
      </van-cell-group>

      <van-cell-group title="È£ûË°åÂèÇÊï∞">
        <van-field
          value="{{ pitchRadioHeight }}"
          label="Êó†Á∫øÁîµÈ´òÂ∫¶ (RA)"
          placeholder="‰æãÂ¶Ç: 15"
          type="digit"
          bind:change="onPitchRadioHeightChange"
        >
          <view slot="right-icon">Ëã±Â∞∫</view>
        </van-field>
        
        <van-field
          value="{{ pitchCurrentPitch }}"
          label="ÂΩìÂâçÈ£ûÊú∫ÂßøÊÄÅ"
          placeholder="‰æãÂ¶Ç: 8.0"
          type="digit"
          bind:change="onPitchCurrentPitchChange"
        >
          <view slot="right-icon">Â∫¶</view>
        </van-field>
        
        <van-field
          value="{{ pitchPitchRate }}"
          label="‰∏ã‰∏ÄÁßíÈ£ûÊú∫ÂßøÊÄÅÂ¢ûÂä†"
          placeholder="‰æãÂ¶Ç: 1.5"
          type="digit"
          bind:change="onPitchPitchRateChange"
        >
          <view slot="right-icon">Â∫¶/Áßí</view>
        </van-field>


      </van-cell-group>
      
      <van-cell-group title="ËÆ°ÁÆóÊìç‰Ωú">
        <van-cell class="button-cell">
          <van-button type="primary" bind:click="calculatePitchPitch" block>
            ËÆ°ÁÆó PITCH PITCH Ë≠¶Âëä
          </van-button>
        </van-cell>
      </van-cell-group>
      
      <van-cell-group wx:if="{{ pitchResult }}" title="ËÆ°ÁÆóÁªìÊûú">
        <van-cell 
          title="È¢ÑÊµã‰øØ‰ª∞Ëßí" 
          value="{{ pitchPredictivePitch }}¬∞" 
        />
        <van-cell 
          title="Ëß¶ÂèëÈòàÂÄº" 
          value="{{ pitchThreshold }}¬∞" 
        />
        <van-cell 
          title="Ë≠¶ÂëäÁä∂ÊÄÅ" 
          value="{{ pitchWarningStatus }}" 
          custom-class="{{ pitchShouldTrigger ? 'pitch-warning-cell' : 'pitch-normal-cell' }}"
        />
      </van-cell-group>

      <van-cell-group wx:if="{{ pitchResult }}" title="ÈªòËÆ§ÂâçÊèêÊù°‰ª∂">
        <van-cell title="È£ûË°åÈò∂ÊÆµ" value="ÁùÄÈôÜÈò∂ÊÆµ" />
        <van-cell title="Ëá™Âä®È©æÈ©∂‰ª™" value="Êú™Êé•ÈÄö" />
        <van-cell title="Êó†Á∫øÁîµÈ´òÂ∫¶" value="ÊúâÊïà" />
        <van-cell wx:if="{{ pitchAircraftModel !== 'A330-200' && pitchAircraftModel !== 'A330-300' }}" title="Êì¶Â∞æ‰øùÊä§ÂºïËÑö" value="Â∑≤ÊøÄÊ¥ª" />
        <van-cell wx:if="{{ pitchAircraftModel !== 'A330-200' && pitchAircraftModel !== 'A330-300' }}" title="Êé®ÂäõÊâãÊüÑ‰ΩçÁΩÆ" value="ÈùûËµ∑È£û‰Ωç" />
        <van-cell wx:if="{{ pitchAircraftModel !== 'A330-200' && pitchAircraftModel !== 'A330-300' }}" title="‰ΩéÈ´òÂ∫¶Êù°‰ª∂" value="RA < 20Ëã±Â∞∫" />
        <van-cell wx:if="{{ pitchAircraftModel === 'A330-200' || pitchAircraftModel === 'A330-300' }}" title="‰ΩéÈ´òÂ∫¶Êù°‰ª∂" value="RA < 25Ëã±Â∞∫" />
      </van-cell-group>
    </van-tab>

    <!-- ACR-PCRËÆ°ÁÆó -->
    <van-tab title="ACR">
      <van-cell-group title="È£ûÊú∫ÈÄâÊã©">
        <van-cell 
          title="Âà∂ÈÄ†ÂïÜ" 
          is-link 
          bind:click="showManufacturerPicker"
          value="{{ acrSelectedManufacturer }}"
        />
        
        <van-cell 
          wx:if="{{ acrSelectedManufacturer }}"
          title="È£ûÊú∫ÂûãÂè∑" 
          is-link 
          bind:click="showModelPicker"
          value="{{ acrSelectedModel }}"
        />
        
        <van-cell 
          wx:if="{{ acrSelectedModel }}"
          title="ÂÖ∑‰ΩìÊîπÂûã" 
          is-link 
          bind:click="showVariantPicker"
          value="{{ acrSelectedVariantDisplay }}"
        />
      </van-cell-group>

      <van-cell-group title="È£ûÊú∫ÂèÇÊï∞">
        <!-- Ê≥¢Èü≥Êú∫ÂûãÔºöÂèØËæìÂÖ•ÈáçÈáèËåÉÂõ¥ -->
        <van-field
          wx:if="{{ acrMassInputEnabled }}"
          value="{{ acrAircraftMass }}"
          label="{{ acrMassDisplayLabel }}"
          placeholder="ËØ∑ËæìÂÖ•È£ûÊú∫ÈáçÈáè"
          type="digit"
          bind:change="onAcrAircraftMassChange"
        >
          <view slot="right-icon">kg</view>
        </van-field>
        
        <!-- Á©∫ÂÆ¢Êú∫ÂûãÔºöÊòæÁ§∫Âõ∫ÂÆöÈáçÈáè -->
        <van-cell
          wx:if="{{ !acrMassInputEnabled }}"
          title="{{ acrMassDisplayLabel }}"
          value="{{ acrAircraftMass }} kg"
        />
      </van-cell-group>

      <van-cell-group title="Êú∫Âú∫ÈÅìÈù¢ÂèÇÊï∞">
                  <van-cell title="ËæìÂÖ•ËØ¥Êòé" label="ÂØπÊØîËà™Âõæ‰∏äÁöÑPCR‰ø°ÊÅØÔºàÊ†ºÂºèÁ§∫‰æãÔºöPCR560/F/B/W/TÔºâÔºåÂØπÂ∫îËæìÂÖ•Âà∞‰∏ãÊñπÔºö" />
        
        <van-field
          label="PCRÊï∞ÂÄº"
          placeholder="‰æãÂ¶Ç: 560, 1090"
          value="{{ acrPcrNumber }}"
          bind:change="onAcrPcrNumberChange"
          type="number"
        />
        
        <van-cell 
          title="ÈÅìÈù¢Á±ªÂûã" 
          is-link 
          bind:click="showPavementTypePicker"
          value="{{ acrPavementTypeDisplay }}"
        />
        
        <van-cell 
          title="ÈÅìÂü∫Âº∫Â∫¶Á±ªÂà´" 
          is-link 
          bind:click="showSubgradeStrengthPicker"
          value="{{ acrSubgradeStrengthDisplay }}"
        />
        
        <van-cell 
          title="ÊúÄÂ§ßÂÖÅËÆ∏ËÉéÂéã" 
          is-link 
          bind:click="showTirePressurePicker"
          value="{{ acrTirePressureDisplay }}"
        />
        
        <van-cell 
          title="ËØÑ‰º∞ÊñπÊ≥ï" 
          is-link 
          bind:click="showEvaluationMethodPicker"
          value="{{ acrEvaluationMethodDisplay }}"
        />
      </van-cell-group>

      <van-cell-group title="Êìç‰Ωú">
        <van-cell class="button-cell">
          <van-button type="primary" bind:click="calculateACR" block>
            ÂºÄÂßãÂØπÊØî
          </van-button>
        </van-cell>
      </van-cell-group>

      <!-- ACR-PCRÂàÜÊûêÁªìÊûú -->
      <view wx:if="{{ acrResult }}" class="acr-result-section">
        <van-cell-group title="È£ûÊú∫‰ø°ÊÅØ">
          <van-cell title="È£ûÊú∫ÂûãÂè∑" value="{{ acrResult.aircraftInfo }}" />
          <van-cell title="ËæìÂÖ•Ë¥®Èáè" value="{{ acrResult.inputMass }} kg" />
          <van-cell title="ÂÖ∑‰ΩìÊîπÂûã" value="{{ acrResult.variantName }}" />
          <van-cell 
            title="{{ acrResult.isInterpolated ? 'ËÆ°ÁÆóË¥®Èáè' : 'Ê†áÂáÜË¥®Èáè' }}" 
            value="{{ acrResult.actualMass }} kg" 
            custom-class="{{ acrResult.isInterpolated ? 'interpolated-mass-cell' : '' }}"
          />
          <van-cell 
            title="ËÆ°ÁÆóÊñπÂºè" 
            value="{{ acrResult.calculationMethod }}" 
            custom-class="{{ acrResult.isInterpolated ? 'interpolated-method-cell' : 'fixed-method-cell' }}"
          />
        </van-cell-group>

        <van-cell-group title="È£ûÊú∫ÂèÇÊï∞ÔºàÂèÇËÄÉÔºâ">
          <van-cell title="ÊØè‰∏™‰∏ªËµ∑ËêΩÊû∂‰∏äÂàÜÊãÖÁöÑËç∑ËΩΩÁôæÂàÜÊØî" value="{{ acrResult.loadPercentageMLG }}%" />
        </van-cell-group>

        <van-cell-group title="ÈÅìÈù¢Êù°‰ª∂">
          <van-cell title="PCR‰ª£Á†Å" value="{{ acrResult.pcrCode }}" />
          <van-cell title="ÈÅìÈù¢Á±ªÂûã" value="{{ acrResult.pavementTypeName }}" />
          <van-cell title="ÈÅìÂü∫Âº∫Â∫¶" value="{{ acrResult.subgradeName }}" />
          <van-cell title="ËÉéÂéãÊ£ÄÊü•" value="{{ acrResult.tirePressureCheck }}" custom-class="{{ acrResult.tirePressureCheckPassed ? 'pressure-check-pass' : 'pressure-check-fail' }}" />
          <van-cell title="ËØÑ‰º∞ÊñπÊ≥ï" value="{{ acrResult.evaluationMethod }}" />
        </van-cell-group>

        <van-cell-group title="ACR-PCRÂØπÊØîÁªìÊûú">
          <van-cell title="È£ûÊú∫ACRÂÄº" value="{{ acrResult.acr }}" custom-class="acr-value-cell" label="Aircraft Classification Rating - È£ûÊú∫ÂàÜÁ∫ßËØÑÂÆö" />
          <van-cell title="Êú∫Âú∫PCRÂÄº" value="{{ acrResult.pcr }}" custom-class="pcr-value-cell" label="Pavement Classification Rating - ÈÅìÈù¢ÂàÜÁ∫ßËØÑÂÆö" />
          <van-cell title="ÂÆâÂÖ®‰ΩôÈáè" value="{{ acrResult.safetyMargin >= 0 ? '+' : '' }}{{ acrResult.safetyMargin }}" label="PCR - ACR = ‰ΩôÈáè" />
        </van-cell-group>

        <van-cell-group title="ËøêË°åÁªìËÆ∫">
          <view class="acr-conclusion {{ acrResult.canOperate ? 'acr-go' : 'acr-no-go' }}">
            <view class="acr-text">{{ acrResult.operationStatus }}</view>
            <view class="acr-detail">{{ acrResult.operationReason }}</view>
          </view>
        </van-cell-group>

        <van-cell-group title="ËØ¥Êòé" wx:if="{{ !acrResult.canOperate }}">
          <van-cell 
            wx:if="{{ !acrResult.tirePressureCheckPassed }}"
            title="ËÉéÂéãÂÆâÂÖ®ÊèêÈÜí" 
            label="È£ûÊú∫ËΩÆËÉéÂéãÂäõË∂ÖËøá‰∫ÜÈÅìÈù¢ÂÖÅËÆ∏ÁöÑÈôêÂà∂ÔºåÂèØËÉΩÂØπÈÅìÈù¢ÈÄ†ÊàêÊçüÂùè„ÄÇ" 
            custom-class="acr-warning-cell"
          />
          <van-cell 
            wx:elif="{{ acrResult.safetyMargin < 0 }}"
            title="ACRÂÆâÂÖ®ÊèêÈÜí" 
            label="È£ûÊú∫ÁöÑACRÂÄºË∂ÖËøá‰∫ÜÈÅìÈù¢ÁöÑPCRÂÄºÔºåÂèØËÉΩÂØπÈÅìÈù¢ÈÄ†ÊàêÊçüÂùè„ÄÇ" 
            custom-class="acr-warning-cell"
          />
        </van-cell-group>
      </view>

      <van-cell-group wx:if="{{ acrError }}" title="ÈîôËØØ‰ø°ÊÅØ" class="acr-error-section">
        <van-cell title="ÈîôËØØ" value="{{ acrError }}" />
      </van-cell-group>
    </van-tab>

    <!-- GPWSÂëäË≠¶Ê®°Êãü - ÈáçÊñ∞ËÆæËÆ°‰∏∫ÂÆåÂÖ®Áã¨Á´ãÁöÑMode -->
    <van-tab title="GPWS">
      <!-- Mode 1: ËøáÂ∫¶‰∏ãÈôçÁéá - ÂÆåÂÖ®Áã¨Á´ã -->
      <van-cell-group title="Mode 1 - ËøáÂ∫¶‰∏ãÈôçÁéá (Excessive Descent Rate)">
        <van-field
          value="{{ mode1RA }}"
          label="Êó†Á∫øÁîµÈ´òÂ∫¶"
          placeholder="‰æãÂ¶Ç: 1000"
          type="digit"
          bind:change="onMode1RAChange"
        >
          <view slot="right-icon">Ëã±Â∞∫</view>
        </van-field>
        
        <van-field
          value="{{ mode1DescentRate }}"
          label="‰∏ãÈôçÁéá"
          placeholder="‰æãÂ¶Ç: 1500"
          type="digit"
          bind:change="onMode1DescentRateChange"
        >
          <view slot="right-icon">Ëã±Â∞∫/ÂàÜ</view>
        </van-field>
        
        <van-cell class="button-cell">
          <van-button 
            type="primary" 
            block 
            bind:click="calculateMode1"
            class="mode-calculate-button"
          >
            Mode 1 ÂëäË≠¶ÂàÜÊûê
          </van-button>
        </van-cell>
        
        <!-- Mode 1 ÁªìÊûúÊòæÁ§∫ -->
        <block wx:if="{{ mode1Result }}">
          <van-cell 
            title="{{ mode1Result.status }}"
            label="{{ mode1Result.message }}"
            class="alert-result-{{ mode1Result.type }}"
          />
          <van-cell 
            title="ÈòàÂÄº‰ø°ÊÅØ" 
            label="{{ mode1Result.thresholdInfo }}"
            wx:if="{{ mode1Result.thresholdInfo }}"
          />
        </block>
      </van-cell-group>

      <!-- Mode 2: ËøáÂ∫¶Âú∞ÂΩ¢Êé•ËøëÁéá - ÂÆåÂÖ®Áã¨Á´ã -->
      <van-cell-group title="Mode 2 - ËøáÂ∫¶Âú∞ÂΩ¢Êé•ËøëÁéá (Excessive Terrain Closure Rate)">
        <van-field
          value="{{ mode2RA }}"
          label="Êó†Á∫øÁîµÈ´òÂ∫¶"
          placeholder="‰æãÂ¶Ç: 1000"
          type="digit"
          bind:change="onMode2RAChange"
        >
          <view slot="right-icon">Ëã±Â∞∫</view>
        </van-field>
        
        <van-field
          value="{{ mode2TCR }}"
          label="Âú∞ÂΩ¢Êé•ËøëÁéá"
          placeholder="‰æãÂ¶Ç: 500"
          type="digit"
          bind:change="onMode2TCRChange"
        >
          <view slot="right-icon">Ëã±Â∞∫/ÂàÜ</view>
        </van-field>
        
        <van-field
          value="{{ mode2Airspeed }}"
          label="ËÆ°ÁÆóÁ©∫ÈÄü"
          placeholder="‰æãÂ¶Ç: 180"
          type="digit"
          bind:change="onMode2AirspeedChange"
        >
          <view slot="right-icon">ËäÇ</view>
        </van-field>
        
        <van-cell title="Ë•üÁøºÂú®ÁùÄÈôÜÊûÑÂûã">
          <van-switch 
            checked="{{ mode2FlapsInLanding }}" 
            bind:change="onMode2FlapsChange"
            slot="right-icon"
          />
        </van-cell>
        
        <van-cell title="TAD/Âá†‰ΩïÈ´òÂ∫¶ÊøÄÊ¥ªÔºàÂ¢ûÂº∫ÂäüËÉΩÔºâ" label="ÊøÄÊ¥ªÊó∂‰ºöÊòæËëóÂΩ±ÂìçMode 2ÂíåMode 4ÁöÑË≠¶ÂëäÈÄªËæë">
          <van-switch 
            checked="{{ mode2TADActive }}" 
            bind:change="onMode2TADChange"
            slot="right-icon"
          />
        </van-cell>
        
        <van-cell class="button-cell">
          <van-button 
            type="primary" 
            block 
            bind:click="calculateMode2"
            class="mode-calculate-button"
          >
            Mode 2 ÂëäË≠¶ÂàÜÊûê
          </van-button>
        </van-cell>
        
        <!-- Mode 2 ÁªìÊûúÊòæÁ§∫ -->
        <block wx:if="{{ mode2Result }}">
          <van-cell 
            title="{{ mode2Result.status }}"
            label="{{ mode2Result.message }}"
            class="alert-result-{{ mode2Result.type }}"
          />
          <van-cell 
            title="ÈòàÂÄº‰ø°ÊÅØ" 
            label="{{ mode2Result.thresholdInfo }}"
            wx:if="{{ mode2Result.thresholdInfo }}"
          />
        </block>
      </van-cell-group>

      <!-- Mode 3: Ëµ∑È£ûÂêéËøáÂ∫¶È´òÂ∫¶ÊçüÂ§± - ÂÆåÂÖ®Áã¨Á´ã -->
      <van-cell-group title="Mode 3 - Ëµ∑È£ûÂêéËøáÂ∫¶È´òÂ∫¶ÊçüÂ§± (Altitude Loss After Takeoff)">
        <van-field
          value="{{ mode3RA }}"
          label="Êó†Á∫øÁîµÈ´òÂ∫¶"
          placeholder="‰æãÂ¶Ç: 200"
          type="digit"
          bind:change="onMode3RAChange"
        >
          <view slot="right-icon">Ëã±Â∞∫</view>
        </van-field>
        
        <van-field
          value="{{ mode3AltitudeLoss }}"
          label="Ëµ∑È£ûÂêéÈ´òÂ∫¶ÊçüÂ§±"
          placeholder="‰æãÂ¶Ç: 50"
          type="digit"
          bind:change="onMode3AltitudeLossChange"
        >
          <view slot="right-icon">Ëã±Â∞∫</view>
        </van-field>
        
        <van-cell class="button-cell">
          <van-button 
            type="primary" 
            block 
            bind:click="calculateMode3"
            class="mode-calculate-button"
          >
            Mode 3 ÂëäË≠¶ÂàÜÊûê
          </van-button>
        </van-cell>
        
        <!-- Mode 3 ÁªìÊûúÊòæÁ§∫ -->
        <block wx:if="{{ mode3Result }}">
          <van-cell 
            title="{{ mode3Result.status }}"
            label="{{ mode3Result.message }}"
            class="alert-result-{{ mode3Result.type }}"
          />
          <van-cell 
            title="ÈòàÂÄº‰ø°ÊÅØ" 
            label="{{ mode3Result.thresholdInfo }}"
            wx:if="{{ mode3Result.thresholdInfo }}"
          />
        </block>
      </van-cell-group>

      <!-- Mode 4: ‰∏çÂÆâÂÖ®Âú∞ÂΩ¢Á©øË∂ä - ÂÆåÂÖ®Áã¨Á´ã -->
      <van-cell-group title="Mode 4 - ‰∏çÂÆâÂÖ®Âú∞ÂΩ¢Á©øË∂ä (Unsafe Terrain Clearance)">
        <van-field
          value="{{ mode4RA }}"
          label="Êó†Á∫øÁîµÈ´òÂ∫¶"
          placeholder="‰æãÂ¶Ç: 800"
          type="digit"
          bind:change="onMode4RAChange"
        >
          <view slot="right-icon">Ëã±Â∞∫</view>
        </van-field>
        
        <van-field
          value="{{ mode4Airspeed }}"
          label="ËÆ°ÁÆóÁ©∫ÈÄü"
          placeholder="‰æãÂ¶Ç: 180"
          type="digit"
          bind:change="onMode4AirspeedChange"
        >
          <view slot="right-icon">ËäÇ</view>
        </van-field>
        
        <van-field
          value="{{ mode4MaxRA }}"
          label="Ëµ∑È£ûÂêéËææÂà∞ÁöÑÊúÄÂ§ßÈ´òÂ∫¶"
          placeholder="‰æãÂ¶Ç: 1000 (‰ªÖMode 4CÈúÄË¶Å)"
          type="digit"
          bind:change="onMode4MaxRAChange"
        >
          <view slot="right-icon">Ëã±Â∞∫</view>
        </van-field>
        
        <van-cell title="Ëµ∑ËêΩÊû∂Êî∂‰∏ä">
          <van-switch 
            checked="{{ mode4GearUp }}" 
            bind:change="onMode4GearChange"
            slot="right-icon"
          />
        </van-cell>
        
        <van-cell title="Ë•üÁøºÂú®ÁùÄÈôÜÊûÑÂûã">
          <van-switch 
            checked="{{ mode4FlapsInLanding }}" 
            bind:change="onMode4FlapsChange"
            slot="right-icon"
          />
        </van-cell>
        
        <van-cell title="TAD/Âá†‰ΩïÈ´òÂ∫¶ÊøÄÊ¥ªÔºàÂ¢ûÂº∫ÂäüËÉΩÔºâ">
          <van-switch 
            checked="{{ mode4TADActive }}" 
            bind:change="onMode4TADChange"
            slot="right-icon"
          />
        </van-cell>
        
        <van-cell class="button-cell">
          <van-button 
            type="primary" 
            block 
            bind:click="calculateMode4"
            class="mode-calculate-button"
          >
            Mode 4 ÂëäË≠¶ÂàÜÊûê
          </van-button>
        </van-cell>
        
        <!-- Mode 4 ÁªìÊûúÊòæÁ§∫ -->
        <block wx:if="{{ mode4Result }}">
          <van-cell 
            title="{{ mode4Result.status }}"
            label="{{ mode4Result.message }}"
            class="alert-result-{{ mode4Result.type }}"
          />
          <van-cell 
            title="ÈòàÂÄº‰ø°ÊÅØ" 
            label="{{ mode4Result.thresholdInfo }}"
            wx:if="{{ mode4Result.thresholdInfo }}"
          />
        </block>
      </van-cell-group>

      <!-- Mode 5: ËøáÂ∫¶‰∏ãÊªëÈÅìÂÅèÁ¶ª - ÂÆåÂÖ®Áã¨Á´ã -->
      <van-cell-group title="Mode 5 - ËøáÂ∫¶‰∏ãÊªëÈÅìÂÅèÁ¶ª (Glide Slope Deviation)">
        <van-field
          value="{{ mode5RA }}"
          label="Êó†Á∫øÁîµÈ´òÂ∫¶"
          placeholder="‰æãÂ¶Ç: 300"
          type="digit"
          bind:change="onMode5RAChange"
        >
          <view slot="right-icon">Ëã±Â∞∫</view>
        </van-field>
        
        <van-field
          value="{{ mode5GSDeviation }}"
          label="‰∏ãÊªëÈÅìÂêë‰∏ãÂÅèÁ¶ªÂ∫¶"
          placeholder="‰æãÂ¶Ç: 1.5"
          type="digit"
          bind:change="onMode5GSDeviationChange"
        >
          <view slot="right-icon">ÁÇπ</view>
        </van-field>
        
        <van-cell class="button-cell">
          <van-button 
            type="primary" 
            block 
            bind:click="calculateMode5"
            class="mode-calculate-button"
          >
            Mode 5 ÂëäË≠¶ÂàÜÊûê
          </van-button>
        </van-cell>
        
        <!-- Mode 5 ÁªìÊûúÊòæÁ§∫ -->
        <block wx:if="{{ mode5Result }}">
          <van-cell 
            title="{{ mode5Result.status }}"
            label="{{ mode5Result.message }}"
            class="alert-result-{{ mode5Result.type }}"
          />
          <van-cell 
            title="ÈòàÂÄº‰ø°ÊÅØ" 
            label="{{ mode5Result.thresholdInfo }}"
            wx:if="{{ mode5Result.thresholdInfo }}"
          />
        </block>
      </van-cell-group>


    </van-tab>

  </van-tabs>

  <!-- üéØ Âü∫‰∫éContext7ÊúÄ‰Ω≥ÂÆûË∑µÔºöÂú®ËÆ°ÁÆóÂäüËÉΩ‰∏ãÊñπÊòæÁ§∫ÂπøÂëä -->
  <view wx:if="{{ showAd }}" class="calculator-ad-container">
    <ad-template 
      unit-id="{{ adUnitId }}"
      ad-type="custom"
      context="calculator"
      bind:adload="onAdLoad"
      bind:aderror="onAdError"
    />
  </view>

  <!-- È£ûÊú∫ÂûãÂè∑ÈÄâÊã©Âô® -->
  <van-action-sheet
    show="{{ showAircraftModelPicker }}"
    title="ÈÄâÊã©È£ûÊú∫ÂûãÂè∑"
    bind:close="onAircraftPickerClose"
    bind:select="onAircraftModelSelect"
    actions="{{ aircraftModelActions }}"
  />

  <!-- ACRÂà∂ÈÄ†ÂïÜÈÄâÊã©Âô® -->
  <van-action-sheet
    show="{{ showAcrManufacturerPicker }}"
    title="ÈÄâÊã©Âà∂ÈÄ†ÂïÜ"
    bind:close="onAcrManufacturerPickerClose"
    bind:select="onAcrManufacturerSelect"
    actions="{{ acrManufacturerActions }}"
  />

  <!-- ACRÂûãÂè∑ÈÄâÊã©Âô® -->
  <van-action-sheet
    show="{{ showAcrModelPicker }}"
    title="ÈÄâÊã©È£ûÊú∫ÂûãÂè∑"
    bind:close="onAcrModelPickerClose"
    bind:select="onAcrModelSelect"
    actions="{{ acrModelActions }}"
  />

  <!-- ACRÂèòÂûãÈÄâÊã©Âô® -->
  <van-action-sheet
    show="{{ showAcrVariantPicker }}"
    title="ÈÄâÊã©ÂÖ∑‰ΩìÊîπÂûã"
    bind:close="onAcrVariantPickerClose"
    bind:select="onAcrVariantSelect"
    actions="{{ acrVariantActions }}"
  />

  <!-- ÈÅìÈù¢Á±ªÂûãÈÄâÊã©Âô® -->
  <van-action-sheet
    show="{{ showPavementTypePicker }}"
    title="ÈÄâÊã©ÈÅìÈù¢Á±ªÂûã"
    bind:close="onPavementTypePickerClose"
    bind:select="onPavementTypeSelect"
    actions="{{ pavementTypeActions }}"
  />

  <!-- ÈÅìÂü∫Âº∫Â∫¶Á±ªÂà´ÈÄâÊã©Âô® -->
  <van-action-sheet
    show="{{ showSubgradeStrengthPicker }}"
    title="ÈÄâÊã©ÈÅìÂü∫Âº∫Â∫¶Á±ªÂà´"
    bind:close="onSubgradeStrengthPickerClose"
    bind:select="onSubgradeStrengthSelect"
    actions="{{ subgradeStrengthActions }}"
  />

  <!-- ÊúÄÂ§ßÂÖÅËÆ∏ËÉéÂéãÈÄâÊã©Âô® -->
  <van-action-sheet
    show="{{ showTirePressurePicker }}"
    title="ÈÄâÊã©ÊúÄÂ§ßÂÖÅËÆ∏ËÉéÂéã"
    bind:close="onTirePressurePickerClose"
    bind:select="onTirePressureSelect"
    actions="{{ tirePressureActions }}"
  />

  <!-- ËØÑ‰º∞ÊñπÊ≥ïÈÄâÊã©Âô® -->
  <van-action-sheet
    show="{{ showEvaluationMethodPicker }}"
    title="ÈÄâÊã©ËØÑ‰º∞ÊñπÊ≥ï"
    bind:close="onEvaluationMethodPickerClose"
    bind:select="onEvaluationMethodSelect"
    actions="{{ evaluationMethodActions }}"
  />

</view> 