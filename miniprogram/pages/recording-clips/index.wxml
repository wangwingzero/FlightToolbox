<view class="container">
  <!-- é¡µé¢å¤´éƒ¨ -->
  <view class="page-header">
    <view class="header-main">
      <text class="region-flag">{{ regionFlag }}</text>
      <view class="header-info">
        <text class="header-region">{{ regionName }}</text>
        <text class="header-category">{{ categoryName }}</text>
      </view>
    </view>
    <view class="header-stats">
      <text class="stats-icon">ðŸ“š</text>
      <text class="stats-text">å…± {{ allClips.length }} æ®µå½•éŸ³</text>
    </view>
  </view>

  <!-- å½•éŸ³åˆ—è¡¨ -->
  <view class="clips-list">
    <view wx:for="{{ allClips }}" wx:key="index" 
      class="clip-card {{ item.isLearned ? 'learned' : 'unlearned' }}"
      bind:tap="selectClip" 
      data-index="{{ index }}">
      <!-- ç¼–å·å’ŒçŠ¶æ€ -->
      <view class="clip-number-wrapper">
        <view class="clip-number">{{ index + 1 }}</view>
        <view class="clip-status" 
          catch:tap="toggleLearnedStatus" 
          data-index="{{ index }}">
          <text class="status-icon">{{ item.isLearned ? 'âœ“' : 'â—‹' }}</text>
        </view>
      </view>
      
      <!-- å½•éŸ³ä¿¡æ¯ -->
      <view class="clip-details">
        <view class="clip-label-tag">{{ item.label }}</view>
        <view class="clip-transcript">
          {{ item.isLearned ? item.full_transcript : 'ç‚¹å‡»å­¦ä¹ æ˜¾ç¤ºå½•éŸ³å†…å®¹' }}
        </view>
        <view wx:if="{{ item.isLearned }}" class="clip-translation">
          {{ item.translation_cn }}
        </view>
      </view>
      
      <!-- æ’­æ”¾æŒ‰é’® -->
      <view class="clip-play-button">
        <text class="play-icon">â–¶</text>
      </view>
    </view>
  </view>

  <!-- æ¨ªå¹…å¹¿å‘Š - ä»…åœ¨æœªèŽ·å¾—æ— å¹¿å‘Šå¥–åŠ±ä¸”åŽŸç”Ÿå¹¿å‘Šå¼€å…³å¼€å¯æ—¶æ˜¾ç¤º -->
  <view wx:if="{{ !isAdFree && nativeAdEnabled }}" class="ad-section">
    <ad unit-id="adunit-3a1bf3800fa937a2" ad-intervals="30" bindload="adLoad" binderror="adError" bindclose="adClose"></ad>
  </view>
  
  <!-- åº•éƒ¨å®‰å…¨åŒºåŸŸ -->
  <view class="safe-area-bottom"></view>
</view>