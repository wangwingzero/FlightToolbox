<view class="container page-content">
  <!-- æ”¯æŒä½œè€…å¡ç‰‡ - ä»…åœ¨æ”¯æŒæ¿€åŠ±è§†é¢‘å¹¿å‘Šçš„è®¾å¤‡ä¸Šæ˜¾ç¤º -->
  <view wx:if="{{ rewardedVideoAdSupported }}" class="support-author-card {{ isAdFree ? 'is-ad-free' : '' }}">
    <!-- æœªè·å¾—æ— å¹¿å‘ŠçŠ¶æ€ï¼šæ˜¾ç¤ºè§‚çœ‹æŒ‰é’® -->
    <view wx:if="{{ !isAdFree }}" class="support-content">
      <!-- å·¦ä¸Šè§’ç¦åˆ©è§’æ ‡ -->
      <view class="ad-free-badge">
        <view class="badge-icon">ğŸ</view>
        <view class="badge-text">
          <text class="badge-main">1å°æ—¶å…å¹¿å‘Š</text>
          <text class="badge-sub">çœ‹30ç§’è§£é”</text>
        </view>
      </view>
      
      <!-- ä¸»ä½“å†…å®¹åŒº -->
      <view class="support-main">
        <view class="support-icon-wrap">
          <view class="support-icon">â˜•</view>
        </view>
        <view class="support-info">
          <view class="support-title">{{ adCopyTitle }}</view>
          <view class="support-desc">{{ adCopyDesc }}</view>
        </view>
      </view>
      
      <!-- æ“ä½œåŒº -->
      <view class="support-footer">
        <button
          wx:if="{{ rewardedVideoAdLoaded }}"
          class="watch-ad-button"
          bind:tap="showRewardedVideoAd"
          hover-class="none">
          <view class="button-glow"></view>
          <text class="button-icon">â–¶</text>
          <text class="button-text">è§‚çœ‹30ç§’è§†é¢‘å…å¹¿å‘Š</text>
        </button>
        <view wx:else class="loading-hint">
          <view class="loading-dot"></view>
          <view class="loading-dot"></view>
          <view class="loading-dot"></view>
          <text class="loading-text">å¹¿å‘ŠåŠ è½½ä¸­</text>
        </view>
      </view>
    </view>

    <!-- å·²è·å¾—æ— å¹¿å‘ŠçŠ¶æ€ï¼šæ˜¾ç¤ºæ„Ÿè°¢å’Œå‰©ä½™æ—¶é—´ -->
    <view wx:else class="support-content thank-you">
      <view class="thank-you-icon">{{ adCopyIcon }}</view>
      <view class="thank-you-info">
        <view class="thank-you-title">{{ adCopyTitle }}</view>
        <view class="thank-you-time">
          <text class="time-icon">â±</text>
          <text class="time-text">å‰©ä½™ {{ adFreeTimeRemaining }}</text>
        </view>
      </view>
      <view class="thank-you-badge">å·²è§£é”</view>
    </view>
  </view>

  <!-- èµ„æ–™æŸ¥è¯¢å¡ç‰‡ç½‘æ ¼ - æŒ‰ä½¿ç”¨é¢‘ç‡è‡ªåŠ¨æ’åº -->
  <view class="categories-grid">
    <view
      wx:for="{{ displayCategories }}"
      wx:key="id"
      class="category-card theme-{{ item.themeColor }}"
      bind:tap="onCategoryClick"
      data-category="{{ item }}"
    >
      <view class="category-icon">{{ item.icon }}</view>
      <view class="category-content">
        <view class="category-title">{{ item.title }}</view>
        <view class="category-desc">{{ item.description }}</view>
      </view>
      <!-- ç§¯åˆ†æ ‡ç­¾ï¼ˆå³ä¸Šè§’ï¼‰ -->
      <view class="category-points" wx:if="{{ item.pointsText }}">
        <van-tag type="{{ item.pointsType }}" size="mini">{{ item.pointsText }}</van-tag>
      </view>
      <!-- æ•°æ®é‡æ ‡ç­¾ï¼ˆåº•éƒ¨ï¼‰ -->
      <view class="category-count">
        <van-tag type="{{ item.countType || 'primary' }}" size="medium">{{ item.count }}</van-tag>
      </view>
    </view>
  </view>

  <!-- æ¨ªå¹…å¹¿å‘Š - ä»…åœ¨æœªè·å¾—æ— å¹¿å‘Šå¥–åŠ±æ—¶æ˜¾ç¤º -->
  <view wx:if="{{ !isAdFree }}" class="ad-banner-container">
    <ad unit-id="adunit-4e68875624a88762" ad-type="banner" ad-intervals="30"></ad>
  </view>
</view>

<van-toast id="van-toast" />