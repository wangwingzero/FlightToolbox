<view class="container">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header">
    <view class="header-title">ğŸ‡¨ğŸ‡³ å›½å†…é€šä¿¡å¤±æ•ˆç¨‹åº</view>
    <view class="header-subtitle">{{ procedureData.document || 'æ°‘èˆªå‘ã€”2023ã€•6å·' }}</view>
  </view>


  <!-- åº”ç­”æœºè®¾ç½® -->
  <view class="section-card">
    <view class="section-title">
      <text class="section-icon">ğŸ“¡</text>
      <text class="section-text">åº”ç­”æœºç¼–ç è®¾å®š</text>
    </view>
    <view class="content-box">
      <view class="procedure-step">
        <view class="step-number">1</view>
        <view class="step-content">
          <view class="step-title">åˆå§‹åŠ¨ä½œ</view>
          <view class="step-description">{{ procedureData.transponderSetting.initialAction }}</view>
        </view>
      </view>
      <view class="procedure-step">
        <view class="step-number">2</view>
        <view class="step-content">
          <view class="step-title">ç´§æ€¥çˆ¬å‡</view>
          <view class="step-description">{{ procedureData.transponderSetting.emergencyClimb }}</view>
        </view>
      </view>
      <view class="procedure-step special-intention">
        <view class="step-number">âš ï¸</view>
        <view class="step-content">
          <view class="step-title">å…¶ä»–æ„å›¾</view>
          <view class="intention-list">
            <view class="intention-item">
              <text class="intention-label">è¿”å›èµ·é£æœºåœºï¼š</text>
              <text class="intention-value">{{ procedureData.transponderSetting.otherIntentions.returnToDeparture }}</text>
            </view>
            <view class="intention-item">
              <text class="intention-label">é£å¾€å¤‡é™åœºï¼š</text>
              <text class="intention-value">{{ procedureData.transponderSetting.otherIntentions.proceedToTakeoffAlternate }}</text>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- æ“ä½œè¦æ±‚ -->
  <view class="section-card">
    <view class="section-title">
      <text class="section-icon">âš¡</text>
      <text class="section-text">æ“ä½œè¦æ±‚</text>
    </view>
    <view class="content-box">
      <view class="requirement-item">
        <view class="requirement-title">æ¢å¤é€šä¿¡</view>
        <view class="requirement-content">{{ procedureData.operationalRequirements.restoreCommunication }}</view>
      </view>
      <view class="requirement-item">
        <view class="requirement-title">ç›²å‘é€šä¿¡</view>
        <view class="requirement-content">{{ procedureData.operationalRequirements.blindTransmission }}</view>
      </view>
    </view>
  </view>

  <!-- æ¨ªå¹…å¹¿å‘Š1 -->
  <ad-custom unit-id="adunit-4e68875624a88762" bindload="adLoad" binderror="adError" bindclose="adClose"></ad-custom>

  <!-- ä¸€èˆ¬ç¨‹åº -->
  <view class="section-card">
    <view class="section-title">
      <text class="section-icon">ğŸ›«</text>
      <text class="section-text">ä¸€èˆ¬ç¨‹åºï¼ˆé£å¾€ç›®çš„åœ°ï¼‰</text>
    </view>
    <view class="content-box">
      <!-- ç©ºåŸŸç±»å‹é€‰æ‹© -->
      <view class="airspace-tabs">
        <view class="tab-item {{ selectedAirspace === 'surveillance' ? 'active' : '' }}" 
              bind:tap="selectAirspace" data-type="surveillance">
          <text class="tab-text">ç›‘è§†ç®¡åˆ¶ç©ºåŸŸ</text>
        </view>
        <view class="tab-item {{ selectedAirspace === 'non-surveillance' ? 'active' : '' }}" 
              bind:tap="selectAirspace" data-type="non-surveillance">
          <text class="tab-text">éç›‘è§†ç®¡åˆ¶ç©ºåŸŸ</text>
        </view>
      </view>

      <!-- ç›‘è§†ç®¡åˆ¶ç©ºåŸŸç¨‹åº -->
      <view wx:if="{{ selectedAirspace === 'surveillance' }}" class="airspace-content">
        <view class="airspace-title">{{ procedureData.generalProcedureToDestination.surveillanceAirspace.title }}</view>
        <view class="airspace-description">{{ procedureData.generalProcedureToDestination.surveillanceAirspace.action }}</view>
        <view class="timing-info">
          <text class="timing-label">è®¡æ—¶å¼€å§‹ï¼š</text>
          <text class="timing-value">{{ procedureData.generalProcedureToDestination.surveillanceAirspace.timingStart }}</text>
        </view>
      </view>

      <!-- éç›‘è§†ç®¡åˆ¶ç©ºåŸŸç¨‹åº -->
      <view wx:if="{{ selectedAirspace === 'non-surveillance' }}" class="airspace-content">
        <view class="airspace-title">{{ procedureData.generalProcedureToDestination.nonSurveillanceAirspace.title }}</view>
        <view class="airspace-description">{{ procedureData.generalProcedureToDestination.nonSurveillanceAirspace.action }}</view>
      </view>

      <!-- å…±åŒæ­¥éª¤ -->
      <view class="common-steps">
        <view class="steps-title">åç»­æ­¥éª¤</view>
        <view class="step-item">
          <text class="step-label">èˆªè·¯é£è¡Œï¼š</text>
          <text class="step-value">{{ procedureData.generalProcedureToDestination.commonSteps.enroute }}</text>
        </view>
        <view class="step-item">
          <text class="step-label">å¼€å§‹ä¸‹é™ï¼š</text>
          <text class="step-value">{{ procedureData.generalProcedureToDestination.commonSteps.descent }}</text>
        </view>
        <view class="step-item">
          <text class="step-label">è¿›è¿‘ç€é™†ï¼š</text>
          <text class="step-value">{{ procedureData.generalProcedureToDestination.commonSteps.approachAndLanding }}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- å…¶ä»–é£è¡Œæ„å›¾ -->
  <view class="section-card">
    <view class="section-title">
      <text class="section-icon">âœˆï¸</text>
      <text class="section-text">å…¶ä»–é£è¡Œè·¯å¾„æ„å›¾</text>
    </view>
    <view class="content-box">
      <view class="intention-tabs">
        <view class="intention-tab {{ selectedIntention === 'return' ? 'active' : '' }}" 
              bind:tap="selectIntention" data-type="return">
          <text class="tab-text">è¿”å›èµ·é£æœºåœº</text>
        </view>
        <view class="intention-tab {{ selectedIntention === 'takeoff-alternate' ? 'active' : '' }}" 
              bind:tap="selectIntention" data-type="takeoff-alternate">
          <text class="tab-text">èµ·é£å¤‡é™åœº</text>
        </view>
        <view class="intention-tab {{ selectedIntention === 'destination-alternate' ? 'active' : '' }}" 
              bind:tap="selectIntention" data-type="destination-alternate">
          <text class="tab-text">ç›®çš„åœ°å¤‡é™åœº</text>
        </view>
      </view>

      <!-- è¿”å›èµ·é£æœºåœº -->
      <view wx:if="{{ selectedIntention === 'return' }}" class="intention-content">
        <view class="intention-title">{{ procedureData.implementationOfOtherIntentions.returnToDeparture.title }}</view>
        <view class="intention-description">{{ procedureData.implementationOfOtherIntentions.returnToDeparture.path }}</view>
      </view>

      <!-- èµ·é£å¤‡é™åœº -->
      <view wx:if="{{ selectedIntention === 'takeoff-alternate' }}" class="intention-content">
        <view class="intention-title">{{ procedureData.implementationOfOtherIntentions.proceedToTakeoffAlternate.title }}</view>
        <view class="intention-description">{{ procedureData.implementationOfOtherIntentions.proceedToTakeoffAlternate.path }}</view>
      </view>

      <!-- ç›®çš„åœ°å¤‡é™åœº -->
      <view wx:if="{{ selectedIntention === 'destination-alternate' }}" class="intention-content">
        <view class="intention-title">{{ procedureData.implementationOfOtherIntentions.proceedToDestinationAlternate.title }}</view>
        <view class="intention-description">{{ procedureData.implementationOfOtherIntentions.proceedToDestinationAlternate.path }}</view>
      </view>
    </view>
  </view>

  <!-- æ¨ªå¹…å¹¿å‘Š2 -->
  <ad-custom unit-id="adunit-3b2e78fbdab16389" bindload="adLoad" binderror="adError" bindclose="adClose"></ad-custom>

</view>