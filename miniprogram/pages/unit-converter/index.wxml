<points-header 
  page-type="unit-converter"
  bind:points-consumed="onPointsConsumed"
  bind:points-insufficient="onPointsInsufficient"
  bind:signin-success="onSignInSuccess"
  bind:ad-reward="onAdReward"
/>

<view class="container" data-theme="{{ isDarkMode ? 'dark' : 'light' }}">
  <van-tabs active="{{ activeTab }}" bind:change="onTabChange">
    <!-- Ë∑ùÁ¶ªÊç¢ÁÆó -->
    <van-tab title="Ë∑ùÁ¶ª" name="distance">
      <!-- üéØ Âü∫‰∫éContext7ÊúÄ‰Ω≥ÂÆûË∑µÔºöÂú®Ê†áÈ¢ò‰∏ãÊñπÊòæÁ§∫ÂπøÂëä -->
      <view wx:if="{{ showAd && !userPreferences.reduceAds }}" class="calculator-ad-container">
        <view class="ad-container">
          <ad-template 
            unit-id="{{ adUnitId }}"
            ad-type="custom"
            context="converter"
            bind:adload="onAdLoad"
            bind:aderror="onAdError"
          />
        </view>
      </view>
      
      <van-cell-group title="Ë∑ùÁ¶ªÊç¢ÁÆó">
        <van-field
          value="{{ distanceValues.meter }}"
          label="Á±≥ (m)"
          placeholder="ËØ∑ËæìÂÖ•Êï∞ÂÄº"
          type="digit"
          bind:change="onDistanceInput"
          data-unit="meter"
          input-align="right"
        />
        <van-field
          value="{{ distanceValues.kilometer }}"
          label="ÂçÉÁ±≥ (km)"
          placeholder="ËØ∑ËæìÂÖ•Êï∞ÂÄº"
          type="digit"
          bind:change="onDistanceInput"
          data-unit="kilometer"
          input-align="right"
        />
        <van-field
          value="{{ distanceValues.nauticalMile }}"
          label="Êµ∑Èáå (nm)"
          placeholder="ËØ∑ËæìÂÖ•Êï∞ÂÄº"
          type="digit"
          bind:change="onDistanceInput"
          data-unit="nauticalMile"
          input-align="right"
        />
        <van-field
          value="{{ distanceValues.mile }}"
          label="Ëã±Èáå (mi)"
          placeholder="ËØ∑ËæìÂÖ•Êï∞ÂÄº"
          type="digit"
          bind:change="onDistanceInput"
          data-unit="mile"
          input-align="right"
        />
        <van-field
          value="{{ distanceValues.foot }}"
          label="Ëã±Â∞∫ (ft)"
          placeholder="ËØ∑ËæìÂÖ•Êï∞ÂÄº"
          type="digit"
          bind:change="onDistanceInput"
          data-unit="foot"
          input-align="right"
        />
        <van-field
          value="{{ distanceValues.inch }}"
          label="Ëã±ÂØ∏ (in)"
          placeholder="ËØ∑ËæìÂÖ•Êï∞ÂÄº"
          type="digit"
          bind:change="onDistanceInput"
          data-unit="inch"
          input-align="right"
        />
        <van-cell class="button-cell">
          <van-button type="primary" bind:click="convertDistance">Êç¢ÁÆó</van-button>
        </van-cell>
        <van-cell class="button-cell">
          <van-button type="default" bind:click="clearDistance">Ê∏ÖÁ©∫</van-button>
        </van-cell>
      </van-cell-group>
    </van-tab>



    <!-- QFEËÆ°ÁÆó -->
    <van-tab title="QFE" name="qfe">
      <!-- üéØ Âü∫‰∫éContext7ÊúÄ‰Ω≥ÂÆûË∑µÔºöÂú®Ê†áÈ¢ò‰∏ãÊñπÊòæÁ§∫ÂπøÂëä -->
      <view wx:if="{{ showAd && !userPreferences.reduceAds }}" class="calculator-ad-container">
        <view class="ad-container">
          <ad-template 
            unit-id="{{ adUnitId }}"
            ad-type="custom"
            context="converter"
            bind:adload="onAdLoad"
            bind:aderror="onAdError"
          />
        </view>
      </view>
      
      <van-cell-group title="Âü∫Á°ÄÂèÇÊï∞">
        <van-field
          value="{{ elevationInput }}"
          label="Êú∫Âú∫Ê†áÈ´ò"
          placeholder="ËØ∑ËæìÂÖ•Êú∫Âú∫Ê†áÈ´ò"
          type="digit"
          bind:change="onElevationInputChange"
        >
          <view slot="right-icon">Ëã±Â∞∫</view>
        </van-field>
      </van-cell-group>

      <van-cell-group title="QNH ‚Üí QFE">
        <van-field
          value="{{ qnhInput }}"
          label="QNH"
          placeholder="ËØ∑ËæìÂÖ•QNH"
          type="digit"
          bind:change="onQNHInputChange"
        >
          <view slot="right-icon">hPa</view>
        </van-field>
        
        <van-cell class="button-cell">
          <van-button type="primary" bind:click="convertQNHtoQFE">
            ËÆ°ÁÆóQFE
          </van-button>
        </van-cell>
        
        <van-cell wx:if="{{ qfeResult }}" title="QFE" value="{{ qfeResult }} hPa" />
      </van-cell-group>
      
      <van-cell-group title="QFE ‚Üí QNH">
        <van-field
          value="{{ qfeInput }}"
          label="QFE"
          placeholder="ËØ∑ËæìÂÖ•QFE"
          type="digit"
          bind:change="onQFEInputChange"
        >
          <view slot="right-icon">hPa</view>
        </van-field>
        
        <van-cell class="button-cell">
          <van-button type="primary" bind:click="convertQFEtoQNH">
            ËÆ°ÁÆóQNH
          </van-button>
        </van-cell>
        
        <van-cell wx:if="{{ qnhResult }}" title="QNH" value="{{ qnhResult }} hPa" />
      </van-cell-group>


    </van-tab>

    <!-- ÈÄüÂ∫¶Êç¢ÁÆó -->
    <van-tab title="ÈÄüÂ∫¶" name="speed">
      <!-- üéØ Âü∫‰∫éContext7ÊúÄ‰Ω≥ÂÆûË∑µÔºöÂú®Ê†áÈ¢ò‰∏ãÊñπÊòæÁ§∫ÂπøÂëä -->
      <view wx:if="{{ showAd && !userPreferences.reduceAds }}" class="calculator-ad-container">
        <view class="ad-container">
          <ad-template 
            unit-id="{{ adUnitId }}"
            ad-type="custom"
            context="converter"
            bind:adload="onAdLoad"
            bind:aderror="onAdError"
          />
        </view>
      </view>
      
      <van-cell-group title="ÈÄüÂ∫¶Êç¢ÁÆó">
        <van-field
          value="{{ speedValues.meterPerSecond }}"
          label="Á±≥/Áßí (m/s)"
          placeholder="ËØ∑ËæìÂÖ•Êï∞ÂÄº"
          type="digit"
          bind:change="onSpeedInput"
          data-unit="meterPerSecond"
          input-align="right"
        />
        <van-field
          value="{{ speedValues.kilometerPerHour }}"
          label="ÂçÉÁ±≥/Êó∂ (km/h)"
          placeholder="ËØ∑ËæìÂÖ•Êï∞ÂÄº"
          type="digit"
          bind:change="onSpeedInput"
          data-unit="kilometerPerHour"
          input-align="right"
        />
        <van-field
          value="{{ speedValues.knot }}"
          label="Êµ∑Èáå/Êó∂ (kn)"
          placeholder="ËØ∑ËæìÂÖ•Êï∞ÂÄº"
          type="digit"
          bind:change="onSpeedInput"
          data-unit="knot"
          input-align="right"
        />
        <van-cell class="button-cell">
          <van-button type="primary" bind:click="convertSpeed">Êç¢ÁÆó</van-button>
        </van-cell>
        <van-cell class="button-cell">
          <van-button type="default" bind:click="clearSpeed">Ê∏ÖÁ©∫</van-button>
        </van-cell>
      </van-cell-group>
    </van-tab>



    <!-- ISAËÆ°ÁÆó -->
    <van-tab title="ISA" name="isa">
      <!-- üéØ Âü∫‰∫éContext7ÊúÄ‰Ω≥ÂÆûË∑µÔºöÂú®Ê†áÈ¢ò‰∏ãÊñπÊòæÁ§∫ÂπøÂëä -->
      <view wx:if="{{ showAd && !userPreferences.reduceAds }}" class="calculator-ad-container">
        <view class="ad-container">
          <ad-template 
            unit-id="{{ adUnitId }}"
            ad-type="custom"
            context="converter"
            bind:adload="onAdLoad"
            bind:aderror="onAdError"
          />
        </view>
      </view>
      
      <van-cell-group title="ISAÊ†áÂáÜÂ§ßÊ∞îÊ∏©Â∫¶ËÆ°ÁÆó">
        <van-field
          value="{{ isaAltitude }}"
          label="È´òÂ∫¶"
          placeholder="ËØ∑ËæìÂÖ•È´òÂ∫¶"
          type="digit"
          bind:change="onIsaAltitudeChange"
        >
          <view slot="right-icon">Ëã±Â∞∫</view>
        </van-field>
        
        <van-field
          value="{{ isaOAT }}"
          label="Â§ñÁïåÁ©∫Ê∞îÊ∏©Â∫¶"
          placeholder="ÊîØÊåÅË¥üÊï∞ÔºåÂ¶Ç-15ÔºàÂèØÈÄâÔºâ"
          type="text"
          bind:input="onTemperatureNumberInput"
          bind:change="onIsaOATChange"
        >
          <view slot="right-icon">¬∞C</view>
        </van-field>
        
        <van-cell class="button-cell">
          <van-button type="primary" bind:click="calculateISA">
            ËÆ°ÁÆóISAÊ∏©Â∫¶
          </van-button>
        </van-cell>
        
        <van-cell wx:if="{{ isaStandardTemp }}" title="ISAÊ†áÂáÜÊ∏©Â∫¶" value="{{ isaStandardTemp }}¬∞C" />
        <van-cell wx:if="{{ isaDeviation }}" title="Ê∏©Â∫¶ÂÅèÂ∑Æ" value="{{ isaDeviation }}" />
      </van-cell-group>
    </van-tab>

    <!-- Ê∏©Â∫¶Êç¢ÁÆó -->
    <van-tab title="Ê∏©Â∫¶" name="temperature">
      <!-- üéØ Âü∫‰∫éContext7ÊúÄ‰Ω≥ÂÆûË∑µÔºöÂú®Ê†áÈ¢ò‰∏ãÊñπÊòæÁ§∫ÂπøÂëä -->
      <view wx:if="{{ showAd && !userPreferences.reduceAds }}" class="calculator-ad-container">
        <view class="ad-container">
          <ad-template 
            unit-id="{{ adUnitId }}"
            ad-type="custom"
            context="converter"
            bind:adload="onAdLoad"
            bind:aderror="onAdError"
          />
        </view>
      </view>
      
      <van-cell-group title="Ê∏©Â∫¶Êç¢ÁÆó">
        <van-field
          value="{{ temperatureValues.celsius }}"
          label="ÊëÑÊ∞èÂ∫¶ (¬∞C)"
          placeholder="ÊîØÊåÅË¥üÊï∞ÔºåÂ¶Ç-10"
          type="text"
          bind:input="onTemperatureNumberInput"
          bind:change="onTemperatureInput"
          data-unit="celsius"
          input-align="right"
        />
        <van-field
          value="{{ temperatureValues.fahrenheit }}"
          label="ÂçéÊ∞èÂ∫¶ (¬∞F)"
          placeholder="ÊîØÊåÅË¥üÊï∞ÔºåÂ¶Ç-5"
          type="text"
          bind:input="onTemperatureNumberInput"
          bind:change="onTemperatureInput"
          data-unit="fahrenheit"
          input-align="right"
        />
        <van-field
          value="{{ temperatureValues.kelvin }}"
          label="ÂºÄÂ∞îÊñá (K)"
          placeholder="ËØ∑ËæìÂÖ•Êï∞ÂÄº"
          type="digit"
          bind:change="onTemperatureInput"
          data-unit="kelvin"
          input-align="right"
        />
        <van-cell class="button-cell">
          <van-button type="primary" bind:click="convertTemperature">Êç¢ÁÆó</van-button>
        </van-cell>
        <van-cell class="button-cell">
          <van-button type="default" bind:click="clearTemperature">Ê∏ÖÁ©∫</van-button>
        </van-cell>
      </van-cell-group>
    </van-tab>

    <!-- ÈáçÈáèÊç¢ÁÆó -->
    <van-tab title="ÈáçÈáè" name="weight">
      <!-- üéØ Âü∫‰∫éContext7ÊúÄ‰Ω≥ÂÆûË∑µÔºöÂú®Ê†áÈ¢ò‰∏ãÊñπÊòæÁ§∫ÂπøÂëä -->
      <view wx:if="{{ showAd && !userPreferences.reduceAds }}" class="calculator-ad-container">
        <view class="ad-container">
          <ad-template 
            unit-id="{{ adUnitId }}"
            ad-type="custom"
            context="converter"
            bind:adload="onAdLoad"
            bind:aderror="onAdError"
          />
        </view>
      </view>
      
      <van-cell-group title="ÈáçÈáèÊç¢ÁÆó">
        <van-field
          value="{{ weightValues.gram }}"
          label="ÂÖã (g)"
          placeholder="ËØ∑ËæìÂÖ•Êï∞ÂÄº"
          type="digit"
          bind:change="onWeightInput"
          data-unit="gram"
          input-align="right"
        />
        <van-field
          value="{{ weightValues.kilogram }}"
          label="ÂçÉÂÖã (kg)"
          placeholder="ËØ∑ËæìÂÖ•Êï∞ÂÄº"
          type="digit"
          bind:change="onWeightInput"
          data-unit="kilogram"
          input-align="right"
        />
        <van-field
          value="{{ weightValues.pound }}"
          label="Á£Ö (lb)"
          placeholder="ËØ∑ËæìÂÖ•Êï∞ÂÄº"
          type="digit"
          bind:change="onWeightInput"
          data-unit="pound"
          input-align="right"
        />
        <van-cell class="button-cell">
          <van-button type="primary" bind:click="convertWeight">Êç¢ÁÆó</van-button>
        </van-cell>
        <van-cell class="button-cell">
          <van-button type="default" block bind:click="clearWeight">Ê∏ÖÁ©∫</van-button>
        </van-cell>
      </van-cell-group>
    </van-tab>
  </van-tabs>
</view>

<van-toast id="van-toast" /> 