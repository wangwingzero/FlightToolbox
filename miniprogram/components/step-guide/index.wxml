<!--åˆ†æ­¥å¼•å¯¼ç»„ä»¶-->
<view class="step-guide-container">
  <!-- æ­¥éª¤æŒ‡ç¤ºå™¨ -->
  <view class="step-indicator">
    <block wx:for="{{ steps }}" wx:key="step" wx:for-index="index">
      <view 
        class="step-item {{ currentStep >= item.step ? (currentStep === item.step ? 'active' : 'completed') : '' }} {{ allowNavigation ? 'clickable' : '' }}"
        bind:tap="goToStep"
        data-step="{{ item.step }}"
      >
        <view class="step-number">{{ item.step }}</view>
        <view class="step-label">{{ item.label }}</view>
      </view>
      
      <!-- æ­¥éª¤è¿æ¥çº¿ -->
      <view 
        wx:if="{{ index < steps.length - 1 }}"
        class="step-line {{ currentStep > item.step ? 'completed' : '' }}"
      ></view>
    </block>
  </view>

  <!-- å®æ—¶é¢„è§ˆåŒºåŸŸ -->
  <view class="preview-section" wx:if="{{ showPreview }}">
    <view class="preview-header">
      <view class="preview-title">{{ previewTitle }}</view>
    </view>
    <view class="preview-content">
      <slot name="preview"></slot>
    </view>
  </view>

  <!-- æ­¥éª¤å†…å®¹åŒºåŸŸ -->
  <view class="step-content">
    <slot name="content"></slot>
  </view>

  <!-- æ­¥éª¤å¯¼èˆªæŒ‰é’® -->
  <view class="step-navigation" wx:if="{{ showNavigation }}">
    <view class="nav-button-container">
      <button 
        class="nav-button prev-button" 
        disabled="{{ currentStep === 1 || disablePrev }}"
        bind:tap="prevStep"
      >
        <text class="button-icon">â¬…ï¸</text>
        <text class="button-text">{{ prevButtonText || 'ä¸Šä¸€æ­¥' }}</text>
      </button>
      
      <button 
        class="nav-button next-button {{ currentStep === totalSteps ? 'final-step' : '' }}" 
        disabled="{{ disableNext }}"
        bind:tap="nextStep"
      >
        <text class="button-icon">{{ currentStep === totalSteps ? 'ğŸš€' : 'â¡ï¸' }}</text>
        <text class="button-text">{{ nextButtonText || (currentStep === totalSteps ? 'å®Œæˆ' : 'ä¸‹ä¸€æ­¥') }}</text>
      </button>
    </view>
  </view>
</view>